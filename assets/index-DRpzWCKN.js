var vg=t=>{throw TypeError(t)};var pd=(t,e,n)=>e.has(t)||vg("Cannot "+n);var N=(t,e,n)=>(pd(t,e,"read from private field"),n?n.call(t):e.get(t)),se=(t,e,n)=>e.has(t)?vg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),q=(t,e,n,r)=>(pd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ye=(t,e,n)=>(pd(t,e,"access private method"),n);var cl=(t,e,n,r)=>({set _(s){q(t,e,s,n)},get _(){return N(t,e,r)}});function $b(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function z_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var B_={exports:{}},fu={},W_={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $a=Symbol.for("react.element"),zb=Symbol.for("react.portal"),Bb=Symbol.for("react.fragment"),Wb=Symbol.for("react.strict_mode"),Vb=Symbol.for("react.profiler"),Hb=Symbol.for("react.provider"),Gb=Symbol.for("react.context"),Kb=Symbol.for("react.forward_ref"),qb=Symbol.for("react.suspense"),Qb=Symbol.for("react.memo"),Yb=Symbol.for("react.lazy"),yg=Symbol.iterator;function Xb(t){return t===null||typeof t!="object"?null:(t=yg&&t[yg]||t["@@iterator"],typeof t=="function"?t:null)}var V_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H_=Object.assign,G_={};function Zi(t,e,n){this.props=t,this.context=e,this.refs=G_,this.updater=n||V_}Zi.prototype.isReactComponent={};Zi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function K_(){}K_.prototype=Zi.prototype;function ep(t,e,n){this.props=t,this.context=e,this.refs=G_,this.updater=n||V_}var tp=ep.prototype=new K_;tp.constructor=ep;H_(tp,Zi.prototype);tp.isPureReactComponent=!0;var _g=Array.isArray,q_=Object.prototype.hasOwnProperty,np={current:null},Q_={key:!0,ref:!0,__self:!0,__source:!0};function Y_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)q_.call(e,r)&&!Q_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:$a,type:t,key:i,ref:o,props:s,_owner:np.current}}function Jb(t,e){return{$$typeof:$a,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rp(t){return typeof t=="object"&&t!==null&&t.$$typeof===$a}function Zb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wg=/\/+/g;function md(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Zb(""+t.key):e.toString(36)}function zl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $a:case zb:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+md(o,0):r,_g(s)?(n="",t!=null&&(n=t.replace(wg,"$&/")+"/"),zl(s,e,n,"",function(c){return c})):s!=null&&(rp(s)&&(s=Jb(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",_g(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+md(i,a);o+=zl(i,e,n,l,s)}else if(l=Xb(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+md(i,a++),o+=zl(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ul(t,e,n){if(t==null)return t;var r=[],s=0;return zl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function eT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dt={current:null},Bl={transition:null},tT={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:Bl,ReactCurrentOwner:np};function X_(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:ul,forEach:function(t,e,n){ul(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ul(t,function(){e++}),e},toArray:function(t){return ul(t,function(e){return e})||[]},only:function(t){if(!rp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=Zi;te.Fragment=Bb;te.Profiler=Vb;te.PureComponent=ep;te.StrictMode=Wb;te.Suspense=qb;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tT;te.act=X_;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=H_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=np.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)q_.call(e,l)&&!Q_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:$a,type:t.type,key:s,ref:i,props:r,_owner:o}};te.createContext=function(t){return t={$$typeof:Gb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Hb,_context:t},t.Consumer=t};te.createElement=Y_;te.createFactory=function(t){var e=Y_.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:Kb,render:t}};te.isValidElement=rp;te.lazy=function(t){return{$$typeof:Yb,_payload:{_status:-1,_result:t},_init:eT}};te.memo=function(t,e){return{$$typeof:Qb,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=Bl.transition;Bl.transition={};try{t()}finally{Bl.transition=e}};te.unstable_act=X_;te.useCallback=function(t,e){return dt.current.useCallback(t,e)};te.useContext=function(t){return dt.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return dt.current.useDeferredValue(t)};te.useEffect=function(t,e){return dt.current.useEffect(t,e)};te.useId=function(){return dt.current.useId()};te.useImperativeHandle=function(t,e,n){return dt.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return dt.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return dt.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return dt.current.useMemo(t,e)};te.useReducer=function(t,e,n){return dt.current.useReducer(t,e,n)};te.useRef=function(t){return dt.current.useRef(t)};te.useState=function(t){return dt.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return dt.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return dt.current.useTransition()};te.version="18.3.1";W_.exports=te;var v=W_.exports;const D=z_(v),sp=$b({__proto__:null,default:D},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT=v,rT=Symbol.for("react.element"),sT=Symbol.for("react.fragment"),iT=Object.prototype.hasOwnProperty,oT=nT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aT={key:!0,ref:!0,__self:!0,__source:!0};function J_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)iT.call(e,r)&&!aT.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:rT,type:t,key:i,ref:o,props:s,_owner:oT.current}}fu.Fragment=sT;fu.jsx=J_;fu.jsxs=J_;B_.exports=fu;var p=B_.exports,Z_={exports:{}},It={},ew={exports:{}},tw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,k){var j=I.length;I.push(k);e:for(;0<j;){var Q=j-1>>>1,z=I[Q];if(0<s(z,k))I[Q]=k,I[j]=z,j=Q;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var k=I[0],j=I.pop();if(j!==k){I[0]=j;e:for(var Q=0,z=I.length,Z=z>>>1;Q<Z;){var ne=2*(Q+1)-1,Ae=I[ne],Qe=ne+1,ae=I[Qe];if(0>s(Ae,j))Qe<z&&0>s(ae,Ae)?(I[Q]=ae,I[Qe]=j,Q=Qe):(I[Q]=Ae,I[ne]=j,Q=ne);else if(Qe<z&&0>s(ae,j))I[Q]=ae,I[Qe]=j,Q=Qe;else break e}}return k}function s(I,k){var j=I.sortIndex-k.sortIndex;return j!==0?j:I.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,u=null,f=3,h=!1,x=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(I){for(var k=n(c);k!==null;){if(k.callback===null)r(c);else if(k.startTime<=I)r(c),k.sortIndex=k.expirationTime,e(l,k);else break;k=n(c)}}function E(I){if(m=!1,_(I),!x)if(n(l)!==null)x=!0,$(C);else{var k=n(c);k!==null&&B(E,k.startTime-I)}}function C(I,k){x=!1,m&&(m=!1,y(T),T=-1),h=!0;var j=f;try{for(_(k),u=n(l);u!==null&&(!(u.expirationTime>k)||I&&!F());){var Q=u.callback;if(typeof Q=="function"){u.callback=null,f=u.priorityLevel;var z=Q(u.expirationTime<=k);k=t.unstable_now(),typeof z=="function"?u.callback=z:u===n(l)&&r(l),_(k)}else r(l);u=n(l)}if(u!==null)var Z=!0;else{var ne=n(c);ne!==null&&B(E,ne.startTime-k),Z=!1}return Z}finally{u=null,f=j,h=!1}}var S=!1,b=null,T=-1,P=5,R=-1;function F(){return!(t.unstable_now()-R<P)}function M(){if(b!==null){var I=t.unstable_now();R=I;var k=!0;try{k=b(!0,I)}finally{k?H():(S=!1,b=null)}}else S=!1}var H;if(typeof g=="function")H=function(){g(M)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,G=L.port2;L.port1.onmessage=M,H=function(){G.postMessage(null)}}else H=function(){w(M,0)};function $(I){b=I,S||(S=!0,H())}function B(I,k){T=w(function(){I(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){x||h||(x=!0,$(C))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(f){case 1:case 2:case 3:var k=3;break;default:k=f}var j=f;f=k;try{return I()}finally{f=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,k){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var j=f;f=I;try{return k()}finally{f=j}},t.unstable_scheduleCallback=function(I,k,j){var Q=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Q+j:Q):j=Q,I){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=j+z,I={id:d++,callback:k,priorityLevel:I,startTime:j,expirationTime:z,sortIndex:-1},j>Q?(I.sortIndex=j,e(c,I),n(l)===null&&I===n(c)&&(m?(y(T),T=-1):m=!0,B(E,j-Q))):(I.sortIndex=z,e(l,I),x||h||(x=!0,$(C))),I},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(I){var k=f;return function(){var j=f;f=k;try{return I.apply(this,arguments)}finally{f=j}}}})(tw);ew.exports=tw;var lT=ew.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT=v,Tt=lT;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nw=new Set,ra={};function Ls(t,e){Fi(t,e),Fi(t+"Capture",e)}function Fi(t,e){for(ra[t]=e,t=0;t<e.length;t++)nw.add(e[t])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vf=Object.prototype.hasOwnProperty,uT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xg={},Eg={};function dT(t){return vf.call(Eg,t)?!0:vf.call(xg,t)?!1:uT.test(t)?Eg[t]=!0:(xg[t]=!0,!1)}function fT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hT(t,e,n,r){if(e===null||typeof e>"u"||fT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ft(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ge[t]=new ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ge[e]=new ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ge[t]=new ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ge[t]=new ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ge[t]=new ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ge[t]=new ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ge[t]=new ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ge[t]=new ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ge[t]=new ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var ip=/[\-:]([a-z])/g;function op(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ip,op);Ge[e]=new ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ip,op);Ge[e]=new ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ip,op);Ge[e]=new ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ge[t]=new ft(t,1,!1,t.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ge[t]=new ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function ap(t,e,n,r){var s=Ge.hasOwnProperty(e)?Ge[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hT(e,n,s,r)&&(n=null),r||s===null?dT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qn=cT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dl=Symbol.for("react.element"),Js=Symbol.for("react.portal"),Zs=Symbol.for("react.fragment"),lp=Symbol.for("react.strict_mode"),yf=Symbol.for("react.profiler"),rw=Symbol.for("react.provider"),sw=Symbol.for("react.context"),cp=Symbol.for("react.forward_ref"),_f=Symbol.for("react.suspense"),wf=Symbol.for("react.suspense_list"),up=Symbol.for("react.memo"),ur=Symbol.for("react.lazy"),iw=Symbol.for("react.offscreen"),Cg=Symbol.iterator;function _o(t){return t===null||typeof t!="object"?null:(t=Cg&&t[Cg]||t["@@iterator"],typeof t=="function"?t:null)}var Te=Object.assign,gd;function Oo(t){if(gd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gd=e&&e[1]||""}return`
`+gd+t}var vd=!1;function yd(t,e){if(!t||vd)return"";vd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{vd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oo(t):""}function pT(t){switch(t.tag){case 5:return Oo(t.type);case 16:return Oo("Lazy");case 13:return Oo("Suspense");case 19:return Oo("SuspenseList");case 0:case 2:case 15:return t=yd(t.type,!1),t;case 11:return t=yd(t.type.render,!1),t;case 1:return t=yd(t.type,!0),t;default:return""}}function xf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zs:return"Fragment";case Js:return"Portal";case yf:return"Profiler";case lp:return"StrictMode";case _f:return"Suspense";case wf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sw:return(t.displayName||"Context")+".Consumer";case rw:return(t._context.displayName||"Context")+".Provider";case cp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case up:return e=t.displayName||null,e!==null?e:xf(t.type)||"Memo";case ur:e=t._payload,t=t._init;try{return xf(t(e))}catch{}}return null}function mT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xf(e);case 8:return e===lp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $r(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ow(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gT(t){var e=ow(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fl(t){t._valueTracker||(t._valueTracker=gT(t))}function aw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ow(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ef(t,e){var n=e.checked;return Te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Sg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$r(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lw(t,e){e=e.checked,e!=null&&ap(t,"checked",e,!1)}function Cf(t,e){lw(t,e);var n=$r(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sf(t,e.type,$r(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sf(t,e,n){(e!=="number"||cc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Do=Array.isArray;function fi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$r(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function bf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return Te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(Do(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$r(n)}}function cw(t,e){var n=$r(e.value),r=$r(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ig(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hl,dw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hl=hl||document.createElement("div"),hl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vT=["Webkit","ms","Moz","O"];Object.keys(Uo).forEach(function(t){vT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uo[e]=Uo[t]})});function fw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Uo.hasOwnProperty(t)&&Uo[t]?(""+e).trim():e+"px"}function hw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=fw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var yT=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function If(t,e){if(e){if(yT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function kf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=null;function dp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pf=null,hi=null,pi=null;function kg(t){if(t=Wa(t)){if(typeof Pf!="function")throw Error(A(280));var e=t.stateNode;e&&(e=vu(e),Pf(t.stateNode,t.type,e))}}function pw(t){hi?pi?pi.push(t):pi=[t]:hi=t}function mw(){if(hi){var t=hi,e=pi;if(pi=hi=null,kg(t),e)for(t=0;t<e.length;t++)kg(e[t])}}function gw(t,e){return t(e)}function vw(){}var _d=!1;function yw(t,e,n){if(_d)return t(e,n);_d=!0;try{return gw(t,e,n)}finally{_d=!1,(hi!==null||pi!==null)&&(vw(),mw())}}function ia(t,e){var n=t.stateNode;if(n===null)return null;var r=vu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var Rf=!1;if(Un)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){Rf=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{Rf=!1}function _T(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var $o=!1,uc=null,dc=!1,Af=null,wT={onError:function(t){$o=!0,uc=t}};function xT(t,e,n,r,s,i,o,a,l){$o=!1,uc=null,_T.apply(wT,arguments)}function ET(t,e,n,r,s,i,o,a,l){if(xT.apply(this,arguments),$o){if($o){var c=uc;$o=!1,uc=null}else throw Error(A(198));dc||(dc=!0,Af=c)}}function Fs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _w(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ng(t){if(Fs(t)!==t)throw Error(A(188))}function CT(t){var e=t.alternate;if(!e){if(e=Fs(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ng(s),t;if(i===r)return Ng(s),e;i=i.sibling}throw Error(A(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function ww(t){return t=CT(t),t!==null?xw(t):null}function xw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xw(t);if(e!==null)return e;t=t.sibling}return null}var Ew=Tt.unstable_scheduleCallback,Pg=Tt.unstable_cancelCallback,ST=Tt.unstable_shouldYield,bT=Tt.unstable_requestPaint,Re=Tt.unstable_now,TT=Tt.unstable_getCurrentPriorityLevel,fp=Tt.unstable_ImmediatePriority,Cw=Tt.unstable_UserBlockingPriority,fc=Tt.unstable_NormalPriority,IT=Tt.unstable_LowPriority,Sw=Tt.unstable_IdlePriority,hu=null,vn=null;function kT(t){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(hu,t,void 0,(t.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:RT,NT=Math.log,PT=Math.LN2;function RT(t){return t>>>=0,t===0?32:31-(NT(t)/PT|0)|0}var pl=64,ml=4194304;function Mo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Mo(a):(i&=o,i!==0&&(r=Mo(i)))}else o=n&~s,o!==0?r=Mo(o):i!==0&&(r=Mo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-en(e),s=1<<n,r|=t[n],e&=~s;return r}function AT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-en(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=AT(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Of(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bw(){var t=pl;return pl<<=1,!(pl&4194240)&&(pl=64),t}function wd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function za(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-en(e),t[e]=n}function DT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-en(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function hp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-en(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var le=0;function Tw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Iw,pp,kw,Nw,Pw,Df=!1,gl=[],Ir=null,kr=null,Nr=null,oa=new Map,aa=new Map,fr=[],MT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rg(t,e){switch(t){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":oa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":aa.delete(e.pointerId)}}function xo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wa(e),e!==null&&pp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function LT(t,e,n,r,s){switch(e){case"focusin":return Ir=xo(Ir,t,e,n,r,s),!0;case"dragenter":return kr=xo(kr,t,e,n,r,s),!0;case"mouseover":return Nr=xo(Nr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return oa.set(i,xo(oa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,aa.set(i,xo(aa.get(i)||null,t,e,n,r,s)),!0}return!1}function Rw(t){var e=us(t.target);if(e!==null){var n=Fs(e);if(n!==null){if(e=n.tag,e===13){if(e=_w(n),e!==null){t.blockedOn=e,Pw(t.priority,function(){kw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nf=r,n.target.dispatchEvent(r),Nf=null}else return e=Wa(n),e!==null&&pp(e),t.blockedOn=n,!1;e.shift()}return!0}function Ag(t,e,n){Wl(t)&&n.delete(e)}function FT(){Df=!1,Ir!==null&&Wl(Ir)&&(Ir=null),kr!==null&&Wl(kr)&&(kr=null),Nr!==null&&Wl(Nr)&&(Nr=null),oa.forEach(Ag),aa.forEach(Ag)}function Eo(t,e){t.blockedOn===e&&(t.blockedOn=null,Df||(Df=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,FT)))}function la(t){function e(s){return Eo(s,t)}if(0<gl.length){Eo(gl[0],t);for(var n=1;n<gl.length;n++){var r=gl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ir!==null&&Eo(Ir,t),kr!==null&&Eo(kr,t),Nr!==null&&Eo(Nr,t),oa.forEach(e),aa.forEach(e),n=0;n<fr.length;n++)r=fr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fr.length&&(n=fr[0],n.blockedOn===null);)Rw(n),n.blockedOn===null&&fr.shift()}var mi=Qn.ReactCurrentBatchConfig,pc=!0;function jT(t,e,n,r){var s=le,i=mi.transition;mi.transition=null;try{le=1,mp(t,e,n,r)}finally{le=s,mi.transition=i}}function UT(t,e,n,r){var s=le,i=mi.transition;mi.transition=null;try{le=4,mp(t,e,n,r)}finally{le=s,mi.transition=i}}function mp(t,e,n,r){if(pc){var s=Mf(t,e,n,r);if(s===null)Pd(t,e,r,mc,n),Rg(t,r);else if(LT(s,t,e,n,r))r.stopPropagation();else if(Rg(t,r),e&4&&-1<MT.indexOf(t)){for(;s!==null;){var i=Wa(s);if(i!==null&&Iw(i),i=Mf(t,e,n,r),i===null&&Pd(t,e,r,mc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Pd(t,e,r,null,n)}}var mc=null;function Mf(t,e,n,r){if(mc=null,t=dp(r),t=us(t),t!==null)if(e=Fs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_w(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mc=t,null}function Aw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TT()){case fp:return 1;case Cw:return 4;case fc:case IT:return 16;case Sw:return 536870912;default:return 16}default:return 16}}var Cr=null,gp=null,Vl=null;function Ow(){if(Vl)return Vl;var t,e=gp,n=e.length,r,s="value"in Cr?Cr.value:Cr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Vl=s.slice(t,1<r?1-r:void 0)}function Hl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vl(){return!0}function Og(){return!1}function kt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vl:Og,this.isPropagationStopped=Og,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),e}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vp=kt(eo),Ba=Te({},eo,{view:0,detail:0}),$T=kt(Ba),xd,Ed,Co,pu=Te({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Co&&(Co&&t.type==="mousemove"?(xd=t.screenX-Co.screenX,Ed=t.screenY-Co.screenY):Ed=xd=0,Co=t),xd)},movementY:function(t){return"movementY"in t?t.movementY:Ed}}),Dg=kt(pu),zT=Te({},pu,{dataTransfer:0}),BT=kt(zT),WT=Te({},Ba,{relatedTarget:0}),Cd=kt(WT),VT=Te({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),HT=kt(VT),GT=Te({},eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KT=kt(GT),qT=Te({},eo,{data:0}),Mg=kt(qT),QT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XT[t])?!!e[t]:!1}function yp(){return JT}var ZT=Te({},Ba,{key:function(t){if(t.key){var e=QT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yp,charCode:function(t){return t.type==="keypress"?Hl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eI=kt(ZT),tI=Te({},pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lg=kt(tI),nI=Te({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yp}),rI=kt(nI),sI=Te({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),iI=kt(sI),oI=Te({},pu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aI=kt(oI),lI=[9,13,27,32],_p=Un&&"CompositionEvent"in window,zo=null;Un&&"documentMode"in document&&(zo=document.documentMode);var cI=Un&&"TextEvent"in window&&!zo,Dw=Un&&(!_p||zo&&8<zo&&11>=zo),Fg=" ",jg=!1;function Mw(t,e){switch(t){case"keyup":return lI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ei=!1;function uI(t,e){switch(t){case"compositionend":return Lw(e);case"keypress":return e.which!==32?null:(jg=!0,Fg);case"textInput":return t=e.data,t===Fg&&jg?null:t;default:return null}}function dI(t,e){if(ei)return t==="compositionend"||!_p&&Mw(t,e)?(t=Ow(),Vl=gp=Cr=null,ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dw&&e.locale!=="ko"?null:e.data;default:return null}}var fI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ug(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fI[t.type]:e==="textarea"}function Fw(t,e,n,r){pw(r),e=gc(e,"onChange"),0<e.length&&(n=new vp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bo=null,ca=null;function hI(t){qw(t,0)}function mu(t){var e=ri(t);if(aw(e))return t}function pI(t,e){if(t==="change")return e}var jw=!1;if(Un){var Sd;if(Un){var bd="oninput"in document;if(!bd){var $g=document.createElement("div");$g.setAttribute("oninput","return;"),bd=typeof $g.oninput=="function"}Sd=bd}else Sd=!1;jw=Sd&&(!document.documentMode||9<document.documentMode)}function zg(){Bo&&(Bo.detachEvent("onpropertychange",Uw),ca=Bo=null)}function Uw(t){if(t.propertyName==="value"&&mu(ca)){var e=[];Fw(e,ca,t,dp(t)),yw(hI,e)}}function mI(t,e,n){t==="focusin"?(zg(),Bo=e,ca=n,Bo.attachEvent("onpropertychange",Uw)):t==="focusout"&&zg()}function gI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mu(ca)}function vI(t,e){if(t==="click")return mu(e)}function yI(t,e){if(t==="input"||t==="change")return mu(e)}function _I(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rn=typeof Object.is=="function"?Object.is:_I;function ua(t,e){if(rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!vf.call(e,s)||!rn(t[s],e[s]))return!1}return!0}function Bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wg(t,e){var n=Bg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bg(n)}}function $w(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$w(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zw(){for(var t=window,e=cc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cc(t.document)}return e}function wp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wI(t){var e=zw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$w(n.ownerDocument.documentElement,n)){if(r!==null&&wp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Wg(n,i);var o=Wg(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xI=Un&&"documentMode"in document&&11>=document.documentMode,ti=null,Lf=null,Wo=null,Ff=!1;function Vg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ff||ti==null||ti!==cc(r)||(r=ti,"selectionStart"in r&&wp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wo&&ua(Wo,r)||(Wo=r,r=gc(Lf,"onSelect"),0<r.length&&(e=new vp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ti)))}function yl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ni={animationend:yl("Animation","AnimationEnd"),animationiteration:yl("Animation","AnimationIteration"),animationstart:yl("Animation","AnimationStart"),transitionend:yl("Transition","TransitionEnd")},Td={},Bw={};Un&&(Bw=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function gu(t){if(Td[t])return Td[t];if(!ni[t])return t;var e=ni[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Bw)return Td[t]=e[n];return t}var Ww=gu("animationend"),Vw=gu("animationiteration"),Hw=gu("animationstart"),Gw=gu("transitionend"),Kw=new Map,Hg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(t,e){Kw.set(t,e),Ls(e,[t])}for(var Id=0;Id<Hg.length;Id++){var kd=Hg[Id],EI=kd.toLowerCase(),CI=kd[0].toUpperCase()+kd.slice(1);Kr(EI,"on"+CI)}Kr(Ww,"onAnimationEnd");Kr(Vw,"onAnimationIteration");Kr(Hw,"onAnimationStart");Kr("dblclick","onDoubleClick");Kr("focusin","onFocus");Kr("focusout","onBlur");Kr(Gw,"onTransitionEnd");Fi("onMouseEnter",["mouseout","mouseover"]);Fi("onMouseLeave",["mouseout","mouseover"]);Fi("onPointerEnter",["pointerout","pointerover"]);Fi("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function Gg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ET(r,e,void 0,t),t.currentTarget=null}function qw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Gg(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Gg(s,a,c),i=l}}}if(dc)throw t=Af,dc=!1,Af=null,t}function ye(t,e){var n=e[Bf];n===void 0&&(n=e[Bf]=new Set);var r=t+"__bubble";n.has(r)||(Qw(e,t,2,!1),n.add(r))}function Nd(t,e,n){var r=0;e&&(r|=4),Qw(n,t,r,e)}var _l="_reactListening"+Math.random().toString(36).slice(2);function da(t){if(!t[_l]){t[_l]=!0,nw.forEach(function(n){n!=="selectionchange"&&(SI.has(n)||Nd(n,!1,t),Nd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_l]||(e[_l]=!0,Nd("selectionchange",!1,e))}}function Qw(t,e,n,r){switch(Aw(e)){case 1:var s=jT;break;case 4:s=UT;break;default:s=mp}n=s.bind(null,e,n,t),s=void 0,!Rf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Pd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=us(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}yw(function(){var c=i,d=dp(n),u=[];e:{var f=Kw.get(t);if(f!==void 0){var h=vp,x=t;switch(t){case"keypress":if(Hl(n)===0)break e;case"keydown":case"keyup":h=eI;break;case"focusin":x="focus",h=Cd;break;case"focusout":x="blur",h=Cd;break;case"beforeblur":case"afterblur":h=Cd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=BT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=rI;break;case Ww:case Vw:case Hw:h=HT;break;case Gw:h=iI;break;case"scroll":h=$T;break;case"wheel":h=aI;break;case"copy":case"cut":case"paste":h=KT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Lg}var m=(e&4)!==0,w=!m&&t==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var g=c,_;g!==null;){_=g;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,y!==null&&(E=ia(g,y),E!=null&&m.push(fa(g,E,_)))),w)break;g=g.return}0<m.length&&(f=new h(f,x,null,n,d),u.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Nf&&(x=n.relatedTarget||n.fromElement)&&(us(x)||x[$n]))break e;if((h||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,h?(x=n.relatedTarget||n.toElement,h=c,x=x?us(x):null,x!==null&&(w=Fs(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(h=null,x=c),h!==x)){if(m=Dg,E="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=Lg,E="onPointerLeave",y="onPointerEnter",g="pointer"),w=h==null?f:ri(h),_=x==null?f:ri(x),f=new m(E,g+"leave",h,n,d),f.target=w,f.relatedTarget=_,E=null,us(d)===c&&(m=new m(y,g+"enter",x,n,d),m.target=_,m.relatedTarget=w,E=m),w=E,h&&x)t:{for(m=h,y=x,g=0,_=m;_;_=Ks(_))g++;for(_=0,E=y;E;E=Ks(E))_++;for(;0<g-_;)m=Ks(m),g--;for(;0<_-g;)y=Ks(y),_--;for(;g--;){if(m===y||y!==null&&m===y.alternate)break t;m=Ks(m),y=Ks(y)}m=null}else m=null;h!==null&&Kg(u,f,h,m,!1),x!==null&&w!==null&&Kg(u,w,x,m,!0)}}e:{if(f=c?ri(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var C=pI;else if(Ug(f))if(jw)C=yI;else{C=gI;var S=mI}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=vI);if(C&&(C=C(t,c))){Fw(u,C,n,d);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Sf(f,"number",f.value)}switch(S=c?ri(c):window,t){case"focusin":(Ug(S)||S.contentEditable==="true")&&(ti=S,Lf=c,Wo=null);break;case"focusout":Wo=Lf=ti=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,Vg(u,n,d);break;case"selectionchange":if(xI)break;case"keydown":case"keyup":Vg(u,n,d)}var b;if(_p)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ei?Mw(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Dw&&n.locale!=="ko"&&(ei||T!=="onCompositionStart"?T==="onCompositionEnd"&&ei&&(b=Ow()):(Cr=d,gp="value"in Cr?Cr.value:Cr.textContent,ei=!0)),S=gc(c,T),0<S.length&&(T=new Mg(T,t,null,n,d),u.push({event:T,listeners:S}),b?T.data=b:(b=Lw(n),b!==null&&(T.data=b)))),(b=cI?uI(t,n):dI(t,n))&&(c=gc(c,"onBeforeInput"),0<c.length&&(d=new Mg("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=b))}qw(u,e)})}function fa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ia(t,n),i!=null&&r.unshift(fa(t,i,s)),i=ia(t,e),i!=null&&r.push(fa(t,i,s))),t=t.return}return r}function Ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kg(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=ia(n,i),l!=null&&o.unshift(fa(n,l,a))):s||(l=ia(n,i),l!=null&&o.push(fa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var bI=/\r\n?/g,TI=/\u0000|\uFFFD/g;function qg(t){return(typeof t=="string"?t:""+t).replace(bI,`
`).replace(TI,"")}function wl(t,e,n){if(e=qg(e),qg(t)!==e&&n)throw Error(A(425))}function vc(){}var jf=null,Uf=null;function $f(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zf=typeof setTimeout=="function"?setTimeout:void 0,II=typeof clearTimeout=="function"?clearTimeout:void 0,Qg=typeof Promise=="function"?Promise:void 0,kI=typeof queueMicrotask=="function"?queueMicrotask:typeof Qg<"u"?function(t){return Qg.resolve(null).then(t).catch(NI)}:zf;function NI(t){setTimeout(function(){throw t})}function Rd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),la(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);la(e)}function Pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var to=Math.random().toString(36).slice(2),pn="__reactFiber$"+to,ha="__reactProps$"+to,$n="__reactContainer$"+to,Bf="__reactEvents$"+to,PI="__reactListeners$"+to,RI="__reactHandles$"+to;function us(t){var e=t[pn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$n]||n[pn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yg(t);t!==null;){if(n=t[pn])return n;t=Yg(t)}return e}t=n,n=t.parentNode}return null}function Wa(t){return t=t[pn]||t[$n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ri(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function vu(t){return t[ha]||null}var Wf=[],si=-1;function qr(t){return{current:t}}function _e(t){0>si||(t.current=Wf[si],Wf[si]=null,si--)}function ge(t,e){si++,Wf[si]=t.current,t.current=e}var zr={},tt=qr(zr),vt=qr(!1),Es=zr;function ji(t,e){var n=t.type.contextTypes;if(!n)return zr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function yt(t){return t=t.childContextTypes,t!=null}function yc(){_e(vt),_e(tt)}function Xg(t,e,n){if(tt.current!==zr)throw Error(A(168));ge(tt,e),ge(vt,n)}function Yw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(A(108,mT(t)||"Unknown",s));return Te({},n,r)}function _c(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zr,Es=tt.current,ge(tt,t),ge(vt,vt.current),!0}function Jg(t,e,n){var r=t.stateNode;if(!r)throw Error(A(169));n?(t=Yw(t,e,Es),r.__reactInternalMemoizedMergedChildContext=t,_e(vt),_e(tt),ge(tt,t)):_e(vt),ge(vt,n)}var Nn=null,yu=!1,Ad=!1;function Xw(t){Nn===null?Nn=[t]:Nn.push(t)}function AI(t){yu=!0,Xw(t)}function Qr(){if(!Ad&&Nn!==null){Ad=!0;var t=0,e=le;try{var n=Nn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nn=null,yu=!1}catch(s){throw Nn!==null&&(Nn=Nn.slice(t+1)),Ew(fp,Qr),s}finally{le=e,Ad=!1}}return null}var ii=[],oi=0,wc=null,xc=0,Rt=[],At=0,Cs=null,Rn=1,An="";function is(t,e){ii[oi++]=xc,ii[oi++]=wc,wc=t,xc=e}function Jw(t,e,n){Rt[At++]=Rn,Rt[At++]=An,Rt[At++]=Cs,Cs=t;var r=Rn;t=An;var s=32-en(r)-1;r&=~(1<<s),n+=1;var i=32-en(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Rn=1<<32-en(e)+s|n<<s|r,An=i+t}else Rn=1<<i|n<<s|r,An=t}function xp(t){t.return!==null&&(is(t,1),Jw(t,1,0))}function Ep(t){for(;t===wc;)wc=ii[--oi],ii[oi]=null,xc=ii[--oi],ii[oi]=null;for(;t===Cs;)Cs=Rt[--At],Rt[At]=null,An=Rt[--At],Rt[At]=null,Rn=Rt[--At],Rt[At]=null}var St=null,Ct=null,Ce=!1,Yt=null;function Zw(t,e){var n=Dt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,St=t,Ct=Pr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,St=t,Ct=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Cs!==null?{id:Rn,overflow:An}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,St=t,Ct=null,!0):!1;default:return!1}}function Vf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hf(t){if(Ce){var e=Ct;if(e){var n=e;if(!Zg(t,e)){if(Vf(t))throw Error(A(418));e=Pr(n.nextSibling);var r=St;e&&Zg(t,e)?Zw(r,n):(t.flags=t.flags&-4097|2,Ce=!1,St=t)}}else{if(Vf(t))throw Error(A(418));t.flags=t.flags&-4097|2,Ce=!1,St=t}}}function ev(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;St=t}function xl(t){if(t!==St)return!1;if(!Ce)return ev(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$f(t.type,t.memoizedProps)),e&&(e=Ct)){if(Vf(t))throw e0(),Error(A(418));for(;e;)Zw(t,e),e=Pr(e.nextSibling)}if(ev(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ct=Pr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ct=null}}else Ct=St?Pr(t.stateNode.nextSibling):null;return!0}function e0(){for(var t=Ct;t;)t=Pr(t.nextSibling)}function Ui(){Ct=St=null,Ce=!1}function Cp(t){Yt===null?Yt=[t]:Yt.push(t)}var OI=Qn.ReactCurrentBatchConfig;function So(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function El(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tv(t){var e=t._init;return e(t._payload)}function t0(t){function e(y,g){if(t){var _=y.deletions;_===null?(y.deletions=[g],y.flags|=16):_.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=Dr(y,g),y.index=0,y.sibling=null,y}function i(y,g,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<g?(y.flags|=2,g):_):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,_,E){return g===null||g.tag!==6?(g=Ud(_,y.mode,E),g.return=y,g):(g=s(g,_),g.return=y,g)}function l(y,g,_,E){var C=_.type;return C===Zs?d(y,g,_.props.children,E,_.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ur&&tv(C)===g.type)?(E=s(g,_.props),E.ref=So(y,g,_),E.return=y,E):(E=Jl(_.type,_.key,_.props,null,y.mode,E),E.ref=So(y,g,_),E.return=y,E)}function c(y,g,_,E){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=$d(_,y.mode,E),g.return=y,g):(g=s(g,_.children||[]),g.return=y,g)}function d(y,g,_,E,C){return g===null||g.tag!==7?(g=xs(_,y.mode,E,C),g.return=y,g):(g=s(g,_),g.return=y,g)}function u(y,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ud(""+g,y.mode,_),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case dl:return _=Jl(g.type,g.key,g.props,null,y.mode,_),_.ref=So(y,null,g),_.return=y,_;case Js:return g=$d(g,y.mode,_),g.return=y,g;case ur:var E=g._init;return u(y,E(g._payload),_)}if(Do(g)||_o(g))return g=xs(g,y.mode,_,null),g.return=y,g;El(y,g)}return null}function f(y,g,_,E){var C=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return C!==null?null:a(y,g,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case dl:return _.key===C?l(y,g,_,E):null;case Js:return _.key===C?c(y,g,_,E):null;case ur:return C=_._init,f(y,g,C(_._payload),E)}if(Do(_)||_o(_))return C!==null?null:d(y,g,_,E,null);El(y,_)}return null}function h(y,g,_,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(_)||null,a(g,y,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case dl:return y=y.get(E.key===null?_:E.key)||null,l(g,y,E,C);case Js:return y=y.get(E.key===null?_:E.key)||null,c(g,y,E,C);case ur:var S=E._init;return h(y,g,_,S(E._payload),C)}if(Do(E)||_o(E))return y=y.get(_)||null,d(g,y,E,C,null);El(g,E)}return null}function x(y,g,_,E){for(var C=null,S=null,b=g,T=g=0,P=null;b!==null&&T<_.length;T++){b.index>T?(P=b,b=null):P=b.sibling;var R=f(y,b,_[T],E);if(R===null){b===null&&(b=P);break}t&&b&&R.alternate===null&&e(y,b),g=i(R,g,T),S===null?C=R:S.sibling=R,S=R,b=P}if(T===_.length)return n(y,b),Ce&&is(y,T),C;if(b===null){for(;T<_.length;T++)b=u(y,_[T],E),b!==null&&(g=i(b,g,T),S===null?C=b:S.sibling=b,S=b);return Ce&&is(y,T),C}for(b=r(y,b);T<_.length;T++)P=h(b,y,T,_[T],E),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?T:P.key),g=i(P,g,T),S===null?C=P:S.sibling=P,S=P);return t&&b.forEach(function(F){return e(y,F)}),Ce&&is(y,T),C}function m(y,g,_,E){var C=_o(_);if(typeof C!="function")throw Error(A(150));if(_=C.call(_),_==null)throw Error(A(151));for(var S=C=null,b=g,T=g=0,P=null,R=_.next();b!==null&&!R.done;T++,R=_.next()){b.index>T?(P=b,b=null):P=b.sibling;var F=f(y,b,R.value,E);if(F===null){b===null&&(b=P);break}t&&b&&F.alternate===null&&e(y,b),g=i(F,g,T),S===null?C=F:S.sibling=F,S=F,b=P}if(R.done)return n(y,b),Ce&&is(y,T),C;if(b===null){for(;!R.done;T++,R=_.next())R=u(y,R.value,E),R!==null&&(g=i(R,g,T),S===null?C=R:S.sibling=R,S=R);return Ce&&is(y,T),C}for(b=r(y,b);!R.done;T++,R=_.next())R=h(b,y,T,R.value,E),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?T:R.key),g=i(R,g,T),S===null?C=R:S.sibling=R,S=R);return t&&b.forEach(function(M){return e(y,M)}),Ce&&is(y,T),C}function w(y,g,_,E){if(typeof _=="object"&&_!==null&&_.type===Zs&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case dl:e:{for(var C=_.key,S=g;S!==null;){if(S.key===C){if(C=_.type,C===Zs){if(S.tag===7){n(y,S.sibling),g=s(S,_.props.children),g.return=y,y=g;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ur&&tv(C)===S.type){n(y,S.sibling),g=s(S,_.props),g.ref=So(y,S,_),g.return=y,y=g;break e}n(y,S);break}else e(y,S);S=S.sibling}_.type===Zs?(g=xs(_.props.children,y.mode,E,_.key),g.return=y,y=g):(E=Jl(_.type,_.key,_.props,null,y.mode,E),E.ref=So(y,g,_),E.return=y,y=E)}return o(y);case Js:e:{for(S=_.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(y,g.sibling),g=s(g,_.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=$d(_,y.mode,E),g.return=y,y=g}return o(y);case ur:return S=_._init,w(y,g,S(_._payload),E)}if(Do(_))return x(y,g,_,E);if(_o(_))return m(y,g,_,E);El(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(n(y,g.sibling),g=s(g,_),g.return=y,y=g):(n(y,g),g=Ud(_,y.mode,E),g.return=y,y=g),o(y)):n(y,g)}return w}var $i=t0(!0),n0=t0(!1),Ec=qr(null),Cc=null,ai=null,Sp=null;function bp(){Sp=ai=Cc=null}function Tp(t){var e=Ec.current;_e(Ec),t._currentValue=e}function Gf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gi(t,e){Cc=t,Sp=ai=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mt=!0),t.firstContext=null)}function Ft(t){var e=t._currentValue;if(Sp!==t)if(t={context:t,memoizedValue:e,next:null},ai===null){if(Cc===null)throw Error(A(308));ai=t,Cc.dependencies={lanes:0,firstContext:t}}else ai=ai.next=t;return e}var ds=null;function Ip(t){ds===null?ds=[t]:ds.push(t)}function r0(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ip(e)):(n.next=s.next,s.next=n),e.interleaved=n,zn(t,r)}function zn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var dr=!1;function kp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ln(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,zn(t,n)}return s=r.interleaved,s===null?(e.next=e,Ip(r)):(e.next=s.next,s.next=e),r.interleaved=e,zn(t,n)}function Gl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hp(t,n)}}function nv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sc(t,e,n,r){var s=t.updateQueue;dr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var u=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,h=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,m=a;switch(f=e,h=n,m.tag){case 1:if(x=m.payload,typeof x=="function"){u=x.call(h,u,f);break e}u=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,f=typeof x=="function"?x.call(h,u,f):x,f==null)break e;u=Te({},u,f);break e;case 2:dr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=h,l=u):d=d.next=h,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);bs|=o,t.lanes=o,t.memoizedState=u}}function rv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(A(191,s));s.call(r)}}}var Va={},yn=qr(Va),pa=qr(Va),ma=qr(Va);function fs(t){if(t===Va)throw Error(A(174));return t}function Np(t,e){switch(ge(ma,e),ge(pa,t),ge(yn,Va),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tf(e,t)}_e(yn),ge(yn,e)}function zi(){_e(yn),_e(pa),_e(ma)}function i0(t){fs(ma.current);var e=fs(yn.current),n=Tf(e,t.type);e!==n&&(ge(pa,t),ge(yn,n))}function Pp(t){pa.current===t&&(_e(yn),_e(pa))}var Se=qr(0);function bc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Od=[];function Rp(){for(var t=0;t<Od.length;t++)Od[t]._workInProgressVersionPrimary=null;Od.length=0}var Kl=Qn.ReactCurrentDispatcher,Dd=Qn.ReactCurrentBatchConfig,Ss=0,be=null,De=null,$e=null,Tc=!1,Vo=!1,ga=0,DI=0;function Xe(){throw Error(A(321))}function Ap(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rn(t[n],e[n]))return!1;return!0}function Op(t,e,n,r,s,i){if(Ss=i,be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kl.current=t===null||t.memoizedState===null?jI:UI,t=n(r,s),Vo){i=0;do{if(Vo=!1,ga=0,25<=i)throw Error(A(301));i+=1,$e=De=null,e.updateQueue=null,Kl.current=$I,t=n(r,s)}while(Vo)}if(Kl.current=Ic,e=De!==null&&De.next!==null,Ss=0,$e=De=be=null,Tc=!1,e)throw Error(A(300));return t}function Dp(){var t=ga!==0;return ga=0,t}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?be.memoizedState=$e=t:$e=$e.next=t,$e}function jt(){if(De===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=$e===null?be.memoizedState:$e.next;if(e!==null)$e=e,De=t;else{if(t===null)throw Error(A(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},$e===null?be.memoizedState=$e=t:$e=$e.next=t}return $e}function va(t,e){return typeof e=="function"?e(t):e}function Md(t){var e=jt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=De,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Ss&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,o=r):l=l.next=u,be.lanes|=d,bs|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,rn(r,e.memoizedState)||(mt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,be.lanes|=i,bs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ld(t){var e=jt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);rn(i,e.memoizedState)||(mt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function o0(){}function a0(t,e){var n=be,r=jt(),s=e(),i=!rn(r.memoizedState,s);if(i&&(r.memoizedState=s,mt=!0),r=r.queue,Mp(u0.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,ya(9,c0.bind(null,n,r,s,e),void 0,null),Be===null)throw Error(A(349));Ss&30||l0(n,e,s)}return s}function l0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function c0(t,e,n,r){e.value=n,e.getSnapshot=r,d0(e)&&f0(t)}function u0(t,e,n){return n(function(){d0(e)&&f0(t)})}function d0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rn(t,n)}catch{return!0}}function f0(t){var e=zn(t,1);e!==null&&tn(e,t,1,-1)}function sv(t){var e=un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:t},e.queue=t,t=t.dispatch=FI.bind(null,be,t),[e.memoizedState,t]}function ya(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function h0(){return jt().memoizedState}function ql(t,e,n,r){var s=un();be.flags|=t,s.memoizedState=ya(1|e,n,void 0,r===void 0?null:r)}function _u(t,e,n,r){var s=jt();r=r===void 0?null:r;var i=void 0;if(De!==null){var o=De.memoizedState;if(i=o.destroy,r!==null&&Ap(r,o.deps)){s.memoizedState=ya(e,n,i,r);return}}be.flags|=t,s.memoizedState=ya(1|e,n,i,r)}function iv(t,e){return ql(8390656,8,t,e)}function Mp(t,e){return _u(2048,8,t,e)}function p0(t,e){return _u(4,2,t,e)}function m0(t,e){return _u(4,4,t,e)}function g0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function v0(t,e,n){return n=n!=null?n.concat([t]):null,_u(4,4,g0.bind(null,e,t),n)}function Lp(){}function y0(t,e){var n=jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ap(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _0(t,e){var n=jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ap(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function w0(t,e,n){return Ss&21?(rn(n,e)||(n=bw(),be.lanes|=n,bs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mt=!0),t.memoizedState=n)}function MI(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=Dd.transition;Dd.transition={};try{t(!1),e()}finally{le=n,Dd.transition=r}}function x0(){return jt().memoizedState}function LI(t,e,n){var r=Or(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},E0(t))C0(e,n);else if(n=r0(t,e,n,r),n!==null){var s=lt();tn(n,t,r,s),S0(n,e,r)}}function FI(t,e,n){var r=Or(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(E0(t))C0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,rn(a,o)){var l=e.interleaved;l===null?(s.next=s,Ip(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=r0(t,e,s,r),n!==null&&(s=lt(),tn(n,t,r,s),S0(n,e,r))}}function E0(t){var e=t.alternate;return t===be||e!==null&&e===be}function C0(t,e){Vo=Tc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function S0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hp(t,n)}}var Ic={readContext:Ft,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},jI={readContext:Ft,useCallback:function(t,e){return un().memoizedState=[t,e===void 0?null:e],t},useContext:Ft,useEffect:iv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ql(4194308,4,g0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ql(4194308,4,t,e)},useInsertionEffect:function(t,e){return ql(4,2,t,e)},useMemo:function(t,e){var n=un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LI.bind(null,be,t),[r.memoizedState,t]},useRef:function(t){var e=un();return t={current:t},e.memoizedState=t},useState:sv,useDebugValue:Lp,useDeferredValue:function(t){return un().memoizedState=t},useTransition:function(){var t=sv(!1),e=t[0];return t=MI.bind(null,t[1]),un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=be,s=un();if(Ce){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),Be===null)throw Error(A(349));Ss&30||l0(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,iv(u0.bind(null,r,i,t),[t]),r.flags|=2048,ya(9,c0.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=un(),e=Be.identifierPrefix;if(Ce){var n=An,r=Rn;n=(r&~(1<<32-en(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ga++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UI={readContext:Ft,useCallback:y0,useContext:Ft,useEffect:Mp,useImperativeHandle:v0,useInsertionEffect:p0,useLayoutEffect:m0,useMemo:_0,useReducer:Md,useRef:h0,useState:function(){return Md(va)},useDebugValue:Lp,useDeferredValue:function(t){var e=jt();return w0(e,De.memoizedState,t)},useTransition:function(){var t=Md(va)[0],e=jt().memoizedState;return[t,e]},useMutableSource:o0,useSyncExternalStore:a0,useId:x0,unstable_isNewReconciler:!1},$I={readContext:Ft,useCallback:y0,useContext:Ft,useEffect:Mp,useImperativeHandle:v0,useInsertionEffect:p0,useLayoutEffect:m0,useMemo:_0,useReducer:Ld,useRef:h0,useState:function(){return Ld(va)},useDebugValue:Lp,useDeferredValue:function(t){var e=jt();return De===null?e.memoizedState=t:w0(e,De.memoizedState,t)},useTransition:function(){var t=Ld(va)[0],e=jt().memoizedState;return[t,e]},useMutableSource:o0,useSyncExternalStore:a0,useId:x0,unstable_isNewReconciler:!1};function Ht(t,e){if(t&&t.defaultProps){e=Te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Kf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wu={isMounted:function(t){return(t=t._reactInternals)?Fs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=lt(),s=Or(t),i=Ln(r,s);i.payload=e,n!=null&&(i.callback=n),e=Rr(t,i,s),e!==null&&(tn(e,t,s,r),Gl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=lt(),s=Or(t),i=Ln(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Rr(t,i,s),e!==null&&(tn(e,t,s,r),Gl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=lt(),r=Or(t),s=Ln(n,r);s.tag=2,e!=null&&(s.callback=e),e=Rr(t,s,r),e!==null&&(tn(e,t,r,n),Gl(e,t,r))}};function ov(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ua(n,r)||!ua(s,i):!0}function b0(t,e,n){var r=!1,s=zr,i=e.contextType;return typeof i=="object"&&i!==null?i=Ft(i):(s=yt(e)?Es:tt.current,r=e.contextTypes,i=(r=r!=null)?ji(t,s):zr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function av(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wu.enqueueReplaceState(e,e.state,null)}function qf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},kp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ft(i):(i=yt(e)?Es:tt.current,s.context=ji(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Kf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wu.enqueueReplaceState(s,s.state,null),Sc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Bi(t,e){try{var n="",r=e;do n+=pT(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Fd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zI=typeof WeakMap=="function"?WeakMap:Map;function T0(t,e,n){n=Ln(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nc||(Nc=!0,ih=r),Qf(t,e)},n}function I0(t,e,n){n=Ln(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Qf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Qf(t,e),typeof r!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function lv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zI;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=tk.bind(null,t,e,n),e.then(t,t))}function cv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ln(-1,1),e.tag=2,Rr(n,e,1))),n.lanes|=1),t)}var BI=Qn.ReactCurrentOwner,mt=!1;function st(t,e,n,r){e.child=t===null?n0(e,null,n,r):$i(e,t.child,n,r)}function dv(t,e,n,r,s){n=n.render;var i=e.ref;return gi(e,s),r=Op(t,e,n,r,i,s),n=Dp(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bn(t,e,s)):(Ce&&n&&xp(e),e.flags|=1,st(t,e,r,s),e.child)}function fv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Vp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,k0(t,e,i,r,s)):(t=Jl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ua,n(o,r)&&t.ref===e.ref)return Bn(t,e,s)}return e.flags|=1,t=Dr(i,r),t.ref=e.ref,t.return=e,e.child=t}function k0(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ua(i,r)&&t.ref===e.ref)if(mt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(mt=!0);else return e.lanes=t.lanes,Bn(t,e,s)}return Yf(t,e,n,r,s)}function N0(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(ci,xt),xt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(ci,xt),xt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ge(ci,xt),xt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ge(ci,xt),xt|=r;return st(t,e,s,n),e.child}function P0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yf(t,e,n,r,s){var i=yt(n)?Es:tt.current;return i=ji(e,i),gi(e,s),n=Op(t,e,n,r,i,s),r=Dp(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bn(t,e,s)):(Ce&&r&&xp(e),e.flags|=1,st(t,e,n,s),e.child)}function hv(t,e,n,r,s){if(yt(n)){var i=!0;_c(e)}else i=!1;if(gi(e,s),e.stateNode===null)Ql(t,e),b0(e,n,r),qf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ft(c):(c=yt(n)?Es:tt.current,c=ji(e,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&av(e,o,r,c),dr=!1;var f=e.memoizedState;o.state=f,Sc(e,r,o,s),l=e.memoizedState,a!==r||f!==l||vt.current||dr?(typeof d=="function"&&(Kf(e,n,d,r),l=e.memoizedState),(a=dr||ov(e,n,a,r,f,l,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,s0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ht(e.type,a),o.props=c,u=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ft(l):(l=yt(n)?Es:tt.current,l=ji(e,l));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||f!==l)&&av(e,o,r,l),dr=!1,f=e.memoizedState,o.state=f,Sc(e,r,o,s);var x=e.memoizedState;a!==u||f!==x||vt.current||dr?(typeof h=="function"&&(Kf(e,n,h,r),x=e.memoizedState),(c=dr||ov(e,n,c,r,f,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Xf(t,e,n,r,i,s)}function Xf(t,e,n,r,s,i){P0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Jg(e,n,!1),Bn(t,e,i);r=e.stateNode,BI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$i(e,t.child,null,i),e.child=$i(e,null,a,i)):st(t,e,a,i),e.memoizedState=r.state,s&&Jg(e,n,!0),e.child}function R0(t){var e=t.stateNode;e.pendingContext?Xg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xg(t,e.context,!1),Np(t,e.containerInfo)}function pv(t,e,n,r,s){return Ui(),Cp(s),e.flags|=256,st(t,e,n,r),e.child}var Jf={dehydrated:null,treeContext:null,retryLane:0};function Zf(t){return{baseLanes:t,cachePool:null,transitions:null}}function A0(t,e,n){var r=e.pendingProps,s=Se.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(Se,s&1),t===null)return Hf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Cu(o,r,0,null),t=xs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Zf(n),e.memoizedState=Jf,t):Fp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return WI(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Dr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Dr(a,i):(i=xs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Zf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Jf,r}return i=t.child,t=i.sibling,r=Dr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fp(t,e){return e=Cu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cl(t,e,n,r){return r!==null&&Cp(r),$i(e,t.child,null,n),t=Fp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WI(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Fd(Error(A(422))),Cl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Cu({mode:"visible",children:r.children},s,0,null),i=xs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&$i(e,t.child,null,o),e.child.memoizedState=Zf(o),e.memoizedState=Jf,i);if(!(e.mode&1))return Cl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(A(419)),r=Fd(i,r,void 0),Cl(t,e,o,r)}if(a=(o&t.childLanes)!==0,mt||a){if(r=Be,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zn(t,s),tn(r,t,s,-1))}return Wp(),r=Fd(Error(A(421))),Cl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=nk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ct=Pr(s.nextSibling),St=e,Ce=!0,Yt=null,t!==null&&(Rt[At++]=Rn,Rt[At++]=An,Rt[At++]=Cs,Rn=t.id,An=t.overflow,Cs=e),e=Fp(e,r.children),e.flags|=4096,e)}function mv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gf(t.return,e,n)}function jd(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function O0(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(st(t,e,r.children,n),r=Se.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mv(t,n,e);else if(t.tag===19)mv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(Se,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&bc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),jd(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&bc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}jd(e,!0,n,null,i);break;case"together":jd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ql(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=Dr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Dr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VI(t,e,n){switch(e.tag){case 3:R0(e),Ui();break;case 5:i0(e);break;case 1:yt(e.type)&&_c(e);break;case 4:Np(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ge(Ec,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(Se,Se.current&1),e.flags|=128,null):n&e.child.childLanes?A0(t,e,n):(ge(Se,Se.current&1),t=Bn(t,e,n),t!==null?t.sibling:null);ge(Se,Se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return O0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(Se,Se.current),r)break;return null;case 22:case 23:return e.lanes=0,N0(t,e,n)}return Bn(t,e,n)}var D0,eh,M0,L0;D0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eh=function(){};M0=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,fs(yn.current);var i=null;switch(n){case"input":s=Ef(t,s),r=Ef(t,r),i=[];break;case"select":s=Te({},s,{value:void 0}),r=Te({},r,{value:void 0}),i=[];break;case"textarea":s=bf(t,s),r=bf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vc)}If(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ra.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ra.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ye("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};L0=function(t,e,n,r){n!==r&&(e.flags|=4)};function bo(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Je(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HI(t,e,n){var r=e.pendingProps;switch(Ep(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(e),null;case 1:return yt(e.type)&&yc(),Je(e),null;case 3:return r=e.stateNode,zi(),_e(vt),_e(tt),Rp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yt!==null&&(lh(Yt),Yt=null))),eh(t,e),Je(e),null;case 5:Pp(e);var s=fs(ma.current);if(n=e.type,t!==null&&e.stateNode!=null)M0(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(A(166));return Je(e),null}if(t=fs(yn.current),xl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[pn]=e,r[ha]=i,t=(e.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(s=0;s<Lo.length;s++)ye(Lo[s],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":Sg(r,i),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ye("invalid",r);break;case"textarea":Tg(r,i),ye("invalid",r)}If(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&wl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&wl(r.textContent,a,t),s=["children",""+a]):ra.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ye("scroll",r)}switch(n){case"input":fl(r),bg(r,i,!0);break;case"textarea":fl(r),Ig(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pn]=e,t[ha]=r,D0(t,e,!1,!1),e.stateNode=t;e:{switch(o=kf(n,r),n){case"dialog":ye("cancel",t),ye("close",t),s=r;break;case"iframe":case"object":case"embed":ye("load",t),s=r;break;case"video":case"audio":for(s=0;s<Lo.length;s++)ye(Lo[s],t);s=r;break;case"source":ye("error",t),s=r;break;case"img":case"image":case"link":ye("error",t),ye("load",t),s=r;break;case"details":ye("toggle",t),s=r;break;case"input":Sg(t,r),s=Ef(t,r),ye("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Te({},r,{value:void 0}),ye("invalid",t);break;case"textarea":Tg(t,r),s=bf(t,r),ye("invalid",t);break;default:s=r}If(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?hw(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dw(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sa(t,l):typeof l=="number"&&sa(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ra.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ye("scroll",t):l!=null&&ap(t,i,l,o))}switch(n){case"input":fl(t),bg(t,r,!1);break;case"textarea":fl(t),Ig(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$r(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?fi(t,!!r.multiple,i,!1):r.defaultValue!=null&&fi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=vc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Je(e),null;case 6:if(t&&e.stateNode!=null)L0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(A(166));if(n=fs(ma.current),fs(yn.current),xl(e)){if(r=e.stateNode,n=e.memoizedProps,r[pn]=e,(i=r.nodeValue!==n)&&(t=St,t!==null))switch(t.tag){case 3:wl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pn]=e,e.stateNode=r}return Je(e),null;case 13:if(_e(Se),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&Ct!==null&&e.mode&1&&!(e.flags&128))e0(),Ui(),e.flags|=98560,i=!1;else if(i=xl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(A(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[pn]=e}else Ui(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Je(e),i=!1}else Yt!==null&&(lh(Yt),Yt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Se.current&1?Fe===0&&(Fe=3):Wp())),e.updateQueue!==null&&(e.flags|=4),Je(e),null);case 4:return zi(),eh(t,e),t===null&&da(e.stateNode.containerInfo),Je(e),null;case 10:return Tp(e.type._context),Je(e),null;case 17:return yt(e.type)&&yc(),Je(e),null;case 19:if(_e(Se),i=e.memoizedState,i===null)return Je(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)bo(i,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bc(t),o!==null){for(e.flags|=128,bo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(Se,Se.current&1|2),e.child}t=t.sibling}i.tail!==null&&Re()>Wi&&(e.flags|=128,r=!0,bo(i,!1),e.lanes=4194304)}else{if(!r)if(t=bc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ce)return Je(e),null}else 2*Re()-i.renderingStartTime>Wi&&n!==1073741824&&(e.flags|=128,r=!0,bo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Re(),e.sibling=null,n=Se.current,ge(Se,r?n&1|2:n&1),e):(Je(e),null);case 22:case 23:return Bp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xt&1073741824&&(Je(e),e.subtreeFlags&6&&(e.flags|=8192)):Je(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function GI(t,e){switch(Ep(e),e.tag){case 1:return yt(e.type)&&yc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zi(),_e(vt),_e(tt),Rp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pp(e),null;case 13:if(_e(Se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));Ui()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(Se),null;case 4:return zi(),null;case 10:return Tp(e.type._context),null;case 22:case 23:return Bp(),null;case 24:return null;default:return null}}var Sl=!1,et=!1,KI=typeof WeakSet=="function"?WeakSet:Set,U=null;function li(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function th(t,e,n){try{n()}catch(r){ke(t,e,r)}}var gv=!1;function qI(t,e){if(jf=pc,t=zw(),wp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,u=t,f=null;t:for(;;){for(var h;u!==n||s!==0&&u.nodeType!==3||(a=o+s),u!==i||r!==0&&u.nodeType!==3||(l=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(h=u.firstChild)!==null;)f=u,u=h;for(;;){if(u===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(h=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uf={focusedElem:t,selectionRange:n},pc=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,w=x.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Ht(e.type,m),w);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(E){ke(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return x=gv,gv=!1,x}function Ho(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&th(e,n,i)}s=s.next}while(s!==r)}}function xu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function nh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function F0(t){var e=t.alternate;e!==null&&(t.alternate=null,F0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pn],delete e[ha],delete e[Bf],delete e[PI],delete e[RI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function j0(t){return t.tag===5||t.tag===3||t.tag===4}function vv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||j0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vc));else if(r!==4&&(t=t.child,t!==null))for(rh(t,e,n),t=t.sibling;t!==null;)rh(t,e,n),t=t.sibling}function sh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sh(t,e,n),t=t.sibling;t!==null;)sh(t,e,n),t=t.sibling}var We=null,Qt=!1;function sr(t,e,n){for(n=n.child;n!==null;)U0(t,e,n),n=n.sibling}function U0(t,e,n){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(hu,n)}catch{}switch(n.tag){case 5:et||li(n,e);case 6:var r=We,s=Qt;We=null,sr(t,e,n),We=r,Qt=s,We!==null&&(Qt?(t=We,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(Qt?(t=We,n=n.stateNode,t.nodeType===8?Rd(t.parentNode,n):t.nodeType===1&&Rd(t,n),la(t)):Rd(We,n.stateNode));break;case 4:r=We,s=Qt,We=n.stateNode.containerInfo,Qt=!0,sr(t,e,n),We=r,Qt=s;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&th(n,e,o),s=s.next}while(s!==r)}sr(t,e,n);break;case 1:if(!et&&(li(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ke(n,e,a)}sr(t,e,n);break;case 21:sr(t,e,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,sr(t,e,n),et=r):sr(t,e,n);break;default:sr(t,e,n)}}function yv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KI),e.forEach(function(r){var s=rk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Wt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:We=a.stateNode,Qt=!1;break e;case 3:We=a.stateNode.containerInfo,Qt=!0;break e;case 4:We=a.stateNode.containerInfo,Qt=!0;break e}a=a.return}if(We===null)throw Error(A(160));U0(i,o,s),We=null,Qt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ke(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$0(e,t),e=e.sibling}function $0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wt(e,t),cn(t),r&4){try{Ho(3,t,t.return),xu(3,t)}catch(m){ke(t,t.return,m)}try{Ho(5,t,t.return)}catch(m){ke(t,t.return,m)}}break;case 1:Wt(e,t),cn(t),r&512&&n!==null&&li(n,n.return);break;case 5:if(Wt(e,t),cn(t),r&512&&n!==null&&li(n,n.return),t.flags&32){var s=t.stateNode;try{sa(s,"")}catch(m){ke(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&lw(s,i),kf(a,o);var c=kf(a,i);for(o=0;o<l.length;o+=2){var d=l[o],u=l[o+1];d==="style"?hw(s,u):d==="dangerouslySetInnerHTML"?dw(s,u):d==="children"?sa(s,u):ap(s,d,u,c)}switch(a){case"input":Cf(s,i);break;case"textarea":cw(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?fi(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?fi(s,!!i.multiple,i.defaultValue,!0):fi(s,!!i.multiple,i.multiple?[]:"",!1))}s[ha]=i}catch(m){ke(t,t.return,m)}}break;case 6:if(Wt(e,t),cn(t),r&4){if(t.stateNode===null)throw Error(A(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){ke(t,t.return,m)}}break;case 3:if(Wt(e,t),cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{la(e.containerInfo)}catch(m){ke(t,t.return,m)}break;case 4:Wt(e,t),cn(t);break;case 13:Wt(e,t),cn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||($p=Re())),r&4&&yv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(et=(c=et)||d,Wt(e,t),et=c):Wt(e,t),cn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(U=t,d=t.child;d!==null;){for(u=U=d;U!==null;){switch(f=U,h=f.child,f.tag){case 0:case 11:case 14:case 15:Ho(4,f,f.return);break;case 1:li(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(m){ke(r,n,m)}}break;case 5:li(f,f.return);break;case 22:if(f.memoizedState!==null){wv(u);continue}}h!==null?(h.return=f,U=h):wv(u)}d=d.sibling}e:for(d=null,u=t;;){if(u.tag===5){if(d===null){d=u;try{s=u.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fw("display",o))}catch(m){ke(t,t.return,m)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){ke(t,t.return,m)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Wt(e,t),cn(t),r&4&&yv(t);break;case 21:break;default:Wt(e,t),cn(t)}}function cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(j0(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(sa(s,""),r.flags&=-33);var i=vv(t);sh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=vv(t);rh(t,a,o);break;default:throw Error(A(161))}}catch(l){ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QI(t,e,n){U=t,z0(t)}function z0(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Sl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||et;a=Sl;var c=et;if(Sl=o,(et=l)&&!c)for(U=s;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?xv(s):l!==null?(l.return=o,U=l):xv(s);for(;i!==null;)U=i,z0(i),i=i.sibling;U=s,Sl=a,et=c}_v(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):_v(t)}}function _v(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:et||xu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!et)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ht(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&rv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&la(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}et||e.flags&512&&nh(e)}catch(f){ke(e,e.return,f)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function wv(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function xv(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xu(4,e)}catch(l){ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ke(e,s,l)}}var i=e.return;try{nh(e)}catch(l){ke(e,i,l)}break;case 5:var o=e.return;try{nh(e)}catch(l){ke(e,o,l)}}}catch(l){ke(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var YI=Math.ceil,kc=Qn.ReactCurrentDispatcher,jp=Qn.ReactCurrentOwner,Lt=Qn.ReactCurrentBatchConfig,re=0,Be=null,Oe=null,He=0,xt=0,ci=qr(0),Fe=0,_a=null,bs=0,Eu=0,Up=0,Go=null,pt=null,$p=0,Wi=1/0,kn=null,Nc=!1,ih=null,Ar=null,bl=!1,Sr=null,Pc=0,Ko=0,oh=null,Yl=-1,Xl=0;function lt(){return re&6?Re():Yl!==-1?Yl:Yl=Re()}function Or(t){return t.mode&1?re&2&&He!==0?He&-He:OI.transition!==null?(Xl===0&&(Xl=bw()),Xl):(t=le,t!==0||(t=window.event,t=t===void 0?16:Aw(t.type)),t):1}function tn(t,e,n,r){if(50<Ko)throw Ko=0,oh=null,Error(A(185));za(t,n,r),(!(re&2)||t!==Be)&&(t===Be&&(!(re&2)&&(Eu|=n),Fe===4&&hr(t,He)),_t(t,r),n===1&&re===0&&!(e.mode&1)&&(Wi=Re()+500,yu&&Qr()))}function _t(t,e){var n=t.callbackNode;OT(t,e);var r=hc(t,t===Be?He:0);if(r===0)n!==null&&Pg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pg(n),e===1)t.tag===0?AI(Ev.bind(null,t)):Xw(Ev.bind(null,t)),kI(function(){!(re&6)&&Qr()}),n=null;else{switch(Tw(r)){case 1:n=fp;break;case 4:n=Cw;break;case 16:n=fc;break;case 536870912:n=Sw;break;default:n=fc}n=Q0(n,B0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function B0(t,e){if(Yl=-1,Xl=0,re&6)throw Error(A(327));var n=t.callbackNode;if(vi()&&t.callbackNode!==n)return null;var r=hc(t,t===Be?He:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rc(t,r);else{e=r;var s=re;re|=2;var i=V0();(Be!==t||He!==e)&&(kn=null,Wi=Re()+500,ws(t,e));do try{ZI();break}catch(a){W0(t,a)}while(!0);bp(),kc.current=i,re=s,Oe!==null?e=0:(Be=null,He=0,e=Fe)}if(e!==0){if(e===2&&(s=Of(t),s!==0&&(r=s,e=ah(t,s))),e===1)throw n=_a,ws(t,0),hr(t,r),_t(t,Re()),n;if(e===6)hr(t,r);else{if(s=t.current.alternate,!(r&30)&&!XI(s)&&(e=Rc(t,r),e===2&&(i=Of(t),i!==0&&(r=i,e=ah(t,i))),e===1))throw n=_a,ws(t,0),hr(t,r),_t(t,Re()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(A(345));case 2:os(t,pt,kn);break;case 3:if(hr(t,r),(r&130023424)===r&&(e=$p+500-Re(),10<e)){if(hc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){lt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=zf(os.bind(null,t,pt,kn),e);break}os(t,pt,kn);break;case 4:if(hr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-en(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YI(r/1960))-r,10<r){t.timeoutHandle=zf(os.bind(null,t,pt,kn),r);break}os(t,pt,kn);break;case 5:os(t,pt,kn);break;default:throw Error(A(329))}}}return _t(t,Re()),t.callbackNode===n?B0.bind(null,t):null}function ah(t,e){var n=Go;return t.current.memoizedState.isDehydrated&&(ws(t,e).flags|=256),t=Rc(t,e),t!==2&&(e=pt,pt=n,e!==null&&lh(e)),t}function lh(t){pt===null?pt=t:pt.push.apply(pt,t)}function XI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!rn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hr(t,e){for(e&=~Up,e&=~Eu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-en(e),r=1<<n;t[n]=-1,e&=~r}}function Ev(t){if(re&6)throw Error(A(327));vi();var e=hc(t,0);if(!(e&1))return _t(t,Re()),null;var n=Rc(t,e);if(t.tag!==0&&n===2){var r=Of(t);r!==0&&(e=r,n=ah(t,r))}if(n===1)throw n=_a,ws(t,0),hr(t,e),_t(t,Re()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,os(t,pt,kn),_t(t,Re()),null}function zp(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(Wi=Re()+500,yu&&Qr())}}function Ts(t){Sr!==null&&Sr.tag===0&&!(re&6)&&vi();var e=re;re|=1;var n=Lt.transition,r=le;try{if(Lt.transition=null,le=1,t)return t()}finally{le=r,Lt.transition=n,re=e,!(re&6)&&Qr()}}function Bp(){xt=ci.current,_e(ci)}function ws(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,II(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(Ep(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yc();break;case 3:zi(),_e(vt),_e(tt),Rp();break;case 5:Pp(r);break;case 4:zi();break;case 13:_e(Se);break;case 19:_e(Se);break;case 10:Tp(r.type._context);break;case 22:case 23:Bp()}n=n.return}if(Be=t,Oe=t=Dr(t.current,null),He=xt=e,Fe=0,_a=null,Up=Eu=bs=0,pt=Go=null,ds!==null){for(e=0;e<ds.length;e++)if(n=ds[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ds=null}return t}function W0(t,e){do{var n=Oe;try{if(bp(),Kl.current=Ic,Tc){for(var r=be.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Tc=!1}if(Ss=0,$e=De=be=null,Vo=!1,ga=0,jp.current=null,n===null||n.return===null){Fe=1,_a=e,Oe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=He,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=cv(o);if(h!==null){h.flags&=-257,uv(h,o,a,i,e),h.mode&1&&lv(i,c,e),e=h,l=c;var x=e.updateQueue;if(x===null){var m=new Set;m.add(l),e.updateQueue=m}else x.add(l);break e}else{if(!(e&1)){lv(i,c,e),Wp();break e}l=Error(A(426))}}else if(Ce&&a.mode&1){var w=cv(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),uv(w,o,a,i,e),Cp(Bi(l,a));break e}}i=l=Bi(l,a),Fe!==4&&(Fe=2),Go===null?Go=[i]:Go.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=T0(i,l,e);nv(i,y);break e;case 1:a=l;var g=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ar===null||!Ar.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=I0(i,a,e);nv(i,E);break e}}i=i.return}while(i!==null)}G0(n)}catch(C){e=C,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function V0(){var t=kc.current;return kc.current=Ic,t===null?Ic:t}function Wp(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Be===null||!(bs&268435455)&&!(Eu&268435455)||hr(Be,He)}function Rc(t,e){var n=re;re|=2;var r=V0();(Be!==t||He!==e)&&(kn=null,ws(t,e));do try{JI();break}catch(s){W0(t,s)}while(!0);if(bp(),re=n,kc.current=r,Oe!==null)throw Error(A(261));return Be=null,He=0,Fe}function JI(){for(;Oe!==null;)H0(Oe)}function ZI(){for(;Oe!==null&&!ST();)H0(Oe)}function H0(t){var e=q0(t.alternate,t,xt);t.memoizedProps=t.pendingProps,e===null?G0(t):Oe=e,jp.current=null}function G0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GI(n,e),n!==null){n.flags&=32767,Oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,Oe=null;return}}else if(n=HI(n,e,xt),n!==null){Oe=n;return}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);Fe===0&&(Fe=5)}function os(t,e,n){var r=le,s=Lt.transition;try{Lt.transition=null,le=1,ek(t,e,n,r)}finally{Lt.transition=s,le=r}return null}function ek(t,e,n,r){do vi();while(Sr!==null);if(re&6)throw Error(A(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(DT(t,i),t===Be&&(Oe=Be=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bl||(bl=!0,Q0(fc,function(){return vi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Lt.transition,Lt.transition=null;var o=le;le=1;var a=re;re|=4,jp.current=null,qI(t,n),$0(n,t),wI(Uf),pc=!!jf,Uf=jf=null,t.current=n,QI(n),bT(),re=a,le=o,Lt.transition=i}else t.current=n;if(bl&&(bl=!1,Sr=t,Pc=s),i=t.pendingLanes,i===0&&(Ar=null),kT(n.stateNode),_t(t,Re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Nc)throw Nc=!1,t=ih,ih=null,t;return Pc&1&&t.tag!==0&&vi(),i=t.pendingLanes,i&1?t===oh?Ko++:(Ko=0,oh=t):Ko=0,Qr(),null}function vi(){if(Sr!==null){var t=Tw(Pc),e=Lt.transition,n=le;try{if(Lt.transition=null,le=16>t?16:t,Sr===null)var r=!1;else{if(t=Sr,Sr=null,Pc=0,re&6)throw Error(A(331));var s=re;for(re|=4,U=t.current;U!==null;){var i=U,o=i.child;if(U.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(U=c;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:Ho(8,d,i)}var u=d.child;if(u!==null)u.return=d,U=u;else for(;U!==null;){d=U;var f=d.sibling,h=d.return;if(F0(d),d===c){U=null;break}if(f!==null){f.return=h,U=f;break}U=h}}}var x=i.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}U=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,U=o;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ho(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,U=y;break e}U=i.return}}var g=t.current;for(U=g;U!==null;){o=U;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,U=_;else e:for(o=g;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xu(9,a)}}catch(C){ke(a,a.return,C)}if(a===o){U=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,U=E;break e}U=a.return}}if(re=s,Qr(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(hu,t)}catch{}r=!0}return r}finally{le=n,Lt.transition=e}}return!1}function Cv(t,e,n){e=Bi(n,e),e=T0(t,e,1),t=Rr(t,e,1),e=lt(),t!==null&&(za(t,1,e),_t(t,e))}function ke(t,e,n){if(t.tag===3)Cv(t,t,n);else for(;e!==null;){if(e.tag===3){Cv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ar===null||!Ar.has(r))){t=Bi(n,t),t=I0(e,t,1),e=Rr(e,t,1),t=lt(),e!==null&&(za(e,1,t),_t(e,t));break}}e=e.return}}function tk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=lt(),t.pingedLanes|=t.suspendedLanes&n,Be===t&&(He&n)===n&&(Fe===4||Fe===3&&(He&130023424)===He&&500>Re()-$p?ws(t,0):Up|=n),_t(t,e)}function K0(t,e){e===0&&(t.mode&1?(e=ml,ml<<=1,!(ml&130023424)&&(ml=4194304)):e=1);var n=lt();t=zn(t,e),t!==null&&(za(t,e,n),_t(t,n))}function nk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),K0(t,n)}function rk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(e),K0(t,n)}var q0;q0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vt.current)mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mt=!1,VI(t,e,n);mt=!!(t.flags&131072)}else mt=!1,Ce&&e.flags&1048576&&Jw(e,xc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ql(t,e),t=e.pendingProps;var s=ji(e,tt.current);gi(e,n),s=Op(null,e,r,t,s,n);var i=Dp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yt(r)?(i=!0,_c(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,kp(e),s.updater=wu,e.stateNode=s,s._reactInternals=e,qf(e,r,t,n),e=Xf(null,e,r,!0,i,n)):(e.tag=0,Ce&&i&&xp(e),st(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ql(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=ik(r),t=Ht(r,t),s){case 0:e=Yf(null,e,r,t,n);break e;case 1:e=hv(null,e,r,t,n);break e;case 11:e=dv(null,e,r,t,n);break e;case 14:e=fv(null,e,r,Ht(r.type,t),n);break e}throw Error(A(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ht(r,s),Yf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ht(r,s),hv(t,e,r,s,n);case 3:e:{if(R0(e),t===null)throw Error(A(387));r=e.pendingProps,i=e.memoizedState,s=i.element,s0(t,e),Sc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Bi(Error(A(423)),e),e=pv(t,e,r,n,s);break e}else if(r!==s){s=Bi(Error(A(424)),e),e=pv(t,e,r,n,s);break e}else for(Ct=Pr(e.stateNode.containerInfo.firstChild),St=e,Ce=!0,Yt=null,n=n0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ui(),r===s){e=Bn(t,e,n);break e}st(t,e,r,n)}e=e.child}return e;case 5:return i0(e),t===null&&Hf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,$f(r,s)?o=null:i!==null&&$f(r,i)&&(e.flags|=32),P0(t,e),st(t,e,o,n),e.child;case 6:return t===null&&Hf(e),null;case 13:return A0(t,e,n);case 4:return Np(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$i(e,null,r,n):st(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ht(r,s),dv(t,e,r,s,n);case 7:return st(t,e,e.pendingProps,n),e.child;case 8:return st(t,e,e.pendingProps.children,n),e.child;case 12:return st(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ge(Ec,r._currentValue),r._currentValue=o,i!==null)if(rn(i.value,o)){if(i.children===s.children&&!vt.current){e=Bn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ln(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Gf(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(A(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}st(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,gi(e,n),s=Ft(s),r=r(s),e.flags|=1,st(t,e,r,n),e.child;case 14:return r=e.type,s=Ht(r,e.pendingProps),s=Ht(r.type,s),fv(t,e,r,s,n);case 15:return k0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ht(r,s),Ql(t,e),e.tag=1,yt(r)?(t=!0,_c(e)):t=!1,gi(e,n),b0(e,r,s),qf(e,r,s,n),Xf(null,e,r,!0,t,n);case 19:return O0(t,e,n);case 22:return N0(t,e,n)}throw Error(A(156,e.tag))};function Q0(t,e){return Ew(t,e)}function sk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(t,e,n,r){return new sk(t,e,n,r)}function Vp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ik(t){if(typeof t=="function")return Vp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cp)return 11;if(t===up)return 14}return 2}function Dr(t,e){var n=t.alternate;return n===null?(n=Dt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jl(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Vp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zs:return xs(n.children,s,i,e);case lp:o=8,s|=8;break;case yf:return t=Dt(12,n,e,s|2),t.elementType=yf,t.lanes=i,t;case _f:return t=Dt(13,n,e,s),t.elementType=_f,t.lanes=i,t;case wf:return t=Dt(19,n,e,s),t.elementType=wf,t.lanes=i,t;case iw:return Cu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rw:o=10;break e;case sw:o=9;break e;case cp:o=11;break e;case up:o=14;break e;case ur:o=16,r=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=Dt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function xs(t,e,n,r){return t=Dt(7,t,r,e),t.lanes=n,t}function Cu(t,e,n,r){return t=Dt(22,t,r,e),t.elementType=iw,t.lanes=n,t.stateNode={isHidden:!1},t}function Ud(t,e,n){return t=Dt(6,t,null,e),t.lanes=n,t}function $d(t,e,n){return e=Dt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ok(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wd(0),this.expirationTimes=wd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hp(t,e,n,r,s,i,o,a,l){return t=new ok(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Dt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kp(i),t}function ak(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Y0(t){if(!t)return zr;t=t._reactInternals;e:{if(Fs(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(yt(n))return Yw(t,n,e)}return e}function X0(t,e,n,r,s,i,o,a,l){return t=Hp(n,r,!0,t,s,i,o,a,l),t.context=Y0(null),n=t.current,r=lt(),s=Or(n),i=Ln(r,s),i.callback=e??null,Rr(n,i,s),t.current.lanes=s,za(t,s,r),_t(t,r),t}function Su(t,e,n,r){var s=e.current,i=lt(),o=Or(s);return n=Y0(n),e.context===null?e.context=n:e.pendingContext=n,e=Ln(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rr(s,e,o),t!==null&&(tn(t,s,o,i),Gl(t,s,o)),o}function Ac(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gp(t,e){Sv(t,e),(t=t.alternate)&&Sv(t,e)}function lk(){return null}var J0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kp(t){this._internalRoot=t}bu.prototype.render=Kp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));Su(t,e,null,null)};bu.prototype.unmount=Kp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ts(function(){Su(null,t,null,null)}),e[$n]=null}};function bu(t){this._internalRoot=t}bu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Nw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fr.length&&e!==0&&e<fr[n].priority;n++);fr.splice(n,0,t),n===0&&Rw(t)}};function qp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bv(){}function ck(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Ac(o);i.call(c)}}var o=X0(e,r,t,0,null,!1,!1,"",bv);return t._reactRootContainer=o,t[$n]=o.current,da(t.nodeType===8?t.parentNode:t),Ts(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Ac(l);a.call(c)}}var l=Hp(t,0,!1,null,null,!1,!1,"",bv);return t._reactRootContainer=l,t[$n]=l.current,da(t.nodeType===8?t.parentNode:t),Ts(function(){Su(e,l,n,r)}),l}function Iu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ac(o);a.call(l)}}Su(e,o,t,s)}else o=ck(n,e,t,s,r);return Ac(o)}Iw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mo(e.pendingLanes);n!==0&&(hp(e,n|1),_t(e,Re()),!(re&6)&&(Wi=Re()+500,Qr()))}break;case 13:Ts(function(){var r=zn(t,1);if(r!==null){var s=lt();tn(r,t,1,s)}}),Gp(t,1)}};pp=function(t){if(t.tag===13){var e=zn(t,134217728);if(e!==null){var n=lt();tn(e,t,134217728,n)}Gp(t,134217728)}};kw=function(t){if(t.tag===13){var e=Or(t),n=zn(t,e);if(n!==null){var r=lt();tn(n,t,e,r)}Gp(t,e)}};Nw=function(){return le};Pw=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};Pf=function(t,e,n){switch(e){case"input":if(Cf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=vu(r);if(!s)throw Error(A(90));aw(r),Cf(r,s)}}}break;case"textarea":cw(t,n);break;case"select":e=n.value,e!=null&&fi(t,!!n.multiple,e,!1)}};gw=zp;vw=Ts;var uk={usingClientEntryPoint:!1,Events:[Wa,ri,vu,pw,mw,zp]},To={findFiberByHostInstance:us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dk={bundleType:To.bundleType,version:To.version,rendererPackageName:To.rendererPackageName,rendererConfig:To.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ww(t),t===null?null:t.stateNode},findFiberByHostInstance:To.findFiberByHostInstance||lk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{hu=Tl.inject(dk),vn=Tl}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uk;It.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qp(e))throw Error(A(200));return ak(t,e,null,n)};It.createRoot=function(t,e){if(!qp(t))throw Error(A(299));var n=!1,r="",s=J0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Hp(t,1,!1,null,null,n,!1,r,s),t[$n]=e.current,da(t.nodeType===8?t.parentNode:t),new Kp(e)};It.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=ww(e),t=t===null?null:t.stateNode,t};It.flushSync=function(t){return Ts(t)};It.hydrate=function(t,e,n){if(!Tu(e))throw Error(A(200));return Iu(null,t,e,!0,n)};It.hydrateRoot=function(t,e,n){if(!qp(t))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=J0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=X0(e,null,t,1,n??null,s,!1,i,o),t[$n]=e.current,da(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new bu(e)};It.render=function(t,e,n){if(!Tu(e))throw Error(A(200));return Iu(null,t,e,!1,n)};It.unmountComponentAtNode=function(t){if(!Tu(t))throw Error(A(40));return t._reactRootContainer?(Ts(function(){Iu(null,null,t,!1,function(){t._reactRootContainer=null,t[$n]=null})}),!0):!1};It.unstable_batchedUpdates=zp;It.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Tu(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return Iu(t,e,n,!1,r)};It.version="18.3.1-next-f1338f8080-20240426";function Z0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z0)}catch(t){console.error(t)}}Z0(),Z_.exports=It;var Ha=Z_.exports;const ex=z_(Ha);var tx,Tv=Ha;tx=Tv.createRoot,Tv.hydrateRoot;const fk=1,hk=1e6;let zd=0;function pk(){return zd=(zd+1)%Number.MAX_SAFE_INTEGER,zd.toString()}const Bd=new Map,Iv=t=>{if(Bd.has(t))return;const e=setTimeout(()=>{Bd.delete(t),qo({type:"REMOVE_TOAST",toastId:t})},hk);Bd.set(t,e)},mk=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,fk)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Iv(n):t.toasts.forEach(r=>{Iv(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Zl=[];let ec={toasts:[]};function qo(t){ec=mk(ec,t),Zl.forEach(e=>{e(ec)})}function gk({...t}){const e=pk(),n=s=>qo({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>qo({type:"DISMISS_TOAST",toastId:e});return qo({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function nx(){const[t,e]=v.useState(ec);return v.useEffect(()=>(Zl.push(e),()=>{const n=Zl.indexOf(e);n>-1&&Zl.splice(n,1)}),[t]),{...t,toast:gk,dismiss:n=>qo({type:"DISMISS_TOAST",toastId:n})}}function ie(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function kv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function rx(...t){return e=>{let n=!1;const r=t.map(s=>{const i=kv(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():kv(t[s],null)}}}}function we(...t){return v.useCallback(rx(...t),t)}function vk(t,e){const n=v.createContext(e),r=i=>{const{children:o,...a}=i,l=v.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Yr(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=u=>{var y;const{scope:f,children:h,...x}=u,m=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,w=v.useMemo(()=>x,Object.values(x));return p.jsx(m.Provider,{value:w,children:h})};c.displayName=i+"Provider";function d(u,f){var m;const h=((m=f==null?void 0:f[t])==null?void 0:m[l])||a,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,yk(s,...e)]}function yk(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const u=l(i)[`__scope${c}`];return{...a,...u}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function wa(t){const e=wk(t),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,a=v.Children.toArray(i),l=a.find(xk);if(l){const c=l.props.children,d=a.map(u=>u===l?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:u);return p.jsx(e,{...o,ref:s,children:v.isValidElement(c)?v.cloneElement(c,void 0,d):null})}return p.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var _k=wa("Slot");function wk(t){const e=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=Ck(s),a=Ek(i,s.props);return s.type!==v.Fragment&&(a.ref=r?rx(r,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var sx=Symbol("radix.slottable");function ix(t){const e=({children:n})=>p.jsx(p.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=sx,e}function xk(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===sx}function Ek(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Ck(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ox(t){const e=t+"CollectionProvider",[n,r]=Yr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:w,children:y}=m,g=D.useRef(null),_=D.useRef(new Map).current;return p.jsx(s,{scope:w,itemMap:_,collectionRef:g,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=wa(a),c=D.forwardRef((m,w)=>{const{scope:y,children:g}=m,_=i(a,y),E=we(w,_.collectionRef);return p.jsx(l,{ref:E,children:g})});c.displayName=a;const d=t+"CollectionItemSlot",u="data-radix-collection-item",f=wa(d),h=D.forwardRef((m,w)=>{const{scope:y,children:g,..._}=m,E=D.useRef(null),C=we(w,E),S=i(d,y);return D.useEffect(()=>(S.itemMap.set(E,{ref:E,..._}),()=>void S.itemMap.delete(E))),p.jsx(f,{[u]:"",ref:C,children:g})});h.displayName=d;function x(m){const w=i(t+"CollectionConsumer",m);return D.useCallback(()=>{const g=w.collectionRef.current;if(!g)return[];const _=Array.from(g.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((S,b)=>_.indexOf(S.ref.current)-_.indexOf(b.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},x,r]}var Sk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],he=Sk.reduce((t,e)=>{const n=wa(`Primitive.${e}`),r=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ax(t,e){t&&Ha.flushSync(()=>t.dispatchEvent(e))}function En(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function bk(t,e=globalThis==null?void 0:globalThis.document){const n=En(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Tk="DismissableLayer",ch="dismissableLayer.update",Ik="dismissableLayer.pointerDownOutside",kk="dismissableLayer.focusOutside",Nv,lx=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ku=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=v.useContext(lx),[d,u]=v.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=v.useState({}),x=we(e,b=>u(b)),m=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(w),g=d?m.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,E=g>=y,C=Pk(b=>{const T=b.target,P=[...c.branches].some(R=>R.contains(T));!E||P||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},f),S=Rk(b=>{const T=b.target;[...c.branches].some(R=>R.contains(T))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},f);return bk(b=>{g===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},f),v.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Nv=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Pv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Nv)}},[d,f,n,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Pv())},[d,c]),v.useEffect(()=>{const b=()=>h({});return document.addEventListener(ch,b),()=>document.removeEventListener(ch,b)},[]),p.jsx(he.div,{...l,ref:x,style:{pointerEvents:_?E?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,S.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,C.onPointerDownCapture)})});ku.displayName=Tk;var Nk="DismissableLayerBranch",cx=v.forwardRef((t,e)=>{const n=v.useContext(lx),r=v.useRef(null),s=we(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(he.div,{...t,ref:s})});cx.displayName=Nk;function Pk(t,e=globalThis==null?void 0:globalThis.document){const n=En(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){ux(Ik,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Rk(t,e=globalThis==null?void 0:globalThis.document){const n=En(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&ux(kk,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Pv(){const t=new CustomEvent(ch);document.dispatchEvent(t)}function ux(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ax(s,i):s.dispatchEvent(i)}var Ak=ku,Ok=cx,Wn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Dk="Portal",Qp=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);Wn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?ex.createPortal(p.jsx(he.div,{...r,ref:e}),o):null});Qp.displayName=Dk;function Mk(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var no=t=>{const{present:e,children:n}=t,r=Lk(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=we(r.ref,Fk(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};no.displayName="Presence";function Lk(t){const[e,n]=v.useState(),r=v.useRef(null),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Mk(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=Il(r.current);i.current=a==="mounted"?c:"none"},[a]),Wn(()=>{const c=r.current,d=s.current;if(d!==t){const f=i.current,h=Il(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Wn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,u=h=>{const m=Il(r.current).includes(h.animationName);if(h.target===e&&m&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},f=h=>{h.target===e&&(i.current=Il(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Il(t){return(t==null?void 0:t.animationName)||"none"}function Fk(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var jk=sp[" useInsertionEffect ".trim().toString()]||Wn;function Nu({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=Uk({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=v.useRef(t!==void 0);v.useEffect(()=>{const u=d.current;u!==a&&console.warn(`${r} is changing from ${u?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=v.useCallback(d=>{var u;if(a){const f=$k(d)?d(t):d;f!==t&&((u=o.current)==null||u.call(o,f))}else i(d)},[a,t,i,o]);return[l,c]}function Uk({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),s=v.useRef(n),i=v.useRef(e);return jk(()=>{i.current=e},[e]),v.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function $k(t){return typeof t=="function"}var zk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Bk="VisuallyHidden",Pu=v.forwardRef((t,e)=>p.jsx(he.span,{...t,ref:e,style:{...zk,...t.style}}));Pu.displayName=Bk;var Wk=Pu,Yp="ToastProvider",[Xp,Vk,Hk]=ox("Toast"),[dx,h6]=Yr("Toast",[Hk]),[Gk,Ru]=dx(Yp),fx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=v.useState(null),[c,d]=v.useState(0),u=v.useRef(!1),f=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Yp}\`. Expected non-empty \`string\`.`),p.jsx(Xp.Provider,{scope:e,children:p.jsx(Gk,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(h=>h+1),[]),onToastRemove:v.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:f,children:o})})};fx.displayName=Yp;var hx="ToastViewport",Kk=["F8"],uh="toast.viewportPause",dh="toast.viewportResume",px=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Kk,label:s="Notifications ({hotkey})",...i}=t,o=Ru(hx,n),a=Vk(n),l=v.useRef(null),c=v.useRef(null),d=v.useRef(null),u=v.useRef(null),f=we(e,u,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;v.useEffect(()=>{const w=y=>{var _;r.length!==0&&r.every(E=>y[E]||y.code===E)&&((_=u.current)==null||_.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),v.useEffect(()=>{const w=l.current,y=u.current;if(x&&w&&y){const g=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(uh);y.dispatchEvent(S),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(dh);y.dispatchEvent(S),o.isClosePausedRef.current=!1}},E=S=>{!w.contains(S.relatedTarget)&&_()},C=()=>{w.contains(document.activeElement)||_()};return w.addEventListener("focusin",g),w.addEventListener("focusout",E),w.addEventListener("pointermove",g),w.addEventListener("pointerleave",C),window.addEventListener("blur",g),window.addEventListener("focus",_),()=>{w.removeEventListener("focusin",g),w.removeEventListener("focusout",E),w.removeEventListener("pointermove",g),w.removeEventListener("pointerleave",C),window.removeEventListener("blur",g),window.removeEventListener("focus",_)}}},[x,o.isClosePausedRef]);const m=v.useCallback(({tabbingDirection:w})=>{const g=a().map(_=>{const E=_.ref.current,C=[E,...oN(E)];return w==="forwards"?C:C.reverse()});return(w==="forwards"?g.reverse():g).flat()},[a]);return v.useEffect(()=>{const w=u.current;if(w){const y=g=>{var C,S,b;const _=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!_){const T=document.activeElement,P=g.shiftKey;if(g.target===w&&P){(C=c.current)==null||C.focus();return}const M=m({tabbingDirection:P?"backwards":"forwards"}),H=M.findIndex(L=>L===T);Wd(M.slice(H+1))?g.preventDefault():P?(S=c.current)==null||S.focus():(b=d.current)==null||b.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[a,m]),p.jsxs(Ok,{ref:l,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&p.jsx(fh,{ref:c,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});Wd(w)}}),p.jsx(Xp.Slot,{scope:n,children:p.jsx(he.ol,{tabIndex:-1,...i,ref:f})}),x&&p.jsx(fh,{ref:d,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});Wd(w)}})]})});px.displayName=hx;var mx="ToastFocusProxy",fh=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Ru(mx,n);return p.jsx(Pu,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});fh.displayName=mx;var Ga="Toast",qk="toast.swipeStart",Qk="toast.swipeMove",Yk="toast.swipeCancel",Xk="toast.swipeEnd",gx=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Nu({prop:r,defaultProp:s??!0,onChange:i,caller:Ga});return p.jsx(no,{present:n||a,children:p.jsx(eN,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:En(t.onPause),onResume:En(t.onResume),onSwipeStart:ie(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(t.onSwipeMove,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:ie(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(t.onSwipeEnd,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),l(!1)})})})});gx.displayName=Ga;var[Jk,Zk]=dx(Ga,{onClose(){}}),eN=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:f,onSwipeEnd:h,...x}=t,m=Ru(Ga,n),[w,y]=v.useState(null),g=we(e,L=>y(L)),_=v.useRef(null),E=v.useRef(null),C=s||m.duration,S=v.useRef(0),b=v.useRef(C),T=v.useRef(0),{onToastAdd:P,onToastRemove:R}=m,F=En(()=>{var G;(w==null?void 0:w.contains(document.activeElement))&&((G=m.viewport)==null||G.focus()),o()}),M=v.useCallback(L=>{!L||L===1/0||(window.clearTimeout(T.current),S.current=new Date().getTime(),T.current=window.setTimeout(F,L))},[F]);v.useEffect(()=>{const L=m.viewport;if(L){const G=()=>{M(b.current),c==null||c()},$=()=>{const B=new Date().getTime()-S.current;b.current=b.current-B,window.clearTimeout(T.current),l==null||l()};return L.addEventListener(uh,$),L.addEventListener(dh,G),()=>{L.removeEventListener(uh,$),L.removeEventListener(dh,G)}}},[m.viewport,C,l,c,M]),v.useEffect(()=>{i&&!m.isClosePausedRef.current&&M(C)},[i,C,m.isClosePausedRef,M]),v.useEffect(()=>(P(),()=>R()),[P,R]);const H=v.useMemo(()=>w?Cx(w):null,[w]);return m.viewport?p.jsxs(p.Fragment,{children:[H&&p.jsx(tN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),p.jsx(Jk,{scope:n,onClose:F,children:Ha.createPortal(p.jsx(Xp.ItemSlot,{scope:n,children:p.jsx(Ak,{asChild:!0,onEscapeKeyDown:ie(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||F(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(he.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:g,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ie(t.onKeyDown,L=>{L.key==="Escape"&&(a==null||a(L.nativeEvent),L.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:ie(t.onPointerDown,L=>{L.button===0&&(_.current={x:L.clientX,y:L.clientY})}),onPointerMove:ie(t.onPointerMove,L=>{if(!_.current)return;const G=L.clientX-_.current.x,$=L.clientY-_.current.y,B=!!E.current,I=["left","right"].includes(m.swipeDirection),k=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,j=I?k(0,G):0,Q=I?0:k(0,$),z=L.pointerType==="touch"?10:2,Z={x:j,y:Q},ne={originalEvent:L,delta:Z};B?(E.current=Z,kl(Qk,u,ne,{discrete:!1})):Rv(Z,m.swipeDirection,z)?(E.current=Z,kl(qk,d,ne,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(G)>z||Math.abs($)>z)&&(_.current=null)}),onPointerUp:ie(t.onPointerUp,L=>{const G=E.current,$=L.target;if($.hasPointerCapture(L.pointerId)&&$.releasePointerCapture(L.pointerId),E.current=null,_.current=null,G){const B=L.currentTarget,I={originalEvent:L,delta:G};Rv(G,m.swipeDirection,m.swipeThreshold)?kl(Xk,h,I,{discrete:!0}):kl(Yk,f,I,{discrete:!0}),B.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),tN=t=>{const{__scopeToast:e,children:n,...r}=t,s=Ru(Ga,e),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return sN(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Qp,{asChild:!0,children:p.jsx(Pu,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},nN="ToastTitle",vx=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(he.div,{...r,ref:e})});vx.displayName=nN;var rN="ToastDescription",yx=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(he.div,{...r,ref:e})});yx.displayName=rN;var _x="ToastAction",wx=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(Ex,{altText:n,asChild:!0,children:p.jsx(Jp,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${_x}\`. Expected non-empty \`string\`.`),null)});wx.displayName=_x;var xx="ToastClose",Jp=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=Zk(xx,n);return p.jsx(Ex,{asChild:!0,children:p.jsx(he.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,s.onClose)})})});Jp.displayName=xx;var Ex=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return p.jsx(he.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Cx(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),iN(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Cx(r))}}),e}function kl(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ax(s,i):s.dispatchEvent(i)}var Rv=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function sN(t=()=>{}){const e=En(t);Wn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function iN(t){return t.nodeType===t.ELEMENT_NODE}function oN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Wd(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var aN=fx,Sx=px,bx=gx,Tx=vx,Ix=yx,kx=wx,Nx=Jp;function Px(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Px(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Rx(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Px(t))&&(r&&(r+=" "),r+=e);return r}const Av=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ov=Rx,Au=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Ov(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],u=i==null?void 0:i[c];if(d===null)return null;const f=Av(d)||Av(u);return s[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[u,f]=d;return f===void 0||(c[u]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:f,...h}=d;return Object.entries(h).every(x=>{let[m,w]=x;return Array.isArray(w)?w.includes({...i,...a}[m]):{...i,...a}[m]===w})?[...c,u,f]:c},[]);return Ov(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ax=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...cN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Ax("lucide",s),...a},[...o.map(([c,d])=>v.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(uN,{ref:i,iconNode:e,className:Ax(`lucide-${lN(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=qe("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=qe("Goal",[["path",{d:"M12 13V2l8 4-8 4",key:"5wlwwj"}],["path",{d:"M20.561 10.222a9 9 0 1 1-12.55-5.29",key:"1c0wjv"}],["path",{d:"M8.002 9.997a5 5 0 1 0 8.9 2.02",key:"gb1g7m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=qe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=qe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=qe("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=qe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=qe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zp="-",wN=t=>{const e=EN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Zp);return a[0]===""&&a.length!==1&&a.shift(),Mx(a,e)||xN(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Mx=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Mx(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Zp);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Lv=/^\[(.+)\]$/,xN=t=>{if(Lv.test(t)){const e=Lv.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},EN=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return SN(Object.entries(t.classGroups),n).forEach(([i,o])=>{ph(o,r,i,e)}),r},ph=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Fv(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(CN(s)){ph(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ph(o,Fv(e,i),n,r)})})},Fv=(t,e)=>{let n=t;return e.split(Zp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},CN=t=>t.isThemeGetter,SN=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,bN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Lx="!",TN=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,u;for(let w=0;w<a.length;w++){let y=a[w];if(c===0){if(y===s&&(r||a.slice(w,w+i)===e)){l.push(a.slice(d,w)),d=w+i;continue}if(y==="/"){u=w;continue}}y==="["?c++:y==="]"&&c--}const f=l.length===0?a:a.substring(d),h=f.startsWith(Lx),x=h?f.substring(1):f,m=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},IN=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},kN=t=>({cache:bN(t.cacheSize),parseClassName:TN(t),...wN(t)}),NN=/\s+/,PN=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(NN);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:u,baseClassName:f,maybePostfixModifierPosition:h}=n(c);let x=!!h,m=r(x?f.substring(0,h):f);if(!m){if(!x){a=c+(a.length>0?" "+a:a);continue}if(m=r(f),!m){a=c+(a.length>0?" "+a:a);continue}x=!1}const w=IN(d).join(":"),y=u?w+Lx:w,g=y+m;if(i.includes(g))continue;i.push(g);const _=s(m,x);for(let E=0;E<_.length;++E){const C=_[E];i.push(y+C)}a=c+(a.length>0?" "+a:a)}return a};function RN(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Fx(e))&&(r&&(r+=" "),r+=n);return r}const Fx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Fx(t[r]))&&(n&&(n+=" "),n+=e);return n};function AN(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,u)=>u(d),t());return n=kN(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=PN(l,n);return s(l,d),d}return function(){return i(RN.apply(null,arguments))}}const ve=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},jx=/^\[(?:([a-z-]+):)?(.+)\]$/i,ON=/^\d+\/\d+$/,DN=new Set(["px","full","screen"]),MN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,UN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tn=t=>yi(t)||DN.has(t)||ON.test(t),ir=t=>ro(t,"length",KN),yi=t=>!!t&&!Number.isNaN(Number(t)),Vd=t=>ro(t,"number",yi),Io=t=>!!t&&Number.isInteger(Number(t)),$N=t=>t.endsWith("%")&&yi(t.slice(0,-1)),Y=t=>jx.test(t),or=t=>MN.test(t),zN=new Set(["length","size","percentage"]),BN=t=>ro(t,zN,Ux),WN=t=>ro(t,"position",Ux),VN=new Set(["image","url"]),HN=t=>ro(t,VN,QN),GN=t=>ro(t,"",qN),ko=()=>!0,ro=(t,e,n)=>{const r=jx.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},KN=t=>LN.test(t)&&!FN.test(t),Ux=()=>!1,qN=t=>jN.test(t),QN=t=>UN.test(t),YN=()=>{const t=ve("colors"),e=ve("spacing"),n=ve("blur"),r=ve("brightness"),s=ve("borderColor"),i=ve("borderRadius"),o=ve("borderSpacing"),a=ve("borderWidth"),l=ve("contrast"),c=ve("grayscale"),d=ve("hueRotate"),u=ve("invert"),f=ve("gap"),h=ve("gradientColorStops"),x=ve("gradientColorStopPositions"),m=ve("inset"),w=ve("margin"),y=ve("opacity"),g=ve("padding"),_=ve("saturate"),E=ve("scale"),C=ve("sepia"),S=ve("skew"),b=ve("space"),T=ve("translate"),P=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Y,e],M=()=>[Y,e],H=()=>["",Tn,ir],L=()=>["auto",yi,Y],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",Y],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[yi,Y];return{cacheSize:500,separator:":",theme:{colors:[ko],spacing:[Tn,ir],blur:["none","",or,Y],brightness:Q(),borderColor:[t],borderRadius:["none","","full",or,Y],borderSpacing:M(),borderWidth:H(),contrast:Q(),grayscale:k(),hueRotate:Q(),invert:k(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[$N,ir],inset:F(),margin:F(),opacity:Q(),padding:M(),saturate:Q(),scale:Q(),sepia:k(),skew:Q(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Y]}],container:["container"],columns:[{columns:[or]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),Y]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Io,Y]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Y]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",Io,Y]}],"grid-cols":[{"grid-cols":[ko]}],"col-start-end":[{col:["auto",{span:["full",Io,Y]},Y]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[ko]}],"row-start-end":[{row:["auto",{span:[Io,Y]},Y]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Y]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Y]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Y,e]}],"min-w":[{"min-w":[Y,e,"min","max","fit"]}],"max-w":[{"max-w":[Y,e,"none","full","min","max","fit","prose",{screen:[or]},or]}],h:[{h:[Y,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Y,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Y,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Y,e,"auto","min","max","fit"]}],"font-size":[{text:["base",or,ir]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vd]}],"font-family":[{font:[ko]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Y]}],"line-clamp":[{"line-clamp":["none",yi,Vd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Tn,Y]}],"list-image":[{"list-image":["none",Y]}],"list-style-type":[{list:["none","disc","decimal",Y]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Tn,ir]}],"underline-offset":[{"underline-offset":["auto",Tn,Y]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Y]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Y]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),WN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",BN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},HN]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Tn,Y]}],"outline-w":[{outline:[Tn,ir]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Tn,ir]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",or,GN]}],"shadow-color":[{shadow:[ko]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",or,Y]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[_]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Y]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",Y]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Y]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Io,Y]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Y]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Y]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Y]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Tn,ir,Vd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},XN=AN(YN);function de(...t){return XN(Rx(t))}const JN=aN,$x=v.forwardRef(({className:t,...e},n)=>p.jsx(Sx,{ref:n,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));$x.displayName=Sx.displayName;const ZN=Au("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),zx=v.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(bx,{ref:r,className:de(ZN({variant:e}),t),...n}));zx.displayName=bx.displayName;const eP=v.forwardRef(({className:t,...e},n)=>p.jsx(kx,{ref:n,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));eP.displayName=kx.displayName;const Bx=v.forwardRef(({className:t,...e},n)=>p.jsx(Nx,{ref:n,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(_N,{className:"h-4 w-4"})}));Bx.displayName=Nx.displayName;const Wx=v.forwardRef(({className:t,...e},n)=>p.jsx(Tx,{ref:n,className:de("text-sm font-semibold",t),...e}));Wx.displayName=Tx.displayName;const Vx=v.forwardRef(({className:t,...e},n)=>p.jsx(Ix,{ref:n,className:de("text-sm opacity-90",t),...e}));Vx.displayName=Ix.displayName;function tP(){const{toasts:t}=nx();return p.jsxs(JN,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return p.jsxs(zx,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(Wx,{children:n}),r&&p.jsx(Vx,{children:r})]}),s,p.jsx(Bx,{})]},e)}),p.jsx($x,{})]})}var jv=["light","dark"],nP="(prefers-color-scheme: dark)",rP=v.createContext(void 0),sP={setTheme:t=>{},themes:[]},iP=()=>{var t;return(t=v.useContext(rP))!=null?t:sP};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,u=s?jv.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(x,m=!1,w=!0)=>{let y=o?o[x]:x,g=m?x+"|| ''":`'${y}'`,_="";return s&&w&&!m&&jv.includes(x)&&(_+=`d.style.colorScheme = '${x}';`),n==="class"?m||y?_+=`c.add(${g})`:_+="null":y&&(_+=`d[s](n,${g})`),_},h=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${nP}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(i,!1,!1)+"}"}${u}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${u}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var oP=t=>{switch(t){case"success":return cP;case"info":return dP;case"warning":return uP;case"error":return fP;default:return null}},aP=Array(12).fill(0),lP=({visible:t,className:e})=>D.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},D.createElement("div",{className:"sonner-spinner"},aP.map((n,r)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),cP=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),uP=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dP=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),fP=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),hP=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),pP=()=>{let[t,e]=D.useState(document.hidden);return D.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},mh=1,mP=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:mh++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],D.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(vP(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:d})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:d})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:d})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||mh++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ht=new mP,gP=(t,e)=>{let n=(e==null?void 0:e.id)||mh++;return ht.addToast({title:t,...e,id:n}),n},vP=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",yP=gP,_P=()=>ht.toasts,wP=()=>ht.getActiveToasts(),je=Object.assign(yP,{success:ht.success,info:ht.info,warning:ht.warning,error:ht.error,custom:ht.custom,message:ht.message,promise:ht.promise,dismiss:ht.dismiss,loading:ht.loading},{getHistory:_P,getToasts:wP});function xP(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}xP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Nl(t){return t.label!==void 0}var EP=3,CP="32px",SP="16px",Uv=4e3,bP=356,TP=14,IP=20,kP=200;function Vt(...t){return t.filter(Boolean).join(" ")}function NP(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var PP=t=>{var e,n,r,s,i,o,a,l,c,d,u;let{invert:f,toast:h,unstyled:x,interacting:m,setHeights:w,visibleToasts:y,heights:g,index:_,toasts:E,expanded:C,removeToast:S,defaultRichColors:b,closeButton:T,style:P,cancelButtonStyle:R,actionButtonStyle:F,className:M="",descriptionClassName:H="",duration:L,position:G,gap:$,loadingIcon:B,expandByDefault:I,classNames:k,icons:j,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:z}=t,[Z,ne]=D.useState(null),[Ae,Qe]=D.useState(null),[ae,zs]=D.useState(!1),[Jn,ns]=D.useState(!1),[Zn,Bs]=D.useState(!1),[er,ol]=D.useState(!1),[ud,al]=D.useState(!1),[dd,vo]=D.useState(0),[Ws,dg]=D.useState(0),yo=D.useRef(h.duration||L||Uv),fg=D.useRef(null),rs=D.useRef(null),Rb=_===0,Ab=_+1<=y,Nt=h.type,Vs=h.dismissible!==!1,Ob=h.className||"",Db=h.descriptionClassName||"",ll=D.useMemo(()=>g.findIndex(K=>K.toastId===h.id)||0,[g,h.id]),Mb=D.useMemo(()=>{var K;return(K=h.closeButton)!=null?K:T},[h.closeButton,T]),hg=D.useMemo(()=>h.duration||L||Uv,[h.duration,L]),fd=D.useRef(0),Hs=D.useRef(0),pg=D.useRef(0),Gs=D.useRef(null),[Lb,Fb]=G.split("-"),mg=D.useMemo(()=>g.reduce((K,ce,xe)=>xe>=ll?K:K+ce.height,0),[g,ll]),gg=pP(),jb=h.invert||f,hd=Nt==="loading";Hs.current=D.useMemo(()=>ll*$+mg,[ll,mg]),D.useEffect(()=>{yo.current=hg},[hg]),D.useEffect(()=>{zs(!0)},[]),D.useEffect(()=>{let K=rs.current;if(K){let ce=K.getBoundingClientRect().height;return dg(ce),w(xe=>[{toastId:h.id,height:ce,position:h.position},...xe]),()=>w(xe=>xe.filter($t=>$t.toastId!==h.id))}},[w,h.id]),D.useLayoutEffect(()=>{if(!ae)return;let K=rs.current,ce=K.style.height;K.style.height="auto";let xe=K.getBoundingClientRect().height;K.style.height=ce,dg(xe),w($t=>$t.find(zt=>zt.toastId===h.id)?$t.map(zt=>zt.toastId===h.id?{...zt,height:xe}:zt):[{toastId:h.id,height:xe,position:h.position},...$t])},[ae,h.title,h.description,w,h.id]);let tr=D.useCallback(()=>{ns(!0),vo(Hs.current),w(K=>K.filter(ce=>ce.toastId!==h.id)),setTimeout(()=>{S(h)},kP)},[h,S,w,Hs]);D.useEffect(()=>{if(h.promise&&Nt==="loading"||h.duration===1/0||h.type==="loading")return;let K;return C||m||z&&gg?(()=>{if(pg.current<fd.current){let ce=new Date().getTime()-fd.current;yo.current=yo.current-ce}pg.current=new Date().getTime()})():yo.current!==1/0&&(fd.current=new Date().getTime(),K=setTimeout(()=>{var ce;(ce=h.onAutoClose)==null||ce.call(h,h),tr()},yo.current)),()=>clearTimeout(K)},[C,m,h,Nt,z,gg,tr]),D.useEffect(()=>{h.delete&&tr()},[tr,h.delete]);function Ub(){var K,ce,xe;return j!=null&&j.loading?D.createElement("div",{className:Vt(k==null?void 0:k.loader,(K=h==null?void 0:h.classNames)==null?void 0:K.loader,"sonner-loader"),"data-visible":Nt==="loading"},j.loading):B?D.createElement("div",{className:Vt(k==null?void 0:k.loader,(ce=h==null?void 0:h.classNames)==null?void 0:ce.loader,"sonner-loader"),"data-visible":Nt==="loading"},B):D.createElement(lP,{className:Vt(k==null?void 0:k.loader,(xe=h==null?void 0:h.classNames)==null?void 0:xe.loader),visible:Nt==="loading"})}return D.createElement("li",{tabIndex:0,ref:rs,className:Vt(M,Ob,k==null?void 0:k.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,k==null?void 0:k.default,k==null?void 0:k[Nt],(n=h==null?void 0:h.classNames)==null?void 0:n[Nt]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:b,"data-styled":!(h.jsx||h.unstyled||x),"data-mounted":ae,"data-promise":!!h.promise,"data-swiped":ud,"data-removed":Jn,"data-visible":Ab,"data-y-position":Lb,"data-x-position":Fb,"data-index":_,"data-front":Rb,"data-swiping":Zn,"data-dismissible":Vs,"data-type":Nt,"data-invert":jb,"data-swipe-out":er,"data-swipe-direction":Ae,"data-expanded":!!(C||I&&ae),style:{"--index":_,"--toasts-before":_,"--z-index":E.length-_,"--offset":`${Jn?dd:Hs.current}px`,"--initial-height":I?"auto":`${Ws}px`,...P,...h.style},onDragEnd:()=>{Bs(!1),ne(null),Gs.current=null},onPointerDown:K=>{hd||!Vs||(fg.current=new Date,vo(Hs.current),K.target.setPointerCapture(K.pointerId),K.target.tagName!=="BUTTON"&&(Bs(!0),Gs.current={x:K.clientX,y:K.clientY}))},onPointerUp:()=>{var K,ce,xe,$t;if(er||!Vs)return;Gs.current=null;let zt=Number(((K=rs.current)==null?void 0:K.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),nr=Number(((ce=rs.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ss=new Date().getTime()-((xe=fg.current)==null?void 0:xe.getTime()),Bt=Z==="x"?zt:nr,rr=Math.abs(Bt)/ss;if(Math.abs(Bt)>=IP||rr>.11){vo(Hs.current),($t=h.onDismiss)==null||$t.call(h,h),Qe(Z==="x"?zt>0?"right":"left":nr>0?"down":"up"),tr(),ol(!0),al(!1);return}Bs(!1),ne(null)},onPointerMove:K=>{var ce,xe,$t,zt;if(!Gs.current||!Vs||((ce=window.getSelection())==null?void 0:ce.toString().length)>0)return;let nr=K.clientY-Gs.current.y,ss=K.clientX-Gs.current.x,Bt=(xe=t.swipeDirections)!=null?xe:NP(G);!Z&&(Math.abs(ss)>1||Math.abs(nr)>1)&&ne(Math.abs(ss)>Math.abs(nr)?"x":"y");let rr={x:0,y:0};Z==="y"?(Bt.includes("top")||Bt.includes("bottom"))&&(Bt.includes("top")&&nr<0||Bt.includes("bottom")&&nr>0)&&(rr.y=nr):Z==="x"&&(Bt.includes("left")||Bt.includes("right"))&&(Bt.includes("left")&&ss<0||Bt.includes("right")&&ss>0)&&(rr.x=ss),(Math.abs(rr.x)>0||Math.abs(rr.y)>0)&&al(!0),($t=rs.current)==null||$t.style.setProperty("--swipe-amount-x",`${rr.x}px`),(zt=rs.current)==null||zt.style.setProperty("--swipe-amount-y",`${rr.y}px`)}},Mb&&!h.jsx?D.createElement("button",{"aria-label":Q,"data-disabled":hd,"data-close-button":!0,onClick:hd||!Vs?()=>{}:()=>{var K;tr(),(K=h.onDismiss)==null||K.call(h,h)},className:Vt(k==null?void 0:k.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(i=j==null?void 0:j.close)!=null?i:hP):null,h.jsx||v.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:D.createElement(D.Fragment,null,Nt||h.icon||h.promise?D.createElement("div",{"data-icon":"",className:Vt(k==null?void 0:k.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Ub():null,h.type!=="loading"?h.icon||(j==null?void 0:j[Nt])||oP(Nt):null):null,D.createElement("div",{"data-content":"",className:Vt(k==null?void 0:k.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},D.createElement("div",{"data-title":"",className:Vt(k==null?void 0:k.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?D.createElement("div",{"data-description":"",className:Vt(H,Db,k==null?void 0:k.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),v.isValidElement(h.cancel)?h.cancel:h.cancel&&Nl(h.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||R,onClick:K=>{var ce,xe;Nl(h.cancel)&&Vs&&((xe=(ce=h.cancel).onClick)==null||xe.call(ce,K),tr())},className:Vt(k==null?void 0:k.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,v.isValidElement(h.action)?h.action:h.action&&Nl(h.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||F,onClick:K=>{var ce,xe;Nl(h.action)&&((xe=(ce=h.action).onClick)==null||xe.call(ce,K),!K.defaultPrevented&&tr())},className:Vt(k==null?void 0:k.actionButton,(u=h==null?void 0:h.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function $v(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function RP(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?SP:CP;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var AP=v.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:u,duration:f,style:h,visibleToasts:x=EP,toastOptions:m,dir:w=$v(),gap:y=TP,loadingIcon:g,icons:_,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:C}=t,[S,b]=D.useState([]),T=D.useMemo(()=>Array.from(new Set([r].concat(S.filter(z=>z.position).map(z=>z.position)))),[S,r]),[P,R]=D.useState([]),[F,M]=D.useState(!1),[H,L]=D.useState(!1),[G,$]=D.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=D.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=D.useRef(null),j=D.useRef(!1),Q=D.useCallback(z=>{b(Z=>{var ne;return(ne=Z.find(Ae=>Ae.id===z.id))!=null&&ne.delete||ht.dismiss(z.id),Z.filter(({id:Ae})=>Ae!==z.id)})},[]);return D.useEffect(()=>ht.subscribe(z=>{if(z.dismiss){b(Z=>Z.map(ne=>ne.id===z.id?{...ne,delete:!0}:ne));return}setTimeout(()=>{ex.flushSync(()=>{b(Z=>{let ne=Z.findIndex(Ae=>Ae.id===z.id);return ne!==-1?[...Z.slice(0,ne),{...Z[ne],...z},...Z.slice(ne+1)]:[z,...Z]})})})}),[]),D.useEffect(()=>{if(d!=="system"){$(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:Z})=>{$(Z?"dark":"light")})}catch{z.addListener(({matches:ne})=>{try{$(ne?"dark":"light")}catch(Ae){console.error(Ae)}})}},[d]),D.useEffect(()=>{S.length<=1&&M(!1)},[S]),D.useEffect(()=>{let z=Z=>{var ne,Ae;s.every(Qe=>Z[Qe]||Z.code===Qe)&&(M(!0),(ne=B.current)==null||ne.focus()),Z.code==="Escape"&&(document.activeElement===B.current||(Ae=B.current)!=null&&Ae.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[s]),D.useEffect(()=>{if(B.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,j.current=!1)}},[B.current]),D.createElement("section",{ref:e,"aria-label":`${E} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((z,Z)=>{var ne;let[Ae,Qe]=z.split("-");return S.length?D.createElement("ol",{key:z,dir:w==="auto"?$v():w,tabIndex:-1,ref:B,className:a,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":Ae,"data-lifted":F&&S.length>1&&!i,"data-x-position":Qe,style:{"--front-toast-height":`${((ne=P[0])==null?void 0:ne.height)||0}px`,"--width":`${bP}px`,"--gap":`${y}px`,...h,...RP(l,c)},onBlur:ae=>{j.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(j.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||j.current||(j.current=!0,k.current=ae.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{H||M(!1)},onDragEnd:()=>M(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},S.filter(ae=>!ae.position&&Z===0||ae.position===z).map((ae,zs)=>{var Jn,ns;return D.createElement(PP,{key:ae.id,icons:_,index:zs,toast:ae,defaultRichColors:u,duration:(Jn=m==null?void 0:m.duration)!=null?Jn:f,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:x,closeButton:(ns=m==null?void 0:m.closeButton)!=null?ns:o,interacting:H,position:z,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:Q,toasts:S.filter(Zn=>Zn.position==ae.position),heights:P.filter(Zn=>Zn.position==ae.position),setHeights:R,expandByDefault:i,gap:y,loadingIcon:g,expanded:F,pauseWhenPageIsHidden:C,swipeDirections:t.swipeDirections})})):null}))});const OP=({...t})=>{const{theme:e="system"}=iP();return p.jsx(AP,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var DP=sp[" useId ".trim().toString()]||(()=>{}),MP=0;function Hd(t){const[e,n]=v.useState(DP());return Wn(()=>{t||n(r=>r??String(MP++))},[t]),t||(e?`radix-${e}`:"")}const LP=["top","right","bottom","left"],Br=Math.min,Et=Math.max,Mc=Math.round,Pl=Math.floor,_n=t=>({x:t,y:t}),FP={left:"right",right:"left",bottom:"top",top:"bottom"},jP={start:"end",end:"start"};function gh(t,e,n){return Et(t,Br(e,n))}function Vn(t,e){return typeof t=="function"?t(e):t}function Hn(t){return t.split("-")[0]}function so(t){return t.split("-")[1]}function em(t){return t==="x"?"y":"x"}function tm(t){return t==="y"?"height":"width"}const UP=new Set(["top","bottom"]);function gn(t){return UP.has(Hn(t))?"y":"x"}function nm(t){return em(gn(t))}function $P(t,e,n){n===void 0&&(n=!1);const r=so(t),s=nm(t),i=tm(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Lc(o)),[o,Lc(o)]}function zP(t){const e=Lc(t);return[vh(t),e,vh(e)]}function vh(t){return t.replace(/start|end/g,e=>jP[e])}const zv=["left","right"],Bv=["right","left"],BP=["top","bottom"],WP=["bottom","top"];function VP(t,e,n){switch(t){case"top":case"bottom":return n?e?Bv:zv:e?zv:Bv;case"left":case"right":return e?BP:WP;default:return[]}}function HP(t,e,n,r){const s=so(t);let i=VP(Hn(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(vh)))),i}function Lc(t){return t.replace(/left|right|bottom|top/g,e=>FP[e])}function GP(t){return{top:0,right:0,bottom:0,left:0,...t}}function Hx(t){return typeof t!="number"?GP(t):{top:t,right:t,bottom:t,left:t}}function Fc(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Wv(t,e,n){let{reference:r,floating:s}=t;const i=gn(e),o=nm(e),a=tm(o),l=Hn(e),c=i==="y",d=r.x+r.width/2-s.width/2,u=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let h;switch(l){case"top":h={x:d,y:r.y-s.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:u};break;case"left":h={x:r.x-s.width,y:u};break;default:h={x:r.x,y:r.y}}switch(so(e)){case"start":h[o]-=f*(n&&c?-1:1);break;case"end":h[o]+=f*(n&&c?-1:1);break}return h}const KP=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:u}=Wv(c,r,l),f=r,h={},x=0;for(let m=0;m<a.length;m++){const{name:w,fn:y}=a[m],{x:g,y:_,data:E,reset:C}=await y({x:d,y:u,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});d=g??d,u=_??u,h={...h,[w]:{...h[w],...E}},C&&x<=50&&(x++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:d,y:u}=Wv(c,f,l)),m=-1)}return{x:d,y:u,placement:f,strategy:s,middlewareData:h}};async function xa(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:h=0}=Vn(e,t),x=Hx(h),w=a[f?u==="floating"?"reference":"floating":u],y=Fc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),g=u==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},C=Fc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:_,strategy:l}):g);return{top:(y.top-C.top+x.top)/E.y,bottom:(C.bottom-y.bottom+x.bottom)/E.y,left:(y.left-C.left+x.left)/E.x,right:(C.right-y.right+x.right)/E.x}}const qP=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Vn(t,e)||{};if(c==null)return{};const u=Hx(d),f={x:n,y:r},h=nm(s),x=tm(h),m=await o.getDimensions(c),w=h==="y",y=w?"top":"left",g=w?"bottom":"right",_=w?"clientHeight":"clientWidth",E=i.reference[x]+i.reference[h]-f[h]-i.floating[x],C=f[h]-i.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let b=S?S[_]:0;(!b||!await(o.isElement==null?void 0:o.isElement(S)))&&(b=a.floating[_]||i.floating[x]);const T=E/2-C/2,P=b/2-m[x]/2-1,R=Br(u[y],P),F=Br(u[g],P),M=R,H=b-m[x]-F,L=b/2-m[x]/2+T,G=gh(M,L,H),$=!l.arrow&&so(s)!=null&&L!==G&&i.reference[x]/2-(L<M?R:F)-m[x]/2<0,B=$?L<M?L-M:L-H:0;return{[h]:f[h]+B,data:{[h]:G,centerOffset:L-G-B,...$&&{alignmentOffset:B}},reset:$}}}),QP=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...w}=Vn(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Hn(s),g=gn(a),_=Hn(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=f||(_||!m?[Lc(a)]:zP(a)),S=x!=="none";!f&&S&&C.push(...HP(a,m,x,E));const b=[a,...C],T=await xa(e,w),P=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&P.push(T[y]),u){const L=$P(s,o,E);P.push(T[L[0]],T[L[1]])}if(R=[...R,{placement:s,overflows:P}],!P.every(L=>L<=0)){var F,M;const L=(((F=i.flip)==null?void 0:F.index)||0)+1,G=b[L];if(G&&(!(u==="alignment"?g!==gn(G):!1)||R.every(I=>I.overflows[0]>0&&gn(I.placement)===g)))return{data:{index:L,overflows:R},reset:{placement:G}};let $=(M=R.filter(B=>B.overflows[0]<=0).sort((B,I)=>B.overflows[1]-I.overflows[1])[0])==null?void 0:M.placement;if(!$)switch(h){case"bestFit":{var H;const B=(H=R.filter(I=>{if(S){const k=gn(I.placement);return k===g||k==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(k=>k>0).reduce((k,j)=>k+j,0)]).sort((I,k)=>I[1]-k[1])[0])==null?void 0:H[0];B&&($=B);break}case"initialPlacement":$=a;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function Vv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Hv(t){return LP.some(e=>t[e]>=0)}const YP=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Vn(t,e);switch(r){case"referenceHidden":{const i=await xa(e,{...s,elementContext:"reference"}),o=Vv(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Hv(o)}}}case"escaped":{const i=await xa(e,{...s,altBoundary:!0}),o=Vv(i,n.floating);return{data:{escapedOffsets:o,escaped:Hv(o)}}}default:return{}}}}},Gx=new Set(["left","top"]);async function XP(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Hn(n),a=so(n),l=gn(n)==="y",c=Gx.has(o)?-1:1,d=i&&l?-1:1,u=Vn(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:x}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof x=="number"&&(h=a==="end"?x*-1:x),l?{x:h*d,y:f*c}:{x:f*c,y:h*d}}const JP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await XP(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},ZP=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:y,y:g}=w;return{x:y,y:g}}},...l}=Vn(t,e),c={x:n,y:r},d=await xa(e,l),u=gn(Hn(s)),f=em(u);let h=c[f],x=c[u];if(i){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",g=h+d[w],_=h-d[y];h=gh(g,h,_)}if(o){const w=u==="y"?"top":"left",y=u==="y"?"bottom":"right",g=x+d[w],_=x-d[y];x=gh(g,x,_)}const m=a.fn({...e,[f]:h,[u]:x});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:i,[u]:o}}}}}},eR=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Vn(t,e),d={x:n,y:r},u=gn(s),f=em(u);let h=d[f],x=d[u];const m=Vn(a,e),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const _=f==="y"?"height":"width",E=i.reference[f]-i.floating[_]+w.mainAxis,C=i.reference[f]+i.reference[_]-w.mainAxis;h<E?h=E:h>C&&(h=C)}if(c){var y,g;const _=f==="y"?"width":"height",E=Gx.has(Hn(s)),C=i.reference[u]-i.floating[_]+(E&&((y=o.offset)==null?void 0:y[u])||0)+(E?0:w.crossAxis),S=i.reference[u]+i.reference[_]+(E?0:((g=o.offset)==null?void 0:g[u])||0)-(E?w.crossAxis:0);x<C?x=C:x>S&&(x=S)}return{[f]:h,[u]:x}}}},tR=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Vn(t,e),d=await xa(e,c),u=Hn(s),f=so(s),h=gn(s)==="y",{width:x,height:m}=i.floating;let w,y;u==="top"||u==="bottom"?(w=u,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=u,w=f==="end"?"top":"bottom");const g=m-d.top-d.bottom,_=x-d.left-d.right,E=Br(m-d[w],g),C=Br(x-d[y],_),S=!e.middlewareData.shift;let b=E,T=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=g),S&&!f){const R=Et(d.left,0),F=Et(d.right,0),M=Et(d.top,0),H=Et(d.bottom,0);h?T=x-2*(R!==0||F!==0?R+F:Et(d.left,d.right)):b=m-2*(M!==0||H!==0?M+H:Et(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:b});const P=await o.getDimensions(a.floating);return x!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function Ou(){return typeof window<"u"}function io(t){return Kx(t)?(t.nodeName||"").toLowerCase():"#document"}function bt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Sn(t){var e;return(e=(Kx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Kx(t){return Ou()?t instanceof Node||t instanceof bt(t).Node:!1}function sn(t){return Ou()?t instanceof Element||t instanceof bt(t).Element:!1}function Cn(t){return Ou()?t instanceof HTMLElement||t instanceof bt(t).HTMLElement:!1}function Gv(t){return!Ou()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof bt(t).ShadowRoot}const nR=new Set(["inline","contents"]);function Ka(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=on(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!nR.has(s)}const rR=new Set(["table","td","th"]);function sR(t){return rR.has(io(t))}const iR=[":popover-open",":modal"];function Du(t){return iR.some(e=>{try{return t.matches(e)}catch{return!1}})}const oR=["transform","translate","scale","rotate","perspective"],aR=["transform","translate","scale","rotate","perspective","filter"],lR=["paint","layout","strict","content"];function rm(t){const e=sm(),n=sn(t)?on(t):t;return oR.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||aR.some(r=>(n.willChange||"").includes(r))||lR.some(r=>(n.contain||"").includes(r))}function cR(t){let e=Wr(t);for(;Cn(e)&&!Vi(e);){if(rm(e))return e;if(Du(e))return null;e=Wr(e)}return null}function sm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uR=new Set(["html","body","#document"]);function Vi(t){return uR.has(io(t))}function on(t){return bt(t).getComputedStyle(t)}function Mu(t){return sn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Wr(t){if(io(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Gv(t)&&t.host||Sn(t);return Gv(e)?e.host:e}function qx(t){const e=Wr(t);return Vi(e)?t.ownerDocument?t.ownerDocument.body:t.body:Cn(e)&&Ka(e)?e:qx(e)}function Ea(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=qx(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=bt(s);if(i){const a=yh(o);return e.concat(o,o.visualViewport||[],Ka(s)?s:[],a&&n?Ea(a):[])}return e.concat(s,Ea(s,[],n))}function yh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Qx(t){const e=on(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Cn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Mc(n)!==i||Mc(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function im(t){return sn(t)?t:t.contextElement}function _i(t){const e=im(t);if(!Cn(e))return _n(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Qx(e);let o=(i?Mc(n.width):n.width)/r,a=(i?Mc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const dR=_n(0);function Yx(t){const e=bt(t);return!sm()||!e.visualViewport?dR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fR(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==bt(t)?!1:e}function Is(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=im(t);let o=_n(1);e&&(r?sn(r)&&(o=_i(r)):o=_i(t));const a=fR(i,n,r)?Yx(i):_n(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,u=s.height/o.y;if(i){const f=bt(i),h=r&&sn(r)?bt(r):r;let x=f,m=yh(x);for(;m&&r&&h!==x;){const w=_i(m),y=m.getBoundingClientRect(),g=on(m),_=y.left+(m.clientLeft+parseFloat(g.paddingLeft))*w.x,E=y.top+(m.clientTop+parseFloat(g.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,u*=w.y,l+=_,c+=E,x=bt(m),m=yh(x)}}return Fc({width:d,height:u,x:l,y:c})}function om(t,e){const n=Mu(t).scrollLeft;return e?e.left+n:Is(Sn(t)).left+n}function Xx(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:om(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function hR(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Sn(r),a=e?Du(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=_n(1);const d=_n(0),u=Cn(r);if((u||!u&&!i)&&((io(r)!=="body"||Ka(o))&&(l=Mu(r)),Cn(r))){const h=Is(r);c=_i(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const f=o&&!u&&!i?Xx(o,l,!0):_n(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-l.scrollTop*c.y+d.y+f.y}}function pR(t){return Array.from(t.getClientRects())}function mR(t){const e=Sn(t),n=Mu(t),r=t.ownerDocument.body,s=Et(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Et(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+om(t);const a=-n.scrollTop;return on(r).direction==="rtl"&&(o+=Et(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function gR(t,e){const n=bt(t),r=Sn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=sm();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const vR=new Set(["absolute","fixed"]);function yR(t,e){const n=Is(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Cn(t)?_i(t):_n(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Kv(t,e,n){let r;if(e==="viewport")r=gR(t,n);else if(e==="document")r=mR(Sn(t));else if(sn(e))r=yR(e,n);else{const s=Yx(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Fc(r)}function Jx(t,e){const n=Wr(t);return n===e||!sn(n)||Vi(n)?!1:on(n).position==="fixed"||Jx(n,e)}function _R(t,e){const n=e.get(t);if(n)return n;let r=Ea(t,[],!1).filter(a=>sn(a)&&io(a)!=="body"),s=null;const i=on(t).position==="fixed";let o=i?Wr(t):t;for(;sn(o)&&!Vi(o);){const a=on(o),l=rm(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&vR.has(s.position)||Ka(o)&&!l&&Jx(t,o))?r=r.filter(d=>d!==o):s=a,o=Wr(o)}return e.set(t,r),r}function wR(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Du(e)?[]:_R(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const u=Kv(e,d,s);return c.top=Et(u.top,c.top),c.right=Br(u.right,c.right),c.bottom=Br(u.bottom,c.bottom),c.left=Et(u.left,c.left),c},Kv(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function xR(t){const{width:e,height:n}=Qx(t);return{width:e,height:n}}function ER(t,e,n){const r=Cn(e),s=Sn(e),i=n==="fixed",o=Is(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=_n(0);function c(){l.x=om(s)}if(r||!r&&!i)if((io(e)!=="body"||Ka(s))&&(a=Mu(e)),r){const h=Is(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?Xx(s,a):_n(0),u=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:u,y:f,width:o.width,height:o.height}}function Gd(t){return on(t).position==="static"}function qv(t,e){if(!Cn(t)||on(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Sn(t)===n&&(n=n.ownerDocument.body),n}function Zx(t,e){const n=bt(t);if(Du(t))return n;if(!Cn(t)){let s=Wr(t);for(;s&&!Vi(s);){if(sn(s)&&!Gd(s))return s;s=Wr(s)}return n}let r=qv(t,e);for(;r&&sR(r)&&Gd(r);)r=qv(r,e);return r&&Vi(r)&&Gd(r)&&!rm(r)?n:r||cR(t)||n}const CR=async function(t){const e=this.getOffsetParent||Zx,n=this.getDimensions,r=await n(t.floating);return{reference:ER(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function SR(t){return on(t).direction==="rtl"}const bR={convertOffsetParentRelativeRectToViewportRelativeRect:hR,getDocumentElement:Sn,getClippingRect:wR,getOffsetParent:Zx,getElementRects:CR,getClientRects:pR,getDimensions:xR,getScale:_i,isElement:sn,isRTL:SR};function eE(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function TR(t,e){let n=null,r;const s=Sn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:u,width:f,height:h}=c;if(a||e(),!f||!h)return;const x=Pl(u),m=Pl(s.clientWidth-(d+f)),w=Pl(s.clientHeight-(u+h)),y=Pl(d),_={rootMargin:-x+"px "+-m+"px "+-w+"px "+-y+"px",threshold:Et(0,Br(1,l))||1};let E=!0;function C(S){const b=S[0].intersectionRatio;if(b!==l){if(!E)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!eE(c,t.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(C,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,_)}n.observe(t)}return o(!0),i}function IR(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=im(t),d=s||i?[...c?Ea(c):[],...Ea(e)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const u=c&&a?TR(c,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(y=>{let[g]=y;g&&g.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let x,m=l?Is(t):null;l&&w();function w(){const y=Is(t);m&&!eE(m,y)&&n(),m=y,x=requestAnimationFrame(w)}return n(),()=>{var y;d.forEach(g=>{s&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),u==null||u(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(x)}}const kR=JP,NR=ZP,PR=QP,RR=tR,AR=YP,Qv=qP,OR=eR,DR=(t,e,n)=>{const r=new Map,s={platform:bR,...n},i={...s.platform,_c:r};return KP(t,e,{...s,platform:i})};var MR=typeof document<"u",LR=function(){},tc=MR?v.useLayoutEffect:LR;function jc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!jc(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!jc(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function tE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Yv(t,e){const n=tE(t);return Math.round(e*n)/n}function Kd(t){const e=v.useRef(t);return tc(()=>{e.current=t}),e}function FR(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,u]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=v.useState(r);jc(f,r)||h(r);const[x,m]=v.useState(null),[w,y]=v.useState(null),g=v.useCallback(I=>{I!==S.current&&(S.current=I,m(I))},[]),_=v.useCallback(I=>{I!==b.current&&(b.current=I,y(I))},[]),E=i||x,C=o||w,S=v.useRef(null),b=v.useRef(null),T=v.useRef(d),P=l!=null,R=Kd(l),F=Kd(s),M=Kd(c),H=v.useCallback(()=>{if(!S.current||!b.current)return;const I={placement:e,strategy:n,middleware:f};F.current&&(I.platform=F.current),DR(S.current,b.current,I).then(k=>{const j={...k,isPositioned:M.current!==!1};L.current&&!jc(T.current,j)&&(T.current=j,Ha.flushSync(()=>{u(j)}))})},[f,e,n,F,M]);tc(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,u(I=>({...I,isPositioned:!1})))},[c]);const L=v.useRef(!1);tc(()=>(L.current=!0,()=>{L.current=!1}),[]),tc(()=>{if(E&&(S.current=E),C&&(b.current=C),E&&C){if(R.current)return R.current(E,C,H);H()}},[E,C,H,R,P]);const G=v.useMemo(()=>({reference:S,floating:b,setReference:g,setFloating:_}),[g,_]),$=v.useMemo(()=>({reference:E,floating:C}),[E,C]),B=v.useMemo(()=>{const I={position:n,left:0,top:0};if(!$.floating)return I;const k=Yv($.floating,d.x),j=Yv($.floating,d.y);return a?{...I,transform:"translate("+k+"px, "+j+"px)",...tE($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:k,top:j}},[n,a,$.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:H,refs:G,elements:$,floatingStyles:B}),[d,H,G,$,B])}const jR=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Qv({element:r.current,padding:s}).fn(n):{}:r?Qv({element:r,padding:s}).fn(n):{}}}},UR=(t,e)=>({...kR(t),options:[t,e]}),$R=(t,e)=>({...NR(t),options:[t,e]}),zR=(t,e)=>({...OR(t),options:[t,e]}),BR=(t,e)=>({...PR(t),options:[t,e]}),WR=(t,e)=>({...RR(t),options:[t,e]}),VR=(t,e)=>({...AR(t),options:[t,e]}),HR=(t,e)=>({...jR(t),options:[t,e]});var GR="Arrow",nE=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(he.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});nE.displayName=GR;var KR=nE;function am(t){const[e,n]=v.useState(void 0);return Wn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var rE="Popper",[sE,iE]=Yr(rE),[p6,oE]=sE(rE),aE="PopperAnchor",lE=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=oE(aE,n),o=v.useRef(null),a=we(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(he.div,{...s,ref:a})});lE.displayName=aE;var lm="PopperContent",[qR,QR]=sE(lm),cE=v.forwardRef((t,e)=>{var ae,zs,Jn,ns,Zn,Bs;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:x,...m}=t,w=oE(lm,n),[y,g]=v.useState(null),_=we(e,er=>g(er)),[E,C]=v.useState(null),S=am(E),b=(S==null?void 0:S.width)??0,T=(S==null?void 0:S.height)??0,P=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(c)?c:[c],M=F.length>0,H={padding:R,boundary:F.filter(XR),altBoundary:M},{refs:L,floatingStyles:G,placement:$,isPositioned:B,middlewareData:I}=FR({strategy:"fixed",placement:P,whileElementsMounted:(...er)=>IR(...er,{animationFrame:h==="always"}),elements:{reference:w.anchor},middleware:[UR({mainAxis:s+T,alignmentAxis:o}),l&&$R({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?zR():void 0,...H}),l&&BR({...H}),WR({...H,apply:({elements:er,rects:ol,availableWidth:ud,availableHeight:al})=>{const{width:dd,height:vo}=ol.reference,Ws=er.floating.style;Ws.setProperty("--radix-popper-available-width",`${ud}px`),Ws.setProperty("--radix-popper-available-height",`${al}px`),Ws.setProperty("--radix-popper-anchor-width",`${dd}px`),Ws.setProperty("--radix-popper-anchor-height",`${vo}px`)}}),E&&HR({element:E,padding:a}),JR({arrowWidth:b,arrowHeight:T}),f&&VR({strategy:"referenceHidden",...H})]}),[k,j]=fE($),Q=En(x);Wn(()=>{B&&(Q==null||Q())},[B,Q]);const z=(ae=I.arrow)==null?void 0:ae.x,Z=(zs=I.arrow)==null?void 0:zs.y,ne=((Jn=I.arrow)==null?void 0:Jn.centerOffset)!==0,[Ae,Qe]=v.useState();return Wn(()=>{y&&Qe(window.getComputedStyle(y).zIndex)},[y]),p.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:B?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(ns=I.transformOrigin)==null?void 0:ns.x,(Zn=I.transformOrigin)==null?void 0:Zn.y].join(" "),...((Bs=I.hide)==null?void 0:Bs.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(qR,{scope:n,placedSide:k,onArrowChange:C,arrowX:z,arrowY:Z,shouldHideArrow:ne,children:p.jsx(he.div,{"data-side":k,"data-align":j,...m,ref:_,style:{...m.style,animation:B?void 0:"none"}})})})});cE.displayName=lm;var uE="PopperArrow",YR={top:"bottom",right:"left",bottom:"top",left:"right"},dE=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=QR(uE,r),o=YR[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(KR,{...s,ref:n,style:{...s.style,display:"block"}})})});dE.displayName=uE;function XR(t){return t!==null}var JR=t=>({name:"transformOrigin",options:t,fn(e){var w,y,g;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=fE(n),u={start:"0%",center:"50%",end:"100%"}[d],f=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,h=(((g=s.arrow)==null?void 0:g.y)??0)+l/2;let x="",m="";return c==="bottom"?(x=o?u:`${f}px`,m=`${-l}px`):c==="top"?(x=o?u:`${f}px`,m=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,m=o?u:`${h}px`):c==="left"&&(x=`${r.floating.width+l}px`,m=o?u:`${h}px`),{data:{x,y:m}}}});function fE(t){const[e,n="center"]=t.split("-");return[e,n]}var ZR=lE,eA=cE,tA=dE,[Lu,m6]=Yr("Tooltip",[iE]),cm=iE(),hE="TooltipProvider",nA=700,Xv="tooltip.open",[rA,pE]=Lu(hE),mE=t=>{const{__scopeTooltip:e,delayDuration:n=nA,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=v.useRef(!0),a=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx(rA,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:v.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};mE.displayName=hE;var gE="Tooltip",[g6,Fu]=Lu(gE),_h="TooltipTrigger",sA=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Fu(_h,n),i=pE(_h,n),o=cm(n),a=v.useRef(null),l=we(e,a,s.onTriggerChange),c=v.useRef(!1),d=v.useRef(!1),u=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),p.jsx(ZR,{asChild:!0,...o,children:p.jsx(he.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ie(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ie(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ie(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:ie(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ie(t.onBlur,s.onClose),onClick:ie(t.onClick,s.onClose)})})});sA.displayName=_h;var iA="TooltipPortal",[v6,oA]=Lu(iA,{forceMount:void 0}),Hi="TooltipContent",vE=v.forwardRef((t,e)=>{const n=oA(Hi,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Fu(Hi,t.__scopeTooltip);return p.jsx(no,{present:r||o.open,children:o.disableHoverableContent?p.jsx(yE,{side:s,...i,ref:e}):p.jsx(aA,{side:s,...i,ref:e})})}),aA=v.forwardRef((t,e)=>{const n=Fu(Hi,t.__scopeTooltip),r=pE(Hi,t.__scopeTooltip),s=v.useRef(null),i=we(e,s),[o,a]=v.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:u}=r,f=v.useCallback(()=>{a(null),u(!1)},[u]),h=v.useCallback((x,m)=>{const w=x.currentTarget,y={x:x.clientX,y:x.clientY},g=fA(y,w.getBoundingClientRect()),_=hA(y,g),E=pA(m.getBoundingClientRect()),C=gA([..._,...E]);a(C),u(!0)},[u]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(l&&d){const x=w=>h(w,d),m=w=>h(w,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",m)}}},[l,d,h,f]),v.useEffect(()=>{if(o){const x=m=>{const w=m.target,y={x:m.clientX,y:m.clientY},g=(l==null?void 0:l.contains(w))||(d==null?void 0:d.contains(w)),_=!mA(y,o);g?f():_&&(f(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,o,c,f]),p.jsx(yE,{...t,ref:i})}),[lA,cA]=Lu(gE,{isInside:!1}),uA=ix("TooltipContent"),yE=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Fu(Hi,n),c=cm(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(Xv,d),()=>document.removeEventListener(Xv,d)),[d]),v.useEffect(()=>{if(l.trigger){const u=f=>{const h=f.target;h!=null&&h.contains(l.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[l.trigger,d]),p.jsx(ku,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:p.jsxs(eA,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(uA,{children:r}),p.jsx(lA,{scope:n,isInside:!0,children:p.jsx(Wk,{id:l.contentId,role:"tooltip",children:s||r})})]})})});vE.displayName=Hi;var _E="TooltipArrow",dA=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=cm(n);return cA(_E,n).isInside?null:p.jsx(tA,{...s,...r,ref:e})});dA.displayName=_E;function fA(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function hA(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function pA(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function mA(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,u=l.x,f=l.y;d>r!=f>r&&n<(u-c)*(r-d)/(f-d)+c&&(s=!s)}return s}function gA(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),vA(e)}function vA(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var yA=mE,wE=vE;const _A=yA,wA=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(wE,{ref:r,sideOffset:e,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));wA.displayName=wE.displayName;var ju=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Uu=typeof window>"u"||"Deno"in globalThis;function Gt(){}function xA(t,e){return typeof t=="function"?t(e):t}function EA(t){return typeof t=="number"&&t>=0&&t!==1/0}function CA(t,e){return Math.max(t+(e||0)-Date.now(),0)}function wh(t,e){return typeof t=="function"?t(e):t}function SA(t,e){return typeof t=="function"?t(e):t}function Jv(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==um(o,e.options))return!1}else if(!Sa(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Zv(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ca(e.options.mutationKey)!==Ca(i))return!1}else if(!Sa(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function um(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ca)(t)}function Ca(t){return JSON.stringify(t,(e,n)=>xh(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Sa(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Sa(t[n],e[n])):!1}function xE(t,e){if(t===e)return t;const n=ey(t)&&ey(e);if(n||xh(t)&&xh(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let d=0;d<o;d++){const u=n?d:i[d];(!n&&l.has(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,c++):(a[u]=xE(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function ey(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xh(t){if(!ty(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ty(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ty(t){return Object.prototype.toString.call(t)==="[object Object]"}function bA(t){return new Promise(e=>{setTimeout(e,t)})}function TA(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?xE(t,e):e}function IA(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function kA(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var dm=Symbol();function EE(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===dm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ps,yr,Ni,O_,NA=(O_=class extends ju{constructor(){super();se(this,ps);se(this,yr);se(this,Ni);q(this,Ni,e=>{if(!Uu&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){N(this,yr)||this.setEventListener(N(this,Ni))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,yr))==null||e.call(this),q(this,yr,void 0))}setEventListener(e){var n;q(this,Ni,e),(n=N(this,yr))==null||n.call(this),q(this,yr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){N(this,ps)!==e&&(q(this,ps,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof N(this,ps)=="boolean"?N(this,ps):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ps=new WeakMap,yr=new WeakMap,Ni=new WeakMap,O_),CE=new NA,Pi,_r,Ri,D_,PA=(D_=class extends ju{constructor(){super();se(this,Pi,!0);se(this,_r);se(this,Ri);q(this,Ri,e=>{if(!Uu&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){N(this,_r)||this.setEventListener(N(this,Ri))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,_r))==null||e.call(this),q(this,_r,void 0))}setEventListener(e){var n;q(this,Ri,e),(n=N(this,_r))==null||n.call(this),q(this,_r,e(this.setOnline.bind(this)))}setOnline(e){N(this,Pi)!==e&&(q(this,Pi,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return N(this,Pi)}},Pi=new WeakMap,_r=new WeakMap,Ri=new WeakMap,D_),Uc=new PA;function RA(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function AA(t){return Math.min(1e3*2**t,3e4)}function SE(t){return(t??"online")==="online"?Uc.isOnline():!0}var bE=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function qd(t){return t instanceof bE}function TE(t){let e=!1,n=0,r=!1,s;const i=RA(),o=m=>{var w;r||(f(new bE(m)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>CE.isFocused()&&(t.networkMode==="always"||Uc.isOnline())&&t.canRun(),d=()=>SE(t.networkMode)&&t.canRun(),u=m=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,m),s==null||s(),i.resolve(m))},f=m=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,m),s==null||s(),i.reject(m))},h=()=>new Promise(m=>{var w;s=y=>{(r||c())&&m(y)},(w=t.onPause)==null||w.call(t)}).then(()=>{var m;s=void 0,r||(m=t.onContinue)==null||m.call(t)}),x=()=>{if(r)return;let m;const w=n===0?t.initialPromise:void 0;try{m=w??t.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(u).catch(y=>{var S;if(r)return;const g=t.retry??(Uu?0:3),_=t.retryDelay??AA,E=typeof _=="function"?_(n,y):_,C=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,y);if(e||!C){f(y);return}n++,(S=t.onFail)==null||S.call(t,n,y),bA(E).then(()=>c()?void 0:h()).then(()=>{e?f(y):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?x():h().then(x),i)}}var OA=t=>setTimeout(t,0);function DA(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=OA;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ot=DA(),ms,M_,IE=(M_=class{constructor(){se(this,ms)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),EA(this.gcTime)&&q(this,ms,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Uu?1/0:5*60*1e3))}clearGcTimeout(){N(this,ms)&&(clearTimeout(N(this,ms)),q(this,ms,void 0))}},ms=new WeakMap,M_),Ai,gs,Pt,vs,Ze,ja,ys,Kt,In,L_,MA=(L_=class extends IE{constructor(e){super();se(this,Kt);se(this,Ai);se(this,gs);se(this,Pt);se(this,vs);se(this,Ze);se(this,ja);se(this,ys);q(this,ys,!1),q(this,ja,e.defaultOptions),this.setOptions(e.options),this.observers=[],q(this,vs,e.client),q(this,Pt,N(this,vs).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,q(this,Ai,FA(this.options)),this.state=e.state??N(this,Ai),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=N(this,Ze))==null?void 0:e.promise}setOptions(e){this.options={...N(this,ja),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,Pt).remove(this)}setData(e,n){const r=TA(this.state.data,e,this.options);return Ye(this,Kt,In).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ye(this,Kt,In).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=N(this,Ze))==null?void 0:r.promise;return(s=N(this,Ze))==null||s.cancel(e),n?n.then(Gt).catch(Gt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,Ai))}isActive(){return this.observers.some(e=>SA(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>wh(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!CA(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=N(this,Ze))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=N(this,Ze))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),N(this,Pt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(N(this,Ze)&&(N(this,ys)?N(this,Ze).cancel({revert:!0}):N(this,Ze).cancelRetry()),this.scheduleGc()),N(this,Pt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,Kt,In).call(this,{type:"invalidate"})}fetch(e,n){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(N(this,Ze))return N(this,Ze).continueRetry(),N(this,Ze).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(q(this,ys,!0),r.signal)})},i=()=>{const f=EE(this.options,n),x=(()=>{const m={client:N(this,vs),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return q(this,ys,!1),this.options.persister?this.options.persister(f,x,this):f(x)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:N(this,vs),state:this.state,fetchFn:i};return s(f),f})();(c=this.options.behavior)==null||c.onFetch(a,this),q(this,gs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Ye(this,Kt,In).call(this,{type:"fetch",meta:(u=a.fetchOptions)==null?void 0:u.meta});const l=f=>{var h,x,m,w;qd(f)&&f.silent||Ye(this,Kt,In).call(this,{type:"error",error:f}),qd(f)||((x=(h=N(this,Pt).config).onError)==null||x.call(h,f,this),(w=(m=N(this,Pt).config).onSettled)==null||w.call(m,this.state.data,f,this)),this.scheduleGc()};return q(this,Ze,TE({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,x,m,w;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(x=(h=N(this,Pt).config).onSuccess)==null||x.call(h,f,this),(w=(m=N(this,Pt).config).onSettled)==null||w.call(m,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Ye(this,Kt,In).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Ye(this,Kt,In).call(this,{type:"pause"})},onContinue:()=>{Ye(this,Kt,In).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),N(this,Ze).start()}},Ai=new WeakMap,gs=new WeakMap,Pt=new WeakMap,vs=new WeakMap,Ze=new WeakMap,ja=new WeakMap,ys=new WeakMap,Kt=new WeakSet,In=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...LA(r.data,this.options),fetchMeta:e.meta??null};case"success":return q(this,gs,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return qd(s)&&s.revert&&N(this,gs)?{...N(this,gs),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ot.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),N(this,Pt).notify({query:this,type:"updated",action:e})})},L_);function LA(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function FA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var dn,F_,jA=(F_=class extends ju{constructor(e={}){super();se(this,dn);this.config=e,q(this,dn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??um(s,n);let o=this.get(i);return o||(o=new MA({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){N(this,dn).has(e.queryHash)||(N(this,dn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=N(this,dn).get(e.queryHash);n&&(e.destroy(),n===e&&N(this,dn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ot.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return N(this,dn).get(e)}getAll(){return[...N(this,dn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Jv(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Jv(e,r)):n}notify(e){ot.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ot.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ot.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},dn=new WeakMap,F_),fn,rt,_s,hn,lr,j_,UA=(j_=class extends IE{constructor(e){super();se(this,hn);se(this,fn);se(this,rt);se(this,_s);this.mutationId=e.mutationId,q(this,rt,e.mutationCache),q(this,fn,[]),this.state=e.state||$A(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){N(this,fn).includes(e)||(N(this,fn).push(e),this.clearGcTimeout(),N(this,rt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){q(this,fn,N(this,fn).filter(n=>n!==e)),this.scheduleGc(),N(this,rt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){N(this,fn).length||(this.state.status==="pending"?this.scheduleGc():N(this,rt).remove(this))}continue(){var e;return((e=N(this,_s))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,c,d,u,f,h,x,m,w,y,g,_,E,C,S,b,T;const n=()=>{Ye(this,hn,lr).call(this,{type:"continue"})};q(this,_s,TE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,R)=>{Ye(this,hn,lr).call(this,{type:"failed",failureCount:P,error:R})},onPause:()=>{Ye(this,hn,lr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,rt).canRun(this)}));const r=this.state.status==="pending",s=!N(this,_s).canStart();try{if(r)n();else{Ye(this,hn,lr).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=N(this,rt).config).onMutate)==null?void 0:o.call(i,e,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));R!==this.state.context&&Ye(this,hn,lr).call(this,{type:"pending",context:R,variables:e,isPaused:s})}const P=await N(this,_s).start();return await((d=(c=N(this,rt).config).onSuccess)==null?void 0:d.call(c,P,e,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,P,e,this.state.context)),await((x=(h=N(this,rt).config).onSettled)==null?void 0:x.call(h,P,null,this.state.variables,this.state.context,this)),await((w=(m=this.options).onSettled)==null?void 0:w.call(m,P,null,e,this.state.context)),Ye(this,hn,lr).call(this,{type:"success",data:P}),P}catch(P){try{throw await((g=(y=N(this,rt).config).onError)==null?void 0:g.call(y,P,e,this.state.context,this)),await((E=(_=this.options).onError)==null?void 0:E.call(_,P,e,this.state.context)),await((S=(C=N(this,rt).config).onSettled)==null?void 0:S.call(C,void 0,P,this.state.variables,this.state.context,this)),await((T=(b=this.options).onSettled)==null?void 0:T.call(b,void 0,P,e,this.state.context)),P}finally{Ye(this,hn,lr).call(this,{type:"error",error:P})}}finally{N(this,rt).runNext(this)}}},fn=new WeakMap,rt=new WeakMap,_s=new WeakMap,hn=new WeakSet,lr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ot.batch(()=>{N(this,fn).forEach(r=>{r.onMutationUpdate(e)}),N(this,rt).notify({mutation:this,type:"updated",action:e})})},j_);function $A(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pn,qt,Ua,U_,zA=(U_=class extends ju{constructor(e={}){super();se(this,Pn);se(this,qt);se(this,Ua);this.config=e,q(this,Pn,new Set),q(this,qt,new Map),q(this,Ua,0)}build(e,n,r){const s=new UA({mutationCache:this,mutationId:++cl(this,Ua)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){N(this,Pn).add(e);const n=Rl(e);if(typeof n=="string"){const r=N(this,qt).get(n);r?r.push(e):N(this,qt).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(N(this,Pn).delete(e)){const n=Rl(e);if(typeof n=="string"){const r=N(this,qt).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&N(this,qt).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Rl(e);if(typeof n=="string"){const r=N(this,qt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Rl(e);if(typeof n=="string"){const s=(r=N(this,qt).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ot.batch(()=>{N(this,Pn).forEach(e=>{this.notify({type:"removed",mutation:e})}),N(this,Pn).clear(),N(this,qt).clear()})}getAll(){return Array.from(N(this,Pn))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Zv(n,r))}findAll(e={}){return this.getAll().filter(n=>Zv(e,n))}notify(e){ot.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ot.batch(()=>Promise.all(e.map(n=>n.continue().catch(Gt))))}},Pn=new WeakMap,qt=new WeakMap,Ua=new WeakMap,U_);function Rl(t){var e;return(e=t.options.scope)==null?void 0:e.id}function ny(t){return{onFetch:(e,n)=>{var d,u,f,h,x;const r=e.options,s=(f=(u=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:u.fetchMore)==null?void 0:f.direction,i=((h=e.state.data)==null?void 0:h.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const w=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=EE(e.options,e.fetchOptions),g=async(_,E,C)=>{if(m)return Promise.reject();if(E==null&&_.pages.length)return Promise.resolve(_);const b=(()=>{const F={client:e.client,queryKey:e.queryKey,pageParam:E,direction:C?"backward":"forward",meta:e.options.meta};return w(F),F})(),T=await y(b),{maxPages:P}=e.options,R=C?kA:IA;return{pages:R(_.pages,T,P),pageParams:R(_.pageParams,E,P)}};if(s&&i.length){const _=s==="backward",E=_?BA:ry,C={pages:i,pageParams:o},S=E(r,C);a=await g(C,S,_)}else{const _=t??i.length;do{const E=l===0?o[0]??r.initialPageParam:ry(r,a);if(l>0&&E==null)break;a=await g(a,E),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var m,w;return(w=(m=e.options).persister)==null?void 0:w.call(m,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function ry(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function BA(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ie,wr,xr,Oi,Di,Er,Mi,Li,$_,WA=($_=class{constructor(t={}){se(this,Ie);se(this,wr);se(this,xr);se(this,Oi);se(this,Di);se(this,Er);se(this,Mi);se(this,Li);q(this,Ie,t.queryCache||new jA),q(this,wr,t.mutationCache||new zA),q(this,xr,t.defaultOptions||{}),q(this,Oi,new Map),q(this,Di,new Map),q(this,Er,0)}mount(){cl(this,Er)._++,N(this,Er)===1&&(q(this,Mi,CE.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,Ie).onFocus())})),q(this,Li,Uc.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,Ie).onOnline())})))}unmount(){var t,e;cl(this,Er)._--,N(this,Er)===0&&((t=N(this,Mi))==null||t.call(this),q(this,Mi,void 0),(e=N(this,Li))==null||e.call(this),q(this,Li,void 0))}isFetching(t){return N(this,Ie).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return N(this,wr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=N(this,Ie).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=N(this,Ie).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(wh(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return N(this,Ie).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=N(this,Ie).get(r.queryHash),i=s==null?void 0:s.state.data,o=xA(e,i);if(o!==void 0)return N(this,Ie).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ot.batch(()=>N(this,Ie).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=N(this,Ie).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=N(this,Ie);ot.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=N(this,Ie);return ot.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=ot.batch(()=>N(this,Ie).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Gt).catch(Gt)}invalidateQueries(t,e={}){return ot.batch(()=>(N(this,Ie).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=ot.batch(()=>N(this,Ie).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Gt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Gt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=N(this,Ie).build(this,e);return n.isStaleByTime(wh(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Gt).catch(Gt)}fetchInfiniteQuery(t){return t.behavior=ny(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Gt).catch(Gt)}ensureInfiniteQueryData(t){return t.behavior=ny(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Uc.isOnline()?N(this,wr).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,Ie)}getMutationCache(){return N(this,wr)}getDefaultOptions(){return N(this,xr)}setDefaultOptions(t){q(this,xr,t)}setQueryDefaults(t,e){N(this,Oi).set(Ca(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...N(this,Oi).values()],n={};return e.forEach(r=>{Sa(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){N(this,Di).set(Ca(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...N(this,Di).values()],n={};return e.forEach(r=>{Sa(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...N(this,xr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=um(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===dm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...N(this,xr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){N(this,Ie).clear(),N(this,wr).clear()}},Ie=new WeakMap,wr=new WeakMap,xr=new WeakMap,Oi=new WeakMap,Di=new WeakMap,Er=new WeakMap,Mi=new WeakMap,Li=new WeakMap,$_),VA=v.createContext(void 0),HA=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(VA.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $c(){return $c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$c.apply(this,arguments)}var br;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(br||(br={}));const sy="popstate";function GA(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Eh("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:NE(s)}return qA(e,n,null,t)}function wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KA(){return Math.random().toString(36).substr(2,8)}function iy(t,e){return{usr:t.state,key:t.key,idx:e}}function Eh(t,e,n,r){return n===void 0&&(n=null),$c({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$u(e):e,{state:n,key:e&&e.key||r||KA()})}function NE(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $u(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function qA(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=br.Pop,l=null,c=d();c==null&&(c=0,o.replaceState($c({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function u(){a=br.Pop;let w=d(),y=w==null?null:w-c;c=w,l&&l({action:a,location:m.location,delta:y})}function f(w,y){a=br.Push;let g=Eh(m.location,w,y);c=d()+1;let _=iy(g,c),E=m.createHref(g);try{o.pushState(_,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(E)}i&&l&&l({action:a,location:m.location,delta:1})}function h(w,y){a=br.Replace;let g=Eh(m.location,w,y);c=d();let _=iy(g,c),E=m.createHref(g);o.replaceState(_,"",E),i&&l&&l({action:a,location:m.location,delta:0})}function x(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof w=="string"?w:NE(w);return g=g.replace(/ $/,"%20"),wt(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let m={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(sy,u),l=w,()=>{s.removeEventListener(sy,u),l=null}},createHref(w){return e(s,w)},createURL:x,encodeLocation(w){let y=x(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:h,go(w){return o.go(w)}};return m}var oy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(oy||(oy={}));function QA(t,e,n){return n===void 0&&(n="/"),YA(t,e,n,!1)}function YA(t,e,n,r){let s=typeof e=="string"?$u(e):e,i=AE(s.pathname||"/",n);if(i==null)return null;let o=PE(t);XA(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=lO(i);a=oO(o[l],c,r)}return a}function PE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(wt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=wi([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(wt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),PE(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:sO(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of RE(i.path))s(i,o,l)}),e}function RE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=RE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function XA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const JA=/^:[\w-]+$/,ZA=3,eO=2,tO=1,nO=10,rO=-2,ay=t=>t==="*";function sO(t,e){let n=t.split("/"),r=n.length;return n.some(ay)&&(r+=rO),e&&(r+=eO),n.filter(s=>!ay(s)).reduce((s,i)=>s+(JA.test(i)?ZA:i===""?tO:nO),r)}function iO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function oO(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",u=ly({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=ly({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!u)return null;Object.assign(s,u.params),o.push({params:s,pathname:wi([i,u.pathname]),pathnameBase:cO(wi([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=wi([i,u.pathnameBase]))}return o}function ly(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,u)=>{let{paramName:f,isOptional:h}=d;if(f==="*"){let m=a[u]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const x=a[u];return h&&!x?c[f]=void 0:c[f]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function aO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function lO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function AE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const wi=t=>t.join("/").replace(/\/\/+/g,"/"),cO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function uO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const OE=["post","put","patch","delete"];new Set(OE);const dO=["get",...OE];new Set(dO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zc(){return zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zc.apply(this,arguments)}const fO=v.createContext(null),hO=v.createContext(null),DE=v.createContext(null),zu=v.createContext(null),Bu=v.createContext({outlet:null,matches:[],isDataRoute:!1}),ME=v.createContext(null);function fm(){return v.useContext(zu)!=null}function LE(){return fm()||wt(!1),v.useContext(zu).location}function pO(t,e){return mO(t,e)}function mO(t,e,n,r){fm()||wt(!1);let{navigator:s}=v.useContext(DE),{matches:i}=v.useContext(Bu),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=LE(),d;if(e){var u;let w=typeof e=="string"?$u(e):e;l==="/"||(u=w.pathname)!=null&&u.startsWith(l)||wt(!1),d=w}else d=c;let f=d.pathname||"/",h=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=QA(t,{pathname:h}),m=wO(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:wi([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:wi([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&m?v.createElement(zu.Provider,{value:{location:zc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:br.Pop}},m):m}function gO(){let t=SO(),e=uO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const vO=v.createElement(gO,null);class yO extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Bu.Provider,{value:this.props.routeContext},v.createElement(ME.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _O(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(fO);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Bu.Provider,{value:e},r)}function wO(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);d>=0||wt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let u=o[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:f,errors:h}=n,x=u.route.loader&&f[u.route.id]===void 0&&(!h||h[u.route.id]===void 0);if(u.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,u,f)=>{let h,x=!1,m=null,w=null;n&&(h=a&&u.route.id?a[u.route.id]:void 0,m=u.route.errorElement||vO,l&&(c<0&&f===0?(x=!0,w=null):c===f&&(x=!0,w=u.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),g=()=>{let _;return h?_=m:x?_=w:u.route.Component?_=v.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=d,v.createElement(_O,{match:u,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:_})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?v.createElement(yO,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var Ch=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ch||{});function xO(t){let e=v.useContext(hO);return e||wt(!1),e}function EO(t){let e=v.useContext(Bu);return e||wt(!1),e}function CO(t){let e=EO(),n=e.matches[e.matches.length-1];return n.route.id||wt(!1),n.route.id}function SO(){var t;let e=v.useContext(ME),n=xO(Ch.UseRouteError),r=CO(Ch.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Sh(t){wt(!1)}function TO(t){let{basename:e="/",children:n=null,location:r,navigationType:s=br.Pop,navigator:i,static:o=!1,future:a}=t;fm()&&wt(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:o,future:zc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=$u(r));let{pathname:d="/",search:u="",hash:f="",state:h=null,key:x="default"}=r,m=v.useMemo(()=>{let w=AE(d,l);return w==null?null:{location:{pathname:w,search:u,hash:f,state:h,key:x},navigationType:s}},[l,d,u,f,h,x,s]);return m==null?null:v.createElement(DE.Provider,{value:c},v.createElement(zu.Provider,{children:n,value:m}))}function IO(t){let{children:e,location:n}=t;return pO(bh(e),n)}new Promise(()=>{});function bh(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,bh(r.props.children,i));return}r.type!==Sh&&wt(!1),!r.props.index||!r.props.children||wt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=bh(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const kO="6";try{window.__reactRouterVersion=kO}catch{}const NO="startTransition",cy=sp[NO];function PO(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=GA({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=v.useCallback(u=>{c&&cy?cy(()=>l(u)):l(u)},[l,c]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>bO(r),[r]),v.createElement(TO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var uy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(uy||(uy={}));var dy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dy||(dy={}));const RO=()=>{};var fy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e){if(!t)throw oo(e)},oo=function(t){return new Error("Firebase Database ("+FE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},AO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},hm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,u=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),r.push(n[d],n[u],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const u=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||u==null)throw new OO;const f=i<<2|a>>4;if(r.push(f),c!==64){const h=a<<4&240|c>>2;if(r.push(h),u!==64){const x=c<<6&192|u;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UE=function(t){const e=jE(t);return hm.encodeByteArray(e,!0)},Bc=function(t){return UE(t).replace(/\./g,"")},Wc=function(t){try{return hm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){return $E(void 0,t)}function $E(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!MO(n)||(t[n]=$E(t[n],e[n]));return t}function MO(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=()=>LO().__FIREBASE_DEFAULTS__,jO=()=>{if(typeof process>"u"||typeof fy>"u")return;const t=fy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Wc(t[1]);return e&&JSON.parse(e)},pm=()=>{try{return RO()||FO()||jO()||UO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zE=t=>{var e,n;return(n=(e=pm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},$O=t=>{const e=zE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BE=()=>{var t;return(t=pm())==null?void 0:t.config},WE=t=>{var e;return(e=pm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Bc(JSON.stringify(n)),Bc(JSON.stringify(o)),""].join(".")}const Yo={};function BO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Yo))Yo[e]?t.emulator.push(e):t.prod.push(e);return t}function WO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hy=!1;function HE(t,e){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||Yo[t]===e||Yo[t]||hy)return;Yo[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=BO().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{hy=!0,o()},f}function d(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function u(){const f=WO(r),h=n("text"),x=document.getElementById(h)||document.createElement("span"),m=n("learnmore"),w=document.getElementById(m)||document.createElement("a"),y=n("preprendIcon"),g=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const _=f.element;a(_),d(w,m);const E=c();l(g,y),_.append(g,x,w,E),document.body.appendChild(_)}i?(x.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",u):u()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function VO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GO(){const t=ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KE(){return FE.NODE_ADMIN===!0}function KO(){try{return typeof indexedDB=="object"}catch{return!1}}function qO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="FirebaseError";class Xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QO,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qa.prototype.create)}}class Qa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?YO(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Xr(s,a,r)}}function YO(t,e){return t.replace(XO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const XO=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){return JSON.parse(t)}function Le(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=ba(Wc(i[0])||""),n=ba(Wc(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},JO=function(t){const e=qE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ZO=function(t){const e=qE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Gi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Th(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vc(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function ks(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(py(i)&&py(o)){if(!ks(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function py(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function jo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let u=0;u<16;u++)r[u]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let u=0;u<16;u++)r[u]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let u=16;u<80;u++){const f=r[u-3]^r[u-8]^r[u-14]^r[u-16];r[u]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let u=0;u<80;u++){u<40?u<20?(c=a^i&(o^a),d=1518500249):(c=i^o^a,d=1859775393):u<60?(c=i&o|a&(i|o),d=2400959708):(c=i^o^a,d=3395469782);const f=(s<<5|s>>>27)+c+l+d+r[u]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function tD(t,e){const n=new nD(t,e);return n.subscribe.bind(n)}class nD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Qd),s.error===void 0&&(s.error=Qd),s.complete===void 0&&(s.complete=Qd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qd(){}function Wu(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,O(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Vu=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qa;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aD(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=as){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=as){return this.instances.has(e)}getOptions(e=as){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=as){return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oD(t){return t===as?void 0:t}function aD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const cD={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},uD=ue.INFO,dD={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},fD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=dD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gm{constructor(e){this.name=e,this._logLevel=uD,this._logHandler=fD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const hD=(t,e)=>e.some(n=>t instanceof n);let my,gy;function pD(){return my||(my=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mD(){return gy||(gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QE=new WeakMap,Ih=new WeakMap,YE=new WeakMap,Yd=new WeakMap,vm=new WeakMap;function gD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Mr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QE.set(n,t)}).catch(()=>{}),vm.set(e,t),e}function vD(t){if(Ih.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ih.set(t,e)}let kh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ih.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yD(t){kh=t(kh)}function _D(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xd(this),e,...n);return YE.set(r,e.sort?e.sort():[e]),Mr(r)}:mD().includes(t)?function(...e){return t.apply(Xd(this),e),Mr(QE.get(this))}:function(...e){return Mr(t.apply(Xd(this),e))}}function wD(t){return typeof t=="function"?_D(t):(t instanceof IDBTransaction&&vD(t),hD(t,pD())?new Proxy(t,kh):t)}function Mr(t){if(t instanceof IDBRequest)return gD(t);if(Yd.has(t))return Yd.get(t);const e=wD(t);return e!==t&&(Yd.set(t,e),vm.set(e,t)),e}const Xd=t=>vm.get(t);function xD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Mr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Mr(o.result),l.oldVersion,l.newVersion,Mr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const ED=["get","getKey","getAll","getAllKeys","count"],CD=["put","add","delete","clear"],Jd=new Map;function vy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=CD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ED.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Jd.set(e,i),i}yD(t=>({...t,get:(e,n,r)=>vy(e,n)||t.get(e,n,r),has:(e,n)=>!!vy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nh="@firebase/app",yy="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=new gm("@firebase/app"),TD="@firebase/app-compat",ID="@firebase/analytics-compat",kD="@firebase/analytics",ND="@firebase/app-check-compat",PD="@firebase/app-check",RD="@firebase/auth",AD="@firebase/auth-compat",OD="@firebase/database",DD="@firebase/data-connect",MD="@firebase/database-compat",LD="@firebase/functions",FD="@firebase/functions-compat",jD="@firebase/installations",UD="@firebase/installations-compat",$D="@firebase/messaging",zD="@firebase/messaging-compat",BD="@firebase/performance",WD="@firebase/performance-compat",VD="@firebase/remote-config",HD="@firebase/remote-config-compat",GD="@firebase/storage",KD="@firebase/storage-compat",qD="@firebase/firestore",QD="@firebase/ai",YD="@firebase/firestore-compat",XD="firebase",JD="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="[DEFAULT]",ZD={[Nh]:"fire-core",[TD]:"fire-core-compat",[kD]:"fire-analytics",[ID]:"fire-analytics-compat",[PD]:"fire-app-check",[ND]:"fire-app-check-compat",[RD]:"fire-auth",[AD]:"fire-auth-compat",[OD]:"fire-rtdb",[DD]:"fire-data-connect",[MD]:"fire-rtdb-compat",[LD]:"fire-fn",[FD]:"fire-fn-compat",[jD]:"fire-iid",[UD]:"fire-iid-compat",[$D]:"fire-fcm",[zD]:"fire-fcm-compat",[BD]:"fire-perf",[WD]:"fire-perf-compat",[VD]:"fire-rc",[HD]:"fire-rc-compat",[GD]:"fire-gcs",[KD]:"fire-gcs-compat",[qD]:"fire-fst",[YD]:"fire-fst-compat",[QD]:"fire-vertex","fire-js":"fire-js",[XD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,eM=new Map,Rh=new Map;function _y(t,e){try{t.container.addComponent(e)}catch(n){Gn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ki(t){const e=t.name;if(Rh.has(e))return Gn.debug(`There were multiple attempts to register component ${e}.`),!1;Rh.set(e,t);for(const n of Hc.values())_y(n,t);for(const n of eM.values())_y(n,t);return!0}function ym(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ot(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new Qa("app","Firebase",tM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=JD;function XE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ph,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Lr.create("bad-app-name",{appName:String(s)});if(n||(n=BE()),!n)throw Lr.create("no-options");const i=Hc.get(s);if(i){if(ks(n,i.options)&&ks(r,i.config))return i;throw Lr.create("duplicate-app",{appName:s})}const o=new lD(s);for(const l of Rh.values())o.addComponent(l);const a=new nM(n,r,o);return Hc.set(s,a),a}function JE(t=Ph){const e=Hc.get(t);if(!e&&t===Ph&&BE())return XE();if(!e)throw Lr.create("no-app",{appName:t});return e}function Fr(t,e,n){let r=ZD[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gn.warn(o.join(" "));return}Ki(new Ns(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="firebase-heartbeat-database",sM=1,Ta="firebase-heartbeat-store";let Zd=null;function ZE(){return Zd||(Zd=xD(rM,sM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ta)}catch(n){console.warn(n)}}}}).catch(t=>{throw Lr.create("idb-open",{originalErrorMessage:t.message})})),Zd}async function iM(t){try{const n=(await ZE()).transaction(Ta),r=await n.objectStore(Ta).get(e1(t));return await n.done,r}catch(e){if(e instanceof Xr)Gn.warn(e.message);else{const n=Lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gn.warn(n.message)}}}async function wy(t,e){try{const r=(await ZE()).transaction(Ta,"readwrite");await r.objectStore(Ta).put(e,e1(t)),await r.done}catch(n){if(n instanceof Xr)Gn.warn(n.message);else{const r=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gn.warn(r.message)}}}function e1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=1024,aM=30;class lM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=xy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>aM){const o=dM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xy(),{heartbeatsToSend:r,unsentEntries:s}=cM(this._heartbeatsCache.heartbeats),i=Bc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Gn.warn(n),""}}}function xy(){return new Date().toISOString().substring(0,10)}function cM(t,e=oM){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ey(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ey(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KO()?qO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ey(t){return Bc(JSON.stringify({version:2,heartbeats:t})).length}function dM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t){Ki(new Ns("platform-logger",e=>new SD(e),"PRIVATE")),Ki(new Ns("heartbeat",e=>new lM(e),"PRIVATE")),Fr(Nh,yy,t),Fr(Nh,yy,"esm2020"),Fr("fire-js","")}fM("");function t1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hM=t1,n1=new Qa("auth","Firebase",t1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new gm("@firebase/auth");function pM(t,...e){Gc.logLevel<=ue.WARN&&Gc.warn(`Auth (${co}): ${t}`,...e)}function nc(t,...e){Gc.logLevel<=ue.ERROR&&Gc.error(`Auth (${co}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,...e){throw _m(t,...e)}function wn(t,...e){return _m(t,...e)}function r1(t,e,n){const r={...hM(),[e]:n};return new Qa("auth","Firebase",r).create(e,{appName:t.name})}function Fn(t){return r1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _m(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return n1.create(t,...e)}function W(t,e,...n){if(!t)throw _m(e,...n)}function On(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nc(e),new Error(e)}function Kn(t,e){t||On(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function mM(){return Cy()==="http:"||Cy()==="https:"}function Cy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mM()||HO()||"connection"in navigator)?navigator.onLine:!0}function vM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kn(n>e,"Short delay should be less than long delay!"),this.isMobile=mm()||GE()}get(){return gM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t,e){Kn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;On("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;On("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;On("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wM=new Ya(3e4,6e4);function Jr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Zr(t,e,n,r,s={}){return i1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=lo({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return VO()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ao(t.emulatorConfig.host)&&(c.credentials="include"),s1.fetch()(await o1(t,t.config.apiHost,n,a),c)})}async function i1(t,e,n){t._canInitEmulator=!1;const r={...yM,...e};try{const s=new EM(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Al(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Al(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Al(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Al(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw r1(t,d,c);an(t,d)}}catch(s){if(s instanceof Xr)throw s;an(t,"network-request-failed",{message:String(s)})}}async function Xa(t,e,n,r,s={}){const i=await Zr(t,e,n,r,s);return"mfaPendingCredential"in i&&an(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function o1(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?wm(t.config,s):`${t.config.apiScheme}://${s}`;return _M.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function xM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wn(this.auth,"network-request-failed")),wM.get())})}}function Al(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=wn(t,e,r);return s.customData._tokenResponse=n,s}function Sy(t){return t!==void 0&&t.enterprise!==void 0}class CM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SM(t,e){return Zr(t,"GET","/v2/recaptchaConfig",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(t,e){return Zr(t,"POST","/v1/accounts:delete",e)}async function Kc(t,e){return Zr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TM(t,e=!1){const n=nt(t),r=await n.getIdToken(e),s=xm(r);W(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Xo(ef(s.auth_time)),issuedAtTime:Xo(ef(s.iat)),expirationTime:Xo(ef(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ef(t){return Number(t)*1e3}function xm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nc("JWT malformed, contained fewer than 3 sections"),null;try{const s=Wc(n);return s?JSON.parse(s):(nc("Failed to decode base64 JWT payload"),null)}catch(s){return nc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function by(t){const e=xm(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xr&&IM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function IM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xo(this.lastLoginAt),this.creationTime=Xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(t){var u;const e=t.auth,n=await t.getIdToken(),r=await Ia(t,Kc(e,{idToken:n}));W(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(u=s.providerUserInfo)!=null&&u.length?a1(s.providerUserInfo):[],o=PM(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Oh(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function NM(t){const e=nt(t);await qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PM(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function a1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(t,e){const n=await i1(t,{},async()=>{const r=lo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await o1(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&ao(t.emulatorConfig.host)&&(l.credentials="include"),s1.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AM(t,e){return Zr(t,"POST","/v2/accounts:revokeToken",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):by(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");const n=by(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await RM(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new xi;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(W(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(W(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xi,this.toJSON())}_performRefresh(){return On("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Jt{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new kM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Oh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ia(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TM(this,e)}reload(){return NM(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ot(this.auth.app))return Promise.reject(Fn(this.auth));const e=await this.getIdToken();return await Ia(this,bM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:u,emailVerified:f,isAnonymous:h,providerData:x,stsTokenManager:m}=n;W(u&&m,e,"internal-error");const w=xi.fromJSON(this.name,m);W(typeof u=="string",e,"internal-error"),ar(r,e.name),ar(s,e.name),W(typeof f=="boolean",e,"internal-error"),W(typeof h=="boolean",e,"internal-error"),ar(i,e.name),ar(o,e.name),ar(a,e.name),ar(l,e.name),ar(c,e.name),ar(d,e.name);const y=new Jt({uid:u,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:h,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:w,createdAt:c,lastLoginAt:d});return x&&Array.isArray(x)&&(y.providerData=x.map(g=>({...g}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(e,n,r=!1){const s=new xi;s.updateFromServerResponse(n);const i=new Jt({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await qc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];W(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?a1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new xi;a.updateFromIdToken(r);const l=new Jt({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Oh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=new Map;function Dn(t){Kn(t instanceof Function,"Expected a class definition");let e=Ty.get(t);return e?(Kn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ty.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}l1.type="NONE";const Iy=l1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ei{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=rc(this.userKey,s.apiKey,i),this.fullPersistenceKey=rc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kc(this.auth,{idToken:e}).catch(()=>{});return n?Jt._fromGetAccountInfoResponse(this.auth,n,e):null}return Jt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ei(Dn(Iy),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Dn(Iy);const o=rc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let u;if(typeof d=="string"){const f=await Kc(e,{idToken:d}).catch(()=>{});if(!f)break;u=await Jt._fromGetAccountInfoResponse(e,f,d)}else u=Jt._fromJSON(e,d);c!==i&&(a=u),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ei(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ei(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p1(e))return"Blackberry";if(m1(e))return"Webos";if(u1(e))return"Safari";if((e.includes("chrome/")||d1(e))&&!e.includes("edge/"))return"Chrome";if(h1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function c1(t=ut()){return/firefox\//i.test(t)}function u1(t=ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d1(t=ut()){return/crios\//i.test(t)}function f1(t=ut()){return/iemobile/i.test(t)}function h1(t=ut()){return/android/i.test(t)}function p1(t=ut()){return/blackberry/i.test(t)}function m1(t=ut()){return/webos/i.test(t)}function Em(t=ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function OM(t=ut()){var e;return Em(t)&&!!((e=window.navigator)!=null&&e.standalone)}function DM(){return GO()&&document.documentMode===10}function g1(t=ut()){return Em(t)||h1(t)||m1(t)||p1(t)||/windows phone/i.test(t)||f1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t,e=[]){let n;switch(t){case"Browser":n=ky(ut());break;case"Worker":n=`${ky(ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${co}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(t,e={}){return Zr(t,"GET","/v2/passwordPolicy",Jr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=6;class jM{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??FM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ny(this),this.idTokenSubscription=new Ny(this),this.beforeStateQueue=new MM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ei.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kc(this,{idToken:e}),r=await Jt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Ot(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ot(this.app))return Promise.reject(Fn(this));const n=e?nt(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ot(this.app)?Promise.reject(Fn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ot(this.app)?Promise.reject(Fn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LM(this),n=new jM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await AM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Dn(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await Ei.create(this,[Dn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ot(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&pM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function js(t){return nt(t)}class Ny{constructor(e){this.auth=e,this.observer=null,this.addObserver=tD(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $M(t){Hu=t}function y1(t){return Hu.loadJS(t)}function zM(){return Hu.recaptchaEnterpriseScript}function BM(){return Hu.gapiScript}function WM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class VM{constructor(){this.enterprise=new HM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class HM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GM="recaptcha-enterprise",_1="NO_RECAPTCHA";class KM{constructor(e){this.type=GM,this.auth=js(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{SM(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new CM(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Sy(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(_1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VM().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Sy(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=zM();l.length!==0&&(l+=a),y1(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Py(t,e,n,r=!1,s=!1){const i=new KM(t);let o;if(s)o=_1;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Dh(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Py(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Py(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t,e){const n=ym(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ks(i,e??{}))return s;an(s,"already-initialized")}return n.initialize({options:e})}function QM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function YM(t,e,n){const r=js(t);W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=w1(e),{host:o,port:a}=XM(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){W(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),W(ks(c,r.config.emulator)&&ks(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ao(o)?(VE(`${i}//${o}${l}`),HE("Auth",!0)):JM()}function w1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XM(t){const e=w1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Ry(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Ry(o)}}}function Ry(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return On("not implemented")}_getIdTokenResponse(e){return On("not implemented")}_linkToIdToken(e,n){return On("not implemented")}_getReauthenticationResolver(e){return On("not implemented")}}async function ZM(t,e){return Zr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(t,e){return Xa(t,"POST","/v1/accounts:signInWithPassword",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(t,e){return Xa(t,"POST","/v1/accounts:signInWithEmailLink",Jr(t,e))}async function nL(t,e){return Xa(t,"POST","/v1/accounts:signInWithEmailLink",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Cm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ka(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ka(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dh(e,n,"signInWithPassword",eL);case"emailLink":return tL(e,{email:this._email,oobCode:this._password});default:an(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dh(e,r,"signUpPassword",ZM);case"emailLink":return nL(e,{idToken:n,email:this._email,oobCode:this._password});default:an(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ci(t,e){return Xa(t,"POST","/v1/accounts:signInWithIdp",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="http://localhost";class Ps extends Cm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):an("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Ps(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ci(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ci(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ci(e,n)}buildRequest(){const e={requestUri:rL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iL(t){const e=Fo(jo(t)).link,n=e?Fo(jo(e)).deep_link_id:null,r=Fo(jo(t)).deep_link_id;return(r?Fo(jo(r)).link:null)||r||n||e||t}class Sm{constructor(e){const n=Fo(jo(e)),r=n.apiKey??null,s=n.oobCode??null,i=sL(n.mode??null);W(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=iL(e);try{return new Sm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.providerId=uo.PROVIDER_ID}static credential(e,n){return ka._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sm.parseLink(n);return W(r,"argument-error"),ka._fromEmailAndCode(e,r.code,r.tenantId)}}uo.PROVIDER_ID="password";uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends x1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Ja{constructor(){super("facebook.com")}static credential(e){return Ps._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Ja{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ps._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return mr.credential(n,r)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Ja{constructor(){super("github.com")}static credential(e){return Ps._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.GITHUB_SIGN_IN_METHOD="github.com";gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Ja{constructor(){super("twitter.com")}static credential(e,n){return Ps._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e){return Xa(t,"POST","/v1/accounts:signUp",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Jt._fromIdTokenResponse(e,r,s),o=Ay(r);return new Rs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Ay(r);return new Rs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Ay(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends Xr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Qc(e,n,r,s)}}function E1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(t,i,e,r):i})}async function aL(t,e,n=!1){const r=await Ia(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e,n=!1){const{auth:r}=t;if(Ot(r.app))return Promise.reject(Fn(r));const s="reauthenticate";try{const i=await Ia(t,E1(r,s,e,t),n);W(i.idToken,r,"internal-error");const o=xm(i.idToken);W(o,r,"internal-error");const{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),Rs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&an(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(t,e,n=!1){if(Ot(t.app))return Promise.reject(Fn(t));const r="signIn",s=await E1(t,r,e),i=await Rs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function cL(t,e){return C1(js(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(t){const e=js(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uL(t,e,n){if(Ot(t.app))return Promise.reject(Fn(t));const r=js(t),o=await Dh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oL).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&S1(t),l}),a=await Rs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function dL(t,e,n){return Ot(t.app)?Promise.reject(Fn(t)):cL(nt(t),uo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&S1(t),r})}function fL(t,e,n,r){return nt(t).onIdTokenChanged(e,n,r)}function hL(t,e,n){return nt(t).beforeAuthStateChanged(e,n)}function pL(t,e,n,r){return nt(t).onAuthStateChanged(e,n,r)}function mL(t){return nt(t).signOut()}const Yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=1e3,vL=10;class T1 extends b1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=g1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);DM()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,vL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}T1.type="LOCAL";const yL=T1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1 extends b1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}I1.type="SESSION";const k1=I1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Gu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await _L(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=bm("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(u){const f=u;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return window}function xL(t){xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}async function EL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function SL(){return N1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="firebaseLocalStorageDb",bL=1,Xc="firebaseLocalStorage",R1="fbase_key";class Za{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ku(t,e){return t.transaction([Xc],e?"readwrite":"readonly").objectStore(Xc)}function TL(){const t=indexedDB.deleteDatabase(P1);return new Za(t).toPromise()}function Mh(){const t=indexedDB.open(P1,bL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xc,{keyPath:R1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xc)?e(r):(r.close(),await TL(),e(await Mh()))})})}async function Oy(t,e,n){const r=Ku(t,!0).put({[R1]:e,value:n});return new Za(r).toPromise()}async function IL(t,e){const n=Ku(t,!1).get(e),r=await new Za(n).toPromise();return r===void 0?null:r.value}function Dy(t,e){const n=Ku(t,!0).delete(e);return new Za(n).toPromise()}const kL=800,NL=3;class A1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>NL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gu._getInstance(SL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await EL(),!this.activeServiceWorker)return;this.sender=new wL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mh();return await Oy(e,Yc,"1"),await Dy(e,Yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Oy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Ku(s,!1).getAll();return new Za(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A1.type="LOCAL";const PL=A1;new Ya(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t,e){return e?Dn(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends Cm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ci(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ci(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ci(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AL(t){return C1(t.auth,new Tm(t),t.bypassAuthState)}function OL(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),lL(n,new Tm(t),t.bypassAuthState)}async function DL(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),aL(n,new Tm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AL;case"linkViaPopup":case"linkViaRedirect":return DL;case"reauthViaPopup":case"reauthViaRedirect":return OL;default:an(this.auth,"internal-error")}}resolve(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=new Ya(2e3,1e4);class ui extends O1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ui.currentPopupAction&&ui.currentPopupAction.cancel(),ui.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){Kn(this.filter.length===1,"Popup operations only handle one event");const e=bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ui.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ML.get())};e()}}ui.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="pendingRedirect",sc=new Map;class FL extends O1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sc.get(this.auth._key());if(!e){try{const r=await jL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sc.set(this.auth._key(),e)}return this.bypassAuthState||sc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jL(t,e){const n=zL(e),r=$L(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function UL(t,e){sc.set(t._key(),e)}function $L(t){return Dn(t._redirectPersistence)}function zL(t){return rc(LL,t.config.apiKey,t.name)}async function BL(t,e,n=!1){if(Ot(t.app))return Promise.reject(Fn(t));const r=js(t),s=RL(r,e),o=await new FL(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=10*60*1e3;class VL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!D1(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(wn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WL&&this.cachedEventUids.clear(),this.cachedEventUids.has(My(e))}saveEventToCache(e){this.cachedEventUids.add(My(e)),this.lastProcessedEventTime=Date.now()}}function My(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function D1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e={}){return Zr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qL=/^https?/;async function QL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GL(t);for(const n of e)try{if(YL(n))return}catch{}an(t,"unauthorized-domain")}function YL(t){const e=Ah(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!qL.test(n))return!1;if(KL.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=new Ya(3e4,6e4);function Ly(){const t=xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JL(t){return new Promise((e,n)=>{var s,i,o;function r(){Ly(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ly(),n(wn(t,"network-request-failed"))},timeout:XL.get()})}if((i=(s=xn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=xn().gapi)!=null&&o.load)r();else{const a=WM("iframefcb");return xn()[a]=()=>{gapi.load?r():n(wn(t,"network-request-failed"))},y1(`${BM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ic=null,e})}let ic=null;function ZL(t){return ic=ic||JL(t),ic}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new Ya(5e3,15e3),t2="__/auth/iframe",n2="emulator/auth/iframe",r2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i2(t){const e=t.config;W(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wm(e,n2):`https://${t.config.authDomain}/${t2}`,r={apiKey:e.apiKey,appName:t.name,v:co},s=s2.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${lo(r).slice(1)}`}async function o2(t){const e=await ZL(t),n=xn().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:i2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r2,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=wn(t,"network-request-failed"),a=xn().setTimeout(()=>{i(o)},e2.get());function l(){xn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l2=500,c2=600,u2="_blank",d2="http://localhost";class Fy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function f2(t,e,n,r=l2,s=c2){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...a2,width:r.toString(),height:s.toString(),top:i,left:o},c=ut().toLowerCase();n&&(a=d1(c)?u2:n),c1(c)&&(e=e||d2,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[h,x])=>`${f}${h}=${x},`,"");if(OM(c)&&a!=="_self")return h2(e||"",a),new Fy(null);const u=window.open(e||"",a,d);W(u,t,"popup-blocked");try{u.focus()}catch{}return new Fy(u)}function h2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="__/auth/handler",m2="emulator/auth/handler",g2=encodeURIComponent("fac");async function jy(t,e,n,r,s,i){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:co,eventId:s};if(e instanceof x1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Th(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,u]of Object.entries({}))o[d]=u}if(e instanceof Ja){const d=e.getScopes().filter(u=>u!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${g2}=${encodeURIComponent(l)}`:"";return`${v2(t)}?${lo(a).slice(1)}${c}`}function v2({config:t}){return t.emulator?wm(t,m2):`https://${t.authDomain}/${p2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="webStorageSupport";class y2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k1,this._completeRedirectFn=BL,this._overrideRedirectResult=UL}async _openPopup(e,n,r,s){var o;Kn((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await jy(e,n,r,Ah(),s);return f2(e,i,bm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await jy(e,n,r,Ah(),s);return xL(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Kn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await o2(e),r=new VL(e);return n.register("authEvent",s=>(W(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tf,{type:tf},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[tf];i!==void 0&&n(!!i),an(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return g1()||u1()||Em()}}const _2=y2;var Uy="@firebase/auth",$y="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E2(t){Ki(new Ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v1(t)},c=new UM(r,s,i,l);return QM(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ki(new Ns("auth-internal",e=>{const n=js(e.getProvider("auth").getImmediate());return(r=>new w2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(Uy,$y,x2(t)),Fr(Uy,$y,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=5*60,S2=WE("authIdTokenMaxAge")||C2;let zy=null;const b2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>S2)return;const s=n==null?void 0:n.token;zy!==s&&(zy=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function T2(t=JE()){const e=ym(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qM(t,{popupRedirectResolver:_2,persistence:[PL,yL,k1]}),r=WE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=b2(i.toString());hL(n,o,()=>o(n.currentUser)),fL(n,a=>o(a))}}const s=zE("auth");return s&&YM(n,`http://${s}`),n}function I2(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}$M({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=wn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",I2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E2("Browser");var k2="firebase",N2="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(k2,N2,"app");var By={};const Wy="@firebase/database",Vy="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M1="";function P2(t){M1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Le(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ba(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return bn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new R2(e)}}catch{}return new A2},hs=L1("localStorage"),O2=L1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new gm("@firebase/database"),D2=function(){let t=1;return function(){return t++}}(),F1=function(t){const e=sD(t),n=new eD;n.update(e);const r=n.digest();return hm.encodeByteArray(r)},el=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=el.apply(null,r):typeof r=="object"?e+=Le(r):e+=r,e+=" "}return e};let Jo=null,Hy=!0;const M2=function(t,e){O(!e,"Can't turn on custom loggers persistently."),Si.logLevel=ue.VERBOSE,Jo=Si.log.bind(Si)},Ve=function(...t){if(Hy===!0&&(Hy=!1,Jo===null&&O2.get("logging_enabled")===!0&&M2()),Jo){const e=el.apply(null,t);Jo(e)}},tl=function(t){return function(...e){Ve(t,...e)}},Lh=function(...t){const e="FIREBASE INTERNAL ERROR: "+el(...t);Si.error(e)},qn=function(...t){const e=`FIREBASE FATAL ERROR: ${el(...t)}`;throw Si.error(e),new Error(e)},ct=function(...t){const e="FIREBASE WARNING: "+el(...t);Si.warn(e)},L2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ct("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Im=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},F2=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},qi="[MIN_NAME]",As="[MAX_NAME]",Us=function(t,e){if(t===e)return 0;if(t===qi||e===As)return-1;if(e===qi||t===As)return 1;{const n=Gy(t),r=Gy(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},j2=function(t,e){return t===e?0:t<e?-1:1},No=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Le(e))},km=function(t){if(typeof t!="object"||t===null)return Le(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Le(e[r]),n+=":",n+=km(t[e[r]]);return n+="}",n},j1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Ke(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const U1=function(t){O(!Im(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const d=c.join("");let u="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),u=u+f}return u.toLowerCase()},U2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function z2(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const B2=new RegExp("^-?(0*)\\d{1,10}$"),W2=-2147483648,V2=2147483647,Gy=function(t){if(B2.test(t)){const e=Number(t);if(e>=W2&&e<=V2)return e}return null},fo=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ct("Exception was thrown by user callback.",n),e},Math.floor(0))}},H2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Zo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Ot(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ct(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ve("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ct(e)}}class oc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}oc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="5",$1="v",z1="s",B1="r",W1="f",V1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,H1="ls",G1="p",Fh="ac",K1="websocket",q1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&hs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function q2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Y1(t,e,n){O(typeof e=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let r;if(e===K1)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===q1)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);q2(t)&&(n.ns=t.namespace);const s=[];return Ke(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.counters_={}}incrementCounter(e,n=1){bn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return DO(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf={},rf={};function Pm(t){const e=t.toString();return nf[e]||(nf[e]=new Q2),nf[e]}function Y2(t,e){const n=t.toString();return rf[n]||(rf[n]=e()),rf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&fo(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="start",J2="close",Z2="pLPCommand",eF="pRTLPCB",X1="id",J1="pw",Z1="ser",tF="cb",nF="seg",rF="ts",sF="d",iF="dframe",eC=1870,tC=30,oF=eC-tC,aF=25e3,lF=3e4;class di{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tl(e),this.stats_=Pm(n),this.urlFn=l=>(this.appCheckToken&&(l[Fh]=this.appCheckToken),Y1(n,q1,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new X2(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lF)),F2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Rm((...i)=>{const[o,a,l,c,d]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Ky)this.id=a,this.password=l;else if(o===J2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Ky]="t",r[Z1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[tF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$1]=Nm,this.transportSessionId&&(r[z1]=this.transportSessionId),this.lastSessionId&&(r[H1]=this.lastSessionId),this.applicationId&&(r[G1]=this.applicationId),this.appCheckToken&&(r[Fh]=this.appCheckToken),typeof location<"u"&&location.hostname&&V1.test(location.hostname)&&(r[B1]=W1);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){di.forceAllow_=!0}static forceDisallow(){di.forceDisallow_=!0}static isAvailable(){return di.forceAllow_?!0:!di.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!U2()&&!$2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Le(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=UE(n),s=j1(r,oF);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[iF]="t",r[X1]=e,r[J1]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Le(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Rm{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=D2(),window[Z2+this.uniqueCallbackIdentifier]=e,window[eF+this.uniqueCallbackIdentifier]=n,this.myIFrame=Rm.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ve("frame writing exception"),a.stack&&Ve(a.stack),Ve(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ve("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[X1]=this.myID,e[J1]=this.myPW,e[Z1]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+tC+r.length<=eC;){const o=this.pendingSegs.shift();r=r+"&"+nF+s+"="+o.seg+"&"+rF+s+"="+o.ts+"&"+sF+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(aF)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ve("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=16384,uF=45e3;let Jc=null;typeof MozWebSocket<"u"?Jc=MozWebSocket:typeof WebSocket<"u"&&(Jc=WebSocket);class Xt{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tl(this.connId),this.stats_=Pm(n),this.connURL=Xt.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[$1]=Nm,typeof location<"u"&&location.hostname&&V1.test(location.hostname)&&(o[B1]=W1),n&&(o[z1]=n),r&&(o[H1]=r),s&&(o[Fh]=s),i&&(o[G1]=i),Y1(e,K1,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hs.set("previous_websocket_failure",!0);try{let r;KE(),this.mySock=new Jc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Xt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Jc!==null&&!Xt.forceDisallow_}static previouslyFailed(){return hs.isInMemoryStorage||hs.get("previous_websocket_failure")===!0}markConnectionHealthy(){hs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ba(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Le(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=j1(n,cF);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(uF))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xt.responsesRequiredToBeHealthy=2;Xt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{static get ALL_TRANSPORTS(){return[di,Xt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Xt&&Xt.isAvailable();let r=n&&!Xt.previouslyFailed();if(e.webSocketOnly&&(n||ct("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Xt];else{const s=this.transports_=[];for(const i of Na.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Na.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Na.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=6e4,fF=5e3,hF=10*1024,pF=100*1024,sf="t",qy="d",mF="s",Qy="r",gF="e",Yy="o",Xy="a",Jy="n",Zy="p",vF="h";class yF{constructor(e,n,r,s,i,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tl("c:"+this.id+":"),this.transportManager_=new Na(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Zo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>pF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(sf in e){const n=e[sf];n===Xy?this.upgradeIfSecondaryHealthy_():n===Qy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Yy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=No("t",e),r=No("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Zy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Xy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Jy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=No("t",e),r=No("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=No(sf,e);if(qy in e){const r=e[qy];if(n===vF){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Jy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===mF?this.onConnectionShutdown_(r):n===Qy?this.onReset_(r):n===gF?Lh("Server Error: "+r):n===Yy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Lh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Nm!==r&&ct("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Zo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(dF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(fF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Zy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){O(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends rC{static getInstance(){return new Zc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!mm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=32,t_=768;class fe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function oe(){return new fe("")}function X(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Vr(t){return t.pieces_.length-t.pieceNum_}function me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new fe(t.pieces_,e)}function Am(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _F(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Pa(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function sC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new fe(e,0)}function Ne(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof fe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new fe(n,0)}function ee(t){return t.pieceNum_>=t.pieces_.length}function at(t,e){const n=X(t),r=X(e);if(n===null)return e;if(n===r)return at(me(t),me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function wF(t,e){const n=Pa(t,0),r=Pa(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=Us(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function Om(t,e){if(Vr(t)!==Vr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Mt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Vr(t)>Vr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class xF{constructor(e,n){this.errorPrefix_=n,this.parts_=Pa(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Vu(this.parts_[r]);iC(this)}}function EF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Vu(e),iC(t)}function CF(t){const e=t.parts_.pop();t.byteLength_-=Vu(e),t.parts_.length>0&&(t.byteLength_-=1)}function iC(t){if(t.byteLength_>t_)throw new Error(t.errorPrefix_+"has a key path longer than "+t_+" bytes ("+t.byteLength_+").");if(t.parts_.length>e_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e_+") or object contains a cycle "+ls(t))}function ls(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm extends rC{static getInstance(){return new Dm}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=1e3,SF=60*5*1e3,n_=30*1e3,bF=1.3,TF=3e4,IF="server_kill",r_=3;class jn extends nC{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=jn.nextPersistentConnectionId_++,this.log_=tl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Po,this.maxReconnectDelay_=SF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!KE())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Dm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Zc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Le(i)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new qa,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;jn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&bn(e,"w")){const r=Gi(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();ct(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ZO(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=n_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=JO(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Le(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Lh("Unrecognized action received from server: "+Le(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Po,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Po,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>TF&&(this.reconnectDelay_=Po),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*bF)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+jn.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(u){O(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(u)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[u,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Ve("getToken() completed but was canceled"):(Ve("getToken() completed. Creating connection."),this.authToken_=u&&u.accessToken,this.appCheckToken_=f&&f.token,a=new yF(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,h=>{ct(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(IF)},i))}catch(u){this.log_("Failed to get token: "+u),o||(this.repoInfo_.nodeAdmin&&ct(u),l())}}}interrupt(e){Ve("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ve("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Th(this.interruptReasons_)&&(this.reconnectDelay_=Po,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>km(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new fe(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Ve("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=r_&&(this.reconnectDelay_=n_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ve("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=r_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+M1.replace(/\./g,"-")]=1,mm()?e["framework.cordova"]=1:GE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Zc.getInstance().currentlyOnline();return Th(this.interruptReasons_)&&e}}jn.nextPersistentConnectionId_=0;jn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new J(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new J(qi,e),s=new J(qi,n);return this.compare(r,s)!==0}minPost(){return J.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol;class oC extends qu{static get __EMPTY_NODE(){return Ol}static set __EMPTY_NODE(e){Ol=e}compare(e,n){return Us(e.name,n.name)}isDefinedOn(e){throw oo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return J.MIN}maxPost(){return new J(As,Ol)}makePost(e,n){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new J(e,Ol)}toString(){return".key"}}const bi=new oC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ze{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ze.RED,this.left=s??gt.EMPTY_NODE,this.right=i??gt.EMPTY_NODE}copy(e,n,r,s,i){return new ze(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return gt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return gt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ze.RED=!0;ze.BLACK=!1;class kF{copy(e,n,r,s,i){return this}insert(e,n,r){return new ze(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class gt{constructor(e,n=gt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new gt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ze.BLACK,null,null))}remove(e){return new gt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ze.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Dl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Dl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Dl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Dl(this.root_,null,this.comparator_,!0,e)}}gt.EMPTY_NODE=new kF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t,e){return Us(t.name,e.name)}function Mm(t,e){return Us(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh;function PF(t){jh=t}const aC=function(t){return typeof t=="number"?"number:"+U1(t):"string:"+t},lC=function(t){if(t.isLeafNode()){const e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&bn(e,".sv"),"Priority must be a string or number.")}else O(t===jh||t.isEmpty(),"priority of unexpected type.");O(t===jh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s_;class Ue{static set __childrenNodeConstructor(e){s_=e}static get __childrenNodeConstructor(){return s_}constructor(e,n=Ue.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),lC(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ue(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ee(e)?this:X(e)===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ue.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=X(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(O(r!==".priority"||Vr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ue.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+aC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=U1(this.value_):e+=this.value_,this.lazyHash_=F1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ue.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ue.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Ue.VALUE_TYPE_ORDER.indexOf(n),i=Ue.VALUE_TYPE_ORDER.indexOf(r);return O(s>=0,"Unknown leaf type: "+n),O(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ue.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cC,uC;function RF(t){cC=t}function AF(t){uC=t}class OF extends qu{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Us(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return J.MIN}maxPost(){return new J(As,new Ue("[PRIORITY-POST]",uC))}makePost(e,n){const r=cC(e);return new J(n,new Ue("[PRIORITY-POST]",r))}toString(){return".priority"}}const Pe=new OF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=Math.log(2);class MF{constructor(e){const n=i=>parseInt(Math.log(i)/DF,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const eu=function(t,e,n,r){t.sort(e);const s=function(l,c){const d=c-l;let u,f;if(d===0)return null;if(d===1)return u=t[l],f=n?n(u):u,new ze(f,u.node,ze.BLACK,null,null);{const h=parseInt(d/2,10)+l,x=s(l,h),m=s(h+1,c);return u=t[h],f=n?n(u):u,new ze(f,u.node,ze.BLACK,x,m)}},i=function(l){let c=null,d=null,u=t.length;const f=function(x,m){const w=u-x,y=u;u-=x;const g=s(w+1,y),_=t[w],E=n?n(_):_;h(new ze(E,_.node,m,null,g))},h=function(x){c?(c.left=x,c=x):(d=x,c=x)};for(let x=0;x<l.count;++x){const m=l.nextBitIsOne(),w=Math.pow(2,l.count-(x+1));m?f(w,ze.BLACK):(f(w,ze.BLACK),f(w,ze.RED))}return d},o=new MF(t.length),a=i(o);return new gt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of;const qs={};class Mn{static get Default(){return O(qs&&Pe,"ChildrenNode.ts has not been loaded"),of=of||new Mn({".priority":qs},{".priority":Pe}),of}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Gi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof gt?n:null}hasIndex(e){return bn(this.indexSet_,e.toString())}addIndex(e,n){O(e!==bi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(J.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=eu(r,e.getCompare()):a=qs;const l=e.toString(),c={...this.indexSet_};c[l]=e;const d={...this.indexes_};return d[l]=a,new Mn(d,c)}addToIndexes(e,n){const r=Vc(this.indexes_,(s,i)=>{const o=Gi(this.indexSet_,i);if(O(o,"Missing index implementation for "+i),s===qs)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(J.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),eu(a,o.getCompare())}else return qs;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new J(e.name,a))),l.insert(e,e.node)}});return new Mn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Vc(this.indexes_,s=>{if(s===qs)return s;{const i=n.get(e.name);return i?s.remove(new J(e.name,i)):s}});return new Mn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro;class V{static get EMPTY_NODE(){return Ro||(Ro=new V(new gt(Mm),null,Mn.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&lC(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ro}updatePriority(e){return this.children_.isEmpty()?this:new V(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ro:n}}getChild(e){const n=X(e);return n===null?this:this.getImmediateChild(n).getChild(me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(O(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new J(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Ro:this.priorityNode_;return new V(s,o,i)}}updateChild(e,n){const r=X(e);if(r===null)return n;{O(X(e)!==".priority"||Vr(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(me(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Pe,(o,a)=>{n[o]=a.val(e),r++,i&&V.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+aC(this.getPriority().val())+":"),this.forEachChild(Pe,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":F1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new J(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new J(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new J(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,J.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,J.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nl?-1:0}withIndex(e){if(e===bi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new V(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===bi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Pe),s=n.getIterator(Pe);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===bi?null:this.indexMap_.get(e.toString())}}V.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class LF extends V{constructor(){super(new gt(Mm),V.EMPTY_NODE,Mn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return V.EMPTY_NODE}isEmpty(){return!1}}const nl=new LF;Object.defineProperties(J,{MIN:{value:new J(qi,V.EMPTY_NODE)},MAX:{value:new J(As,nl)}});oC.__EMPTY_NODE=V.EMPTY_NODE;Ue.__childrenNodeConstructor=V;PF(nl);AF(nl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=!0;function Me(t,e=null){if(t===null)return V.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ue(n,Me(e))}if(!(t instanceof Array)&&FF){const n=[];let r=!1;if(Ke(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Me(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new J(o,l)))}}),n.length===0)return V.EMPTY_NODE;const i=eu(n,NF,o=>o.name,Mm);if(r){const o=eu(n,Pe.getCompare());return new V(i,Me(e),new Mn({".priority":o},{".priority":Pe}))}else return new V(i,Me(e),Mn.Default)}else{let n=V.EMPTY_NODE;return Ke(t,(r,s)=>{if(bn(t,r)&&r.substring(0,1)!=="."){const i=Me(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Me(e))}}RF(Me);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF extends qu{constructor(e){super(),this.indexPath_=e,O(!ee(e)&&X(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Us(e.name,n.name):i}makePost(e,n){const r=Me(e),s=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new J(n,s)}maxPost(){const e=V.EMPTY_NODE.updateChild(this.indexPath_,nl);return new J(As,e)}toString(){return Pa(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF extends qu{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Us(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return J.MIN}maxPost(){return J.MAX}makePost(e,n){const r=Me(e);return new J(n,r)}toString(){return".value"}}const $F=new UF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t){return{type:"value",snapshotNode:t}}function Qi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ra(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Aa(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function zF(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Ra(n,a)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Qi(n,r)):o.trackChildChange(Aa(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Pe,(s,i)=>{n.hasChild(s)||r.trackChildChange(Ra(s,i))}),n.isLeafNode()||n.forEachChild(Pe,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Aa(s,i,o))}else r.trackChildChange(Qi(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?V.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.indexedFilter_=new Lm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Oa.getStartPost_(e),this.endPost_=Oa.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new J(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(V.EMPTY_NODE);const i=this;return n.forEachChild(Pe,(o,a)=>{i.matches(new J(o,a))||(s=s.updateImmediateChild(o,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Oa(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new J(n,r))||(r=V.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=V.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(V.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const u=this.index_.getCompare();o=(f,h)=>u(h,f)}else o=this.index_.getCompare();const a=e;O(a.numChildren()===this.limit_,"");const l=new J(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const u=a.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(d&&!r.isEmpty()&&h>=0)return i!=null&&i.trackChildChange(Aa(n,r,u)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Ra(n,u));const m=a.updateImmediateChild(n,V.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i!=null&&i.trackChildChange(Qi(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return r.isEmpty()?e:d&&o(c,l)>=0?(i!=null&&(i.trackChildChange(Ra(c.name,c.node)),i.trackChildChange(Qi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,V.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qi}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:As}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pe}copy(){const e=new Fm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function WF(t){return t.loadsAllData()?new Lm(t.getIndex()):t.hasLimit()?new BF(t):new Oa(t)}function i_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Pe?n="$priority":t.index_===$F?n="$value":t.index_===bi?n="$key":(O(t.index_ instanceof jF,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Le(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Le(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Le(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Le(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Le(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function o_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Pe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends nC{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=tl("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=tu.getListenId_(e,r),a={};this.listens_[o]=a;const l=i_(e._queryParams);this.restRequest_(i+".json",l,(c,d)=>{let u=d;if(c===404&&(u=null,c=null),c===null&&this.onDataUpdate_(i,u,!1,r),Gi(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=tu.getListenId_(e,n);delete this.listens_[r]}get(e){const n=i_(e._queryParams),r=e._path.toString(),s=new qa;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+lo(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ba(a.responseText)}catch{ct("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ct("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(){return{value:null,children:new Map}}function fC(t,e,n){if(ee(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=X(e);t.children.has(r)||t.children.set(r,nu());const s=t.children.get(r);e=me(e),fC(s,e,n)}}function Uh(t,e,n){t.value!==null?n(e,t.value):HF(t,(r,s)=>{const i=new fe(e.toString()+"/"+r);Uh(s,i,n)})}function HF(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Ke(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=10*1e3,KF=30*1e3,qF=5*60*1e3;class QF{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new GF(e);const r=a_+(KF-a_)*Math.random();Zo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ke(e,(s,i)=>{i>0&&bn(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Zo(this.reportStats_.bind(this),Math.floor(Math.random()*2*qF))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zt||(Zt={}));function jm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Um(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $m(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Zt.ACK_USER_WRITE,this.source=jm()}operationForChild(e){if(ee(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new fe(e));return new ru(oe(),n,this.revert)}}else return O(X(this.path)===e,"operationForChild called for unrelated child."),new ru(me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this.source=e,this.path=n,this.type=Zt.LISTEN_COMPLETE}operationForChild(e){return ee(this.path)?new Da(this.source,oe()):new Da(this.source,me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Zt.OVERWRITE}operationForChild(e){return ee(this.path)?new Os(this.source,oe(),this.snap.getImmediateChild(e)):new Os(this.source,me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Zt.MERGE}operationForChild(e){if(ee(this.path)){const n=this.children.subtree(new fe(e));return n.isEmpty()?null:n.value?new Os(this.source,oe(),n.value):new Yi(this.source,oe(),n)}else return O(X(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Yi(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ee(e))return this.isFullyInitialized()&&!this.filtered_;const n=X(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function XF(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(zF(o.childName,o.snapshotNode))}),Ao(t,s,"child_removed",e,r,n),Ao(t,s,"child_added",e,r,n),Ao(t,s,"child_moved",i,r,n),Ao(t,s,"child_changed",e,r,n),Ao(t,s,"value",e,r,n),s}function Ao(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>ZF(t,a,l)),o.forEach(a=>{const l=JF(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function JF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function ZF(t,e,n){if(e.childName==null||n.childName==null)throw oo("Should only compare child_ events.");const r=new J(e.childName,e.snapshotNode),s=new J(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t,e){return{eventCache:t,serverCache:e}}function ea(t,e,n,r){return Qu(new Hr(e,n,r),t.serverCache)}function hC(t,e,n,r){return Qu(t.eventCache,new Hr(e,n,r))}function su(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ds(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af;const ej=()=>(af||(af=new gt(j2)),af);class pe{static fromObject(e){let n=new pe(null);return Ke(e,(r,s)=>{n=n.set(new fe(r),s)}),n}constructor(e,n=ej()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:oe(),value:this.value};if(ee(e))return null;{const r=X(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(me(e),n);return i!=null?{path:Ne(new fe(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ee(e))return this;{const n=X(e),r=this.children.get(n);return r!==null?r.subtree(me(e)):new pe(null)}}set(e,n){if(ee(e))return new pe(n,this.children);{const r=X(e),i=(this.children.get(r)||new pe(null)).set(me(e),n),o=this.children.insert(r,i);return new pe(this.value,o)}}remove(e){if(ee(e))return this.children.isEmpty()?new pe(null):new pe(null,this.children);{const n=X(e),r=this.children.get(n);if(r){const s=r.remove(me(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new pe(null):new pe(this.value,i)}else return this}}get(e){if(ee(e))return this.value;{const n=X(e),r=this.children.get(n);return r?r.get(me(e)):null}}setTree(e,n){if(ee(e))return n;{const r=X(e),i=(this.children.get(r)||new pe(null)).setTree(me(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new pe(this.value,o)}}fold(e){return this.fold_(oe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Ne(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,oe(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(ee(e))return null;{const i=X(e),o=this.children.get(i);return o?o.findOnPath_(me(e),Ne(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,oe(),n)}foreachOnPath_(e,n,r){if(ee(e))return this;{this.value&&r(n,this.value);const s=X(e),i=this.children.get(s);return i?i.foreachOnPath_(me(e),Ne(n,s),r):new pe(null)}}foreach(e){this.foreach_(oe(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Ne(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.writeTree_=e}static empty(){return new nn(new pe(null))}}function ta(t,e,n){if(ee(e))return new nn(new pe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=at(s,e);return i=i.updateChild(o,n),new nn(t.writeTree_.set(s,i))}else{const s=new pe(n),i=t.writeTree_.setTree(e,s);return new nn(i)}}}function $h(t,e,n){let r=t;return Ke(n,(s,i)=>{r=ta(r,Ne(e,s),i)}),r}function l_(t,e){if(ee(e))return nn.empty();{const n=t.writeTree_.setTree(e,new pe(null));return new nn(n)}}function zh(t,e){return $s(t,e)!=null}function $s(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(at(n.path,e)):null}function c_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Pe,(r,s)=>{e.push(new J(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new J(r,s.value))}),e}function jr(t,e){if(ee(e))return t;{const n=$s(t,e);return n!=null?new nn(new pe(n)):new nn(t.writeTree_.subtree(e))}}function Bh(t){return t.writeTree_.isEmpty()}function Xi(t,e){return pC(oe(),t.writeTree_,e)}function pC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(O(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=pC(Ne(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ne(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t,e){return yC(e,t)}function tj(t,e,n,r,s){O(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=ta(t.visibleWrites,e,n)),t.lastWriteId=r}function nj(t,e,n,r){O(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=$h(t.visibleWrites,e,n),t.lastWriteId=r}function rj(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function sj(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);O(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&ij(a,r.path)?s=!1:Mt(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return oj(t),!0;if(r.snap)t.visibleWrites=l_(t.visibleWrites,r.path);else{const a=r.children;Ke(a,l=>{t.visibleWrites=l_(t.visibleWrites,Ne(r.path,l))})}return!0}else return!1}function ij(t,e){if(t.snap)return Mt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Mt(Ne(t.path,n),e))return!0;return!1}function oj(t){t.visibleWrites=mC(t.allWrites,aj,oe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function aj(t){return t.visible}function mC(t,e,n){let r=nn.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)Mt(n,o)?(a=at(n,o),r=ta(r,a,i.snap)):Mt(o,n)&&(a=at(o,n),r=ta(r,oe(),i.snap.getChild(a)));else if(i.children){if(Mt(n,o))a=at(n,o),r=$h(r,a,i.children);else if(Mt(o,n))if(a=at(o,n),ee(a))r=$h(r,oe(),i.children);else{const l=Gi(i.children,X(a));if(l){const c=l.getChild(me(a));r=ta(r,oe(),c)}}}else throw oo("WriteRecord should have .snap or .children")}}return r}function gC(t,e,n,r,s){if(!r&&!s){const i=$s(t.visibleWrites,e);if(i!=null)return i;{const o=jr(t.visibleWrites,e);if(Bh(o))return n;if(n==null&&!zh(o,oe()))return null;{const a=n||V.EMPTY_NODE;return Xi(o,a)}}}else{const i=jr(t.visibleWrites,e);if(!s&&Bh(i))return n;if(!s&&n==null&&!zh(i,oe()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Mt(c.path,e)||Mt(e,c.path))},a=mC(t.allWrites,o,e),l=n||V.EMPTY_NODE;return Xi(a,l)}}}function lj(t,e,n){let r=V.EMPTY_NODE;const s=$s(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Pe,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=jr(t.visibleWrites,e);return n.forEachChild(Pe,(o,a)=>{const l=Xi(jr(i,new fe(o)),a);r=r.updateImmediateChild(o,l)}),c_(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=jr(t.visibleWrites,e);return c_(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function cj(t,e,n,r,s){O(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Ne(e,n);if(zh(t.visibleWrites,i))return null;{const o=jr(t.visibleWrites,i);return Bh(o)?s.getChild(n):Xi(o,s.getChild(n))}}function uj(t,e,n,r){const s=Ne(e,n),i=$s(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=jr(t.visibleWrites,s);return Xi(o,r.getNode().getImmediateChild(n))}else return null}function dj(t,e){return $s(t.visibleWrites,e)}function fj(t,e,n,r,s,i,o){let a;const l=jr(t.visibleWrites,e),c=$s(l,oe());if(c!=null)a=c;else if(n!=null)a=Xi(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],u=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let h=f.getNext();for(;h&&d.length<s;)u(h,r)!==0&&d.push(h),h=f.getNext();return d}else return[]}function hj(){return{visibleWrites:nn.empty(),allWrites:[],lastWriteId:-1}}function iu(t,e,n,r){return gC(t.writeTree,t.treePath,e,n,r)}function zm(t,e){return lj(t.writeTree,t.treePath,e)}function u_(t,e,n,r){return cj(t.writeTree,t.treePath,e,n,r)}function ou(t,e){return dj(t.writeTree,Ne(t.treePath,e))}function pj(t,e,n,r,s,i){return fj(t.writeTree,t.treePath,e,n,r,s,i)}function Bm(t,e,n){return uj(t.writeTree,t.treePath,e,n)}function vC(t,e){return yC(Ne(t.treePath,e),t.writeTree)}function yC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Aa(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Ra(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Qi(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Aa(r,e.snapshotNode,s.oldSnap));else throw oo("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const _C=new gj;class Wm{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Hr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bm(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ds(this.viewCache_),i=pj(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t){return{filter:t}}function yj(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function _j(t,e,n,r,s){const i=new mj;let o,a;if(n.type===Zt.OVERWRITE){const c=n;c.source.fromUser?o=Wh(t,e,c.path,c.snap,r,s,i):(O(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ee(c.path),o=au(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===Zt.MERGE){const c=n;c.source.fromUser?o=xj(t,e,c.path,c.children,r,s,i):(O(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Vh(t,e,c.path,c.children,r,s,a,i))}else if(n.type===Zt.ACK_USER_WRITE){const c=n;c.revert?o=Sj(t,e,c.path,r,s,i):o=Ej(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===Zt.LISTEN_COMPLETE)o=Cj(t,e,n.path,r,i);else throw oo("Unknown operation type: "+n.type);const l=i.getChanges();return wj(e,o,l),{viewCache:o,changes:l}}function wj(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=su(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(dC(su(e)))}}function wC(t,e,n,r,s,i){const o=e.eventCache;if(ou(r,n)!=null)return e;{let a,l;if(ee(n))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ds(e),d=c instanceof V?c:V.EMPTY_NODE,u=zm(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),u,i)}else{const c=iu(r,Ds(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=X(n);if(c===".priority"){O(Vr(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const u=u_(r,n,d,l);u!=null?a=t.filter.updatePriority(d,u):a=o.getNode()}else{const d=me(n);let u;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=u_(r,n,o.getNode(),l);f!=null?u=o.getNode().getImmediateChild(c).updateChild(d,f):u=o.getNode().getImmediateChild(c)}else u=Bm(r,c,e.serverCache);u!=null?a=t.filter.updateChild(o.getNode(),c,u,d,s,i):a=o.getNode()}}return ea(e,a,o.isFullyInitialized()||ee(n),t.filter.filtersNodes())}}function au(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(ee(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),h,null)}else{const h=X(n);if(!l.isCompleteForPath(n)&&Vr(n)>1)return e;const x=me(n),w=l.getNode().getImmediateChild(h).updateChild(x,r);h===".priority"?c=d.updatePriority(l.getNode(),w):c=d.updateChild(l.getNode(),h,w,x,_C,null)}const u=hC(e,c,l.isFullyInitialized()||ee(n),d.filtersNodes()),f=new Wm(s,u,i);return wC(t,u,n,s,f,a)}function Wh(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const d=new Wm(s,e,i);if(ee(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ea(e,c,!0,t.filter.filtersNodes());else{const u=X(n);if(u===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=ea(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=me(n),h=a.getNode().getImmediateChild(u);let x;if(ee(f))x=r;else{const m=d.getCompleteChild(u);m!=null?Am(f)===".priority"&&m.getChild(sC(f)).isEmpty()?x=m:x=m.updateChild(f,r):x=V.EMPTY_NODE}if(h.equals(x))l=e;else{const m=t.filter.updateChild(a.getNode(),u,x,f,d,o);l=ea(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function d_(t,e){return t.eventCache.isCompleteForChild(e)}function xj(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const d=Ne(n,l);d_(e,X(d))&&(a=Wh(t,a,d,c,s,i,o))}),r.foreach((l,c)=>{const d=Ne(n,l);d_(e,X(d))||(a=Wh(t,a,d,c,s,i,o))}),a}function f_(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Vh(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ee(n)?c=r:c=new pe(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((u,f)=>{if(d.hasChild(u)){const h=e.serverCache.getNode().getImmediateChild(u),x=f_(t,h,f);l=au(t,l,new fe(u),x,s,i,o,a)}}),c.children.inorderTraversal((u,f)=>{const h=!e.serverCache.isCompleteForChild(u)&&f.value===null;if(!d.hasChild(u)&&!h){const x=e.serverCache.getNode().getImmediateChild(u),m=f_(t,x,f);l=au(t,l,new fe(u),m,s,i,o,a)}}),l}function Ej(t,e,n,r,s,i,o){if(ou(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ee(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return au(t,e,n,l.getNode().getChild(n),s,i,a,o);if(ee(n)){let c=new pe(null);return l.getNode().forEachChild(bi,(d,u)=>{c=c.set(new fe(d),u)}),Vh(t,e,n,c,s,i,a,o)}else return e}else{let c=new pe(null);return r.foreach((d,u)=>{const f=Ne(n,d);l.isCompleteForPath(f)&&(c=c.set(d,l.getNode().getChild(f)))}),Vh(t,e,n,c,s,i,a,o)}}function Cj(t,e,n,r,s){const i=e.serverCache,o=hC(e,i.getNode(),i.isFullyInitialized()||ee(n),i.isFiltered());return wC(t,o,n,r,_C,s)}function Sj(t,e,n,r,s,i){let o;if(ou(r,n)!=null)return e;{const a=new Wm(r,e,s),l=e.eventCache.getNode();let c;if(ee(n)||X(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=iu(r,Ds(e));else{const u=e.serverCache.getNode();O(u instanceof V,"serverChildren would be complete if leaf node"),d=zm(r,u)}d=d,c=t.filter.updateFullNode(l,d,i)}else{const d=X(n);let u=Bm(r,d,e.serverCache);u==null&&e.serverCache.isCompleteForChild(d)&&(u=l.getImmediateChild(d)),u!=null?c=t.filter.updateChild(l,d,u,me(n),a,i):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,V.EMPTY_NODE,me(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=iu(r,Ds(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||ou(r,oe())!=null,ea(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Lm(r.getIndex()),i=WF(r);this.processor_=vj(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(V.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(V.EMPTY_NODE,a.getNode(),null),d=new Hr(l,o.isFullyInitialized(),s.filtersNodes()),u=new Hr(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Qu(u,d),this.eventGenerator_=new YF(this.query_)}get query(){return this.query_}}function Tj(t){return t.viewCache_.serverCache.getNode()}function Ij(t){return su(t.viewCache_)}function kj(t,e){const n=Ds(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ee(e)&&!n.getImmediateChild(X(e)).isEmpty())?n.getChild(e):null}function h_(t){return t.eventRegistrations_.length===0}function Nj(t,e){t.eventRegistrations_.push(e)}function p_(t,e,n){const r=[];if(n){O(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function m_(t,e,n,r){e.type===Zt.MERGE&&e.source.queryId!==null&&(O(Ds(t.viewCache_),"We should always have a full cache before handling merges"),O(su(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=_j(t.processor_,s,e,n,r);return yj(t.processor_,i.viewCache),O(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,xC(t,i.changes,i.viewCache.eventCache.getNode(),null)}function Pj(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Pe,(i,o)=>{r.push(Qi(i,o))}),n.isFullyInitialized()&&r.push(dC(n.getNode())),xC(t,r,n.getNode(),e)}function xC(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return XF(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu;class EC{constructor(){this.views=new Map}}function Rj(t){O(!lu,"__referenceConstructor has already been defined"),lu=t}function Aj(){return O(lu,"Reference.ts has not been loaded"),lu}function Oj(t){return t.views.size===0}function Vm(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return O(i!=null,"SyncTree gave us an op for an invalid query."),m_(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(m_(o,e,n,r));return i}}function CC(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=iu(n,s?r:null),l=!1;a?l=!0:r instanceof V?(a=zm(n,r),l=!1):(a=V.EMPTY_NODE,l=!1);const c=Qu(new Hr(a,l,!1),new Hr(r,s,!1));return new bj(e,c)}return o}function Dj(t,e,n,r,s,i){const o=CC(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Nj(o,n),Pj(o,n)}function Mj(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=Gr(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(p_(c,n,r)),h_(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(p_(l,n,r)),h_(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!Gr(t)&&i.push(new(Aj())(e._repo,e._path)),{removed:i,events:o}}function SC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ur(t,e){let n=null;for(const r of t.views.values())n=n||kj(r,e);return n}function bC(t,e){if(e._queryParams.loadsAllData())return Xu(t);{const r=e._queryIdentifier;return t.views.get(r)}}function TC(t,e){return bC(t,e)!=null}function Gr(t){return Xu(t)!=null}function Xu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu;function Lj(t){O(!cu,"__referenceConstructor has already been defined"),cu=t}function Fj(){return O(cu,"Reference.ts has not been loaded"),cu}let jj=1;class g_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pe(null),this.pendingWriteTree_=hj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function IC(t,e,n,r,s){return tj(t.pendingWriteTree_,e,n,r,s),s?ho(t,new Os(jm(),e,n)):[]}function Uj(t,e,n,r){nj(t.pendingWriteTree_,e,n,r);const s=pe.fromObject(n);return ho(t,new Yi(jm(),e,s))}function Tr(t,e,n=!1){const r=rj(t.pendingWriteTree_,e);if(sj(t.pendingWriteTree_,e)){let i=new pe(null);return r.snap!=null?i=i.set(oe(),!0):Ke(r.children,o=>{i=i.set(new fe(o),!0)}),ho(t,new ru(r.path,i,n))}else return[]}function rl(t,e,n){return ho(t,new Os(Um(),e,n))}function $j(t,e,n){const r=pe.fromObject(n);return ho(t,new Yi(Um(),e,r))}function zj(t,e){return ho(t,new Da(Um(),e))}function Bj(t,e,n){const r=Gm(t,n);if(r){const s=Km(r),i=s.path,o=s.queryId,a=at(i,e),l=new Da($m(o),a);return qm(t,i,l)}else return[]}function uu(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||TC(o,e))){const l=Mj(o,e,n,r);Oj(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const d=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,u=t.syncPointTree_.findOnPath(i,(f,h)=>Gr(h));if(d&&!u){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const h=Hj(f);for(let x=0;x<h.length;++x){const m=h[x],w=m.query,y=RC(t,m);t.listenProvider_.startListening(na(w),Ma(t,w),y.hashFn,y.onComplete)}}}!u&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(na(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(Ju(f));t.listenProvider_.stopListening(na(f),h)}))}Gj(t,c)}return a}function kC(t,e,n,r){const s=Gm(t,r);if(s!=null){const i=Km(s),o=i.path,a=i.queryId,l=at(o,e),c=new Os($m(a),l,n);return qm(t,o,c)}else return[]}function Wj(t,e,n,r){const s=Gm(t,r);if(s){const i=Km(s),o=i.path,a=i.queryId,l=at(o,e),c=pe.fromObject(n),d=new Yi($m(a),l,c);return qm(t,o,d)}else return[]}function Hh(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(f,h)=>{const x=at(f,s);i=i||Ur(h,x),o=o||Gr(h)});let a=t.syncPointTree_.get(s);a?(o=o||Gr(a),i=i||Ur(a,oe())):(a=new EC,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=V.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((h,x)=>{const m=Ur(x,oe());m&&(i=i.updateImmediateChild(h,m))}));const c=TC(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Ju(e);O(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=Kj();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const d=Yu(t.pendingWriteTree_,s);let u=Dj(a,e,n,d,i,l);if(!c&&!o&&!r){const f=bC(a,e);u=u.concat(qj(t,e,f))}return u}function Hm(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=at(o,e),c=Ur(a,l);if(c)return c});return gC(s,e,i,n,!0)}function Vj(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const u=at(c,n);r=r||Ur(d,u)});let s=t.syncPointTree_.get(n);s?r=r||Ur(s,oe()):(s=new EC,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new Hr(r,!0,!1):null,a=Yu(t.pendingWriteTree_,e._path),l=CC(s,e,a,i?o.getNode():V.EMPTY_NODE,i);return Ij(l)}function ho(t,e){return NC(e,t.syncPointTree_,null,Yu(t.pendingWriteTree_,oe()))}function NC(t,e,n,r){if(ee(t.path))return PC(t,e,n,r);{const s=e.get(oe());n==null&&s!=null&&(n=Ur(s,oe()));let i=[];const o=X(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=vC(r,o);i=i.concat(NC(a,l,c,d))}return s&&(i=i.concat(Vm(s,t,r,n))),i}}function PC(t,e,n,r){const s=e.get(oe());n==null&&s!=null&&(n=Ur(s,oe()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=vC(r,o),d=t.operationForChild(o);d&&(i=i.concat(PC(d,a,l,c)))}),s&&(i=i.concat(Vm(s,t,r,n))),i}function RC(t,e){const n=e.query,r=Ma(t,n);return{hashFn:()=>(Tj(e)||V.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?Bj(t,n._path,r):zj(t,n._path);{const i=z2(s,n);return uu(t,n,null,i)}}}}function Ma(t,e){const n=Ju(e);return t.queryToTagMap.get(n)}function Ju(t){return t._path.toString()+"$"+t._queryIdentifier}function Gm(t,e){return t.tagToQueryMap.get(e)}function Km(t){const e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new fe(t.substr(0,e))}}function qm(t,e,n){const r=t.syncPointTree_.get(e);O(r,"Missing sync point for query tag that we're tracking");const s=Yu(t.pendingWriteTree_,e);return Vm(r,n,s,null)}function Hj(t){return t.fold((e,n,r)=>{if(n&&Gr(n))return[Xu(n)];{let s=[];return n&&(s=SC(n)),Ke(r,(i,o)=>{s=s.concat(o)}),s}})}function na(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Fj())(t._repo,t._path):t}function Gj(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Ju(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function Kj(){return jj++}function qj(t,e,n){const r=e._path,s=Ma(t,e),i=RC(t,n),o=t.listenProvider_.startListening(na(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)O(!Gr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,u)=>{if(!ee(c)&&d&&Gr(d))return[Xu(d).query];{let f=[];return d&&(f=f.concat(SC(d).map(h=>h.query))),Ke(u,(h,x)=>{f=f.concat(x)}),f}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(na(d),Ma(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Qm(n)}node(){return this.node_}}class Ym{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ne(this.path_,e);return new Ym(this.syncTree_,n)}node(){return Hm(this.syncTree_,this.path_)}}const Qj=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},v_=function(t,e,n){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Yj(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Xj(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Yj=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+t)}},Xj=function(t,e,n){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&O(!1,"Unexpected increment value: "+r);const s=e.node();if(O(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},AC=function(t,e,n,r){return Xm(e,new Ym(n,t),r)},OC=function(t,e,n){return Xm(t,new Qm(e),n)};function Xm(t,e,n){const r=t.getPriority().val(),s=v_(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=v_(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Ue(a,Me(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Ue(s))),o.forEachChild(Pe,(a,l)=>{const c=Xm(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Zm(t,e){let n=e instanceof fe?e:new fe(e),r=t,s=X(n);for(;s!==null;){const i=Gi(r.node.children,s)||{children:{},childCount:0};r=new Jm(s,r,i),n=me(n),s=X(n)}return r}function po(t){return t.node.value}function DC(t,e){t.node.value=e,Gh(t)}function MC(t){return t.node.childCount>0}function Jj(t){return po(t)===void 0&&!MC(t)}function Zu(t,e){Ke(t.node.children,(n,r)=>{e(new Jm(n,t,r))})}function LC(t,e,n,r){n&&!r&&e(t),Zu(t,s=>{LC(s,e,!0,r)}),n&&r&&e(t)}function Zj(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function sl(t){return new fe(t.parent===null?t.name:sl(t.parent)+"/"+t.name)}function Gh(t){t.parent!==null&&e4(t.parent,t.name,t)}function e4(t,e,n){const r=Jj(n),s=bn(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Gh(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Gh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=/[\[\].#$\/\u0000-\u001F\u007F]/,n4=/[\[\].#$\u0000-\u001F\u007F]/,lf=10*1024*1024,eg=function(t){return typeof t=="string"&&t.length!==0&&!t4.test(t)},FC=function(t){return typeof t=="string"&&t.length!==0&&!n4.test(t)},r4=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),FC(t)},s4=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Im(t)||t&&typeof t=="object"&&bn(t,".sv")},jC=function(t,e,n,r){r&&e===void 0||ed(Wu(t,"value"),e,n)},ed=function(t,e,n){const r=n instanceof fe?new xF(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ls(r));if(typeof e=="function")throw new Error(t+"contains a function "+ls(r)+" with contents = "+e.toString());if(Im(e))throw new Error(t+"contains "+e.toString()+" "+ls(r));if(typeof e=="string"&&e.length>lf/3&&Vu(e)>lf)throw new Error(t+"contains a string greater than "+lf+" utf8 bytes "+ls(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Ke(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!eg(o)))throw new Error(t+" contains an invalid key ("+o+") "+ls(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);EF(r,o),ed(t,a,r),CF(r)}),s&&i)throw new Error(t+' contains ".value" child '+ls(r)+" in addition to actual children.")}},i4=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=Pa(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!eg(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(wF);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&Mt(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},o4=function(t,e,n,r){const s=Wu(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];Ke(e,(o,a)=>{const l=new fe(o);if(ed(s,a,Ne(n,l)),Am(l)===".priority"&&!s4(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),i4(s,i)},UC=function(t,e,n,r){if(!FC(n))throw new Error(Wu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},a4=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),UC(t,e,n)},$C=function(t,e){if(X(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},l4=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!eg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!r4(n))throw new Error(Wu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function td(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!Om(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function zC(t,e,n){td(t,n),BC(t,r=>Om(r,e))}function Ut(t,e,n){td(t,n),BC(t,r=>Mt(r,e)||Mt(e,r))}function BC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(u4(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function u4(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Jo&&Ve("event: "+n.toString()),fo(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="repo_interrupt",f4=25;class h4{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new c4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nu(),this.transactionQueueTree_=new Jm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function p4(t,e,n){if(t.stats_=Pm(t.repoInfo_),t.forceRestClient_||H2())t.server_=new tu(t.repoInfo_,(r,s,i,o)=>{y_(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>__(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Le(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new jn(t.repoInfo_,e,(r,s,i,o)=>{y_(t,r,s,i,o)},r=>{__(t,r)},r=>{m4(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Y2(t.repoInfo_,()=>new QF(t.stats_,t.server_)),t.infoData_=new VF,t.infoSyncTree_=new g_({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=rl(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),tg(t,"connected",!1),t.serverSyncTree_=new g_({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);Ut(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function WC(t){const n=t.infoData_.getNode(new fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function nd(t){return Qj({timestamp:WC(t)})}function y_(t,e,n,r,s){t.dataUpdateCount++;const i=new fe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Vc(n,c=>Me(c));o=Wj(t.serverSyncTree_,i,l,s)}else{const l=Me(n);o=kC(t.serverSyncTree_,i,l,s)}else if(r){const l=Vc(n,c=>Me(c));o=$j(t.serverSyncTree_,i,l)}else{const l=Me(n);o=rl(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=Ji(t,i)),Ut(t.eventQueue_,a,o)}function __(t,e){tg(t,"connected",e),e===!1&&_4(t)}function m4(t,e){Ke(e,(n,r)=>{tg(t,n,r)})}function tg(t,e,n){const r=new fe("/.info/"+e),s=Me(n);t.infoData_.updateSnapshot(r,s);const i=rl(t.infoSyncTree_,r,s);Ut(t.eventQueue_,r,i)}function ng(t){return t.nextWriteId_++}function g4(t,e,n){const r=Vj(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=Me(s).withIndex(e._queryParams.getIndex());Hh(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=rl(t.serverSyncTree_,e._path,i);else{const a=Ma(t.serverSyncTree_,e);o=kC(t.serverSyncTree_,e._path,i,a)}return Ut(t.eventQueue_,e._path,o),uu(t.serverSyncTree_,e,n,null,!0),i},s=>(il(t,"get for query "+Le(e)+" failed: "+s),Promise.reject(new Error(s))))}function v4(t,e,n,r,s){il(t,"set",{path:e.toString(),value:n,priority:r});const i=nd(t),o=Me(n,r),a=Hm(t.serverSyncTree_,e),l=OC(o,a,i),c=ng(t),d=IC(t.serverSyncTree_,e,l,c,!0);td(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const x=f==="ok";x||ct("set at "+e+" failed: "+f);const m=Tr(t.serverSyncTree_,c,!x);Ut(t.eventQueue_,e,m),Kh(t,s,f,h)});const u=sg(t,e);Ji(t,u),Ut(t.eventQueue_,u,[])}function y4(t,e,n,r){il(t,"update",{path:e.toString(),value:n});let s=!0;const i=nd(t),o={};if(Ke(n,(a,l)=>{s=!1,o[a]=AC(Ne(e,a),Me(l),t.serverSyncTree_,i)}),s)Ve("update() called with empty data.  Don't do anything."),Kh(t,r,"ok",void 0);else{const a=ng(t),l=Uj(t.serverSyncTree_,e,o,a);td(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,d)=>{const u=c==="ok";u||ct("update at "+e+" failed: "+c);const f=Tr(t.serverSyncTree_,a,!u),h=f.length>0?Ji(t,e):e;Ut(t.eventQueue_,h,f),Kh(t,r,c,d)}),Ke(n,c=>{const d=sg(t,Ne(e,c));Ji(t,d)}),Ut(t.eventQueue_,e,[])}}function _4(t){il(t,"onDisconnectEvents");const e=nd(t),n=nu();Uh(t.onDisconnect_,oe(),(s,i)=>{const o=AC(s,i,t.serverSyncTree_,e);fC(n,s,o)});let r=[];Uh(n,oe(),(s,i)=>{r=r.concat(rl(t.serverSyncTree_,s,i));const o=sg(t,s);Ji(t,o)}),t.onDisconnect_=nu(),Ut(t.eventQueue_,oe(),r)}function w4(t,e,n){let r;X(e._path)===".info"?r=Hh(t.infoSyncTree_,e,n):r=Hh(t.serverSyncTree_,e,n),zC(t.eventQueue_,e._path,r)}function w_(t,e,n){let r;X(e._path)===".info"?r=uu(t.infoSyncTree_,e,n):r=uu(t.serverSyncTree_,e,n),zC(t.eventQueue_,e._path,r)}function x4(t){t.persistentConnection_&&t.persistentConnection_.interrupt(d4)}function il(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ve(n,...e)}function Kh(t,e,n,r){e&&fo(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function VC(t,e,n){return Hm(t.serverSyncTree_,e,n)||V.EMPTY_NODE}function rg(t,e=t.transactionQueueTree_){if(e||rd(t,e),po(e)){const n=GC(t,e);O(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&E4(t,sl(e),n)}else MC(e)&&Zu(e,n=>{rg(t,n)})}function E4(t,e,n){const r=n.map(c=>c.currentWriteId),s=VC(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const d=n[c];O(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const u=at(e,d.path);i=i.updateChild(u,d.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{il(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const u=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(Tr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&u.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();rd(t,Zm(t.transactionQueueTree_,e)),rg(t,t.transactionQueueTree_),Ut(t.eventQueue_,e,d);for(let f=0;f<u.length;f++)fo(u[f])}else{if(c==="datastale")for(let u=0;u<n.length;u++)n[u].status===3?n[u].status=4:n[u].status=0;else{ct("transaction at "+l.toString()+" failed: "+c);for(let u=0;u<n.length;u++)n[u].status=4,n[u].abortReason=c}Ji(t,e)}},o)}function Ji(t,e){const n=HC(t,e),r=sl(n),s=GC(t,n);return C4(t,s,r),r}function C4(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=at(n,l.path);let d=!1,u;if(O(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,u=l.abortReason,s=s.concat(Tr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=f4)d=!0,u="maxretry",s=s.concat(Tr(t.serverSyncTree_,l.currentWriteId,!0));else{const f=VC(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){ed("transaction failed: Data returned ",h,l.path);let x=Me(h);typeof h=="object"&&h!=null&&bn(h,".priority")||(x=x.updatePriority(f.getPriority()));const w=l.currentWriteId,y=nd(t),g=OC(x,f,y);l.currentOutputSnapshotRaw=x,l.currentOutputSnapshotResolved=g,l.currentWriteId=ng(t),o.splice(o.indexOf(w),1),s=s.concat(IC(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),s=s.concat(Tr(t.serverSyncTree_,w,!0))}else d=!0,u="nodata",s=s.concat(Tr(t.serverSyncTree_,l.currentWriteId,!0))}Ut(t.eventQueue_,n,s),s=[],d&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(u==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(u),!1,null))))}rd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)fo(r[a]);rg(t,t.transactionQueueTree_)}function HC(t,e){let n,r=t.transactionQueueTree_;for(n=X(e);n!==null&&po(r)===void 0;)r=Zm(r,n),e=me(e),n=X(e);return r}function GC(t,e){const n=[];return KC(t,e,n),n.sort((r,s)=>r.order-s.order),n}function KC(t,e,n){const r=po(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Zu(e,s=>{KC(t,s,n)})}function rd(t,e){const n=po(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,DC(e,n.length>0?n:void 0)}Zu(e,r=>{rd(t,r)})}function sg(t,e){const n=sl(HC(t,e)),r=Zm(t.transactionQueueTree_,e);return Zj(r,s=>{cf(t,s)}),cf(t,r),LC(r,s=>{cf(t,s)}),n}function cf(t,e){const n=po(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(O(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(O(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Tr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?DC(e,void 0):n.length=i+1,Ut(t.eventQueue_,sl(e),s);for(let o=0;o<r.length;o++)fo(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function b4(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ct(`Invalid query segment '${n}' in query '${t}'`)}return e}const x_=function(t,e){const n=T4(t),r=n.namespace;n.domain==="firebase.com"&&qn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||L2();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Q1(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new fe(n.pathString)}},T4=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let u=t.indexOf("?");u===-1&&(u=t.length),e=t.substring(0,Math.min(d,u)),d<u&&(s=S4(t.substring(d,u)));const f=b4(t.substring(Math.min(t.length,u)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const x=e.indexOf(".");r=e.substring(0,x).toLowerCase(),n=e.substring(x+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",I4=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=E_.charAt(n%64),n=Math.floor(n/64);O(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=E_.charAt(e[s]);return O(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Le(this.snapshot.exportVal())}}class N4{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return ee(this._path)?null:Am(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const e=o_(this._queryParams),n=km(e);return n==="{}"?"default":n}get _queryObject(){return o_(this._queryParams)}isEqual(e){if(e=nt(e),!(e instanceof ig))return!1;const n=this._repo===e._repo,r=Om(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+_F(this._path)}}class Yn extends ig{constructor(e,n){super(e,n,new Fm,!1)}get parent(){const e=sC(this._path);return e===null?null:new Yn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class La{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new fe(e),r=Fa(this.ref,e);return new La(this._node.getChild(n),r,Pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new La(s,Fa(this.ref,r),Pe)))}hasChild(e){const n=new fe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function es(t,e){return t=nt(t),t._checkNotDeleted("ref"),e!==void 0?Fa(t._root,e):t._root}function Fa(t,e){return t=nt(t),X(t._path)===null?a4("child","path",e):UC("child","path",e),new Yn(t._repo,Ne(t._path,e))}function P4(t,e){t=nt(t),$C("push",t._path),jC("push",e,t._path,!0);const n=WC(t._repo),r=I4(n),s=Fa(t,r),i=Fa(t,r);let o;return o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function QC(t,e){t=nt(t),$C("set",t._path),jC("set",e,t._path,!1);const n=new qa;return v4(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function sd(t,e){o4("update",e,t._path);const n=new qa;return y4(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function YC(t){t=nt(t);const e=new qC(()=>{}),n=new id(e);return g4(t._repo,t,n).then(r=>new La(r,new Yn(t._repo,t._path),t._queryParams.getIndex()))}class id{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new k4("value",this,new La(e.snapshotNode,new Yn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new N4(this,e,n):null}matches(e){return e instanceof id?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function R4(t,e,n,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const l=n,c=(d,u)=>{w_(t._repo,t,a),l(d,u)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new qC(n,i||void 0),a=new id(o);return w4(t._repo,t,a),()=>w_(t._repo,t,a)}function A4(t,e,n,r){return R4(t,"value",e,n,r)}Rj(Yn);Lj(Yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="FIREBASE_DATABASE_EMULATOR_HOST",qh={};let D4=!1;function M4(t,e,n,r){const s=e.lastIndexOf(":"),i=e.substring(0,s),o=ao(i);t.repoInfo_=new Q1(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function L4(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ve("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=x_(i,s),a=o.repoInfo,l;typeof process<"u"&&By&&(l=By[O4]),l?(i=`http://${l}?ns=${a.namespace}`,o=x_(i,s),a=o.repoInfo):o.repoInfo.secure;const c=new K2(t.name,t.options,e);l4("Invalid Firebase Database URL",o),ee(o.path)||qn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=j4(a,t,c,new G2(t,n));return new U4(d,t)}function F4(t,e){const n=qh[e];(!n||n[t.key]!==t)&&qn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),x4(t),delete n[t.key]}function j4(t,e,n,r){let s=qh[e.name];s||(s={},qh[e.name]=s);let i=s[t.toURLString()];return i&&qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new h4(t,D4,n,r),s[t.toURLString()]=i,i}class U4{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(p4(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,oe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(F4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&qn("Cannot call "+e+" on a deleted database.")}}function $4(t=JE(),e){const n=ym(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=$O("database");r&&z4(n,...r)}return n}function z4(t,e,n,r={}){t=nt(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&ks(r,i.repoInfo_.emulatorOptions))return;qn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new oc(oc.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:zO(r.mockUserToken,t.app.options.projectId);o=new oc(a)}ao(e)&&(VE(e),HE("Database",!0)),M4(i,s,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t){P2(co),Ki(new Ns("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return L4(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Fr(Wy,Vy,t),Fr(Wy,Vy,"esm2020")}jn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};jn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};B4();const W4={apiKey:"AIzaSyC8zBXBmNUvGglcg6YLxodKrsA1LTXO970",authDomain:"jumentusdb.firebaseapp.com",databaseURL:"https://jumentusdb-default-rtdb.firebaseio.com",projectId:"jumentusdb",storageBucket:"jumentusdb.firebasestorage.app",messagingSenderId:"430579427740",appId:"1:430579427740:web:7d30bf9454986763420059",measurementId:"G-38CJ4YQ1WK"},XC=XE(W4),ts=$4(XC),Ml=T2(XC);async function V4(t,e){const n=es(ts,`users/${t}`);(await YC(n)).exists()||await QC(n,{uid:t,email:e,isAdmin:!1,trusted:!1,createdAt:Date.now()})}async function H4(t){const e=es(ts,`users/${t}`),n=await YC(e);return n.exists()?n.val():null}const JC=v.createContext(void 0);function G4({children:t}){const[e,n]=v.useState(null),[r,s]=v.useState(null),[i,o]=v.useState(!0);v.useEffect(()=>pL(Ml,async u=>{if(n(u),u){const f=await H4(u.uid);s(f)}else s(null);o(!1)}),[]);const a=async(d,u)=>{await dL(Ml,d,u)},l=async(d,u)=>{const f=await uL(Ml,d,u);await V4(f.user.uid,d)},c=async()=>{await mL(Ml)};return p.jsx(JC.Provider,{value:{user:e,userProfile:r,isAdmin:(r==null?void 0:r.isAdmin)??!1,isTrusted:(r==null?void 0:r.trusted)??!1,loading:i,signIn:a,signUp:l,signOut:c},children:t})}function mo(){const t=v.useContext(JC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const og=Au("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ee=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?_k:"button";return p.jsx(o,{className:de(og({variant:e,size:n,className:t})),ref:i,...s})});Ee.displayName="Button";const Ti=v.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ti.displayName="Input";const ZC=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ZC.displayName="Card";const eS=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:de("flex flex-col space-y-1.5 p-6",t),...e}));eS.displayName="CardHeader";const tS=v.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:de("text-2xl font-semibold leading-none tracking-tight",t),...e}));tS.displayName="CardTitle";const K4=v.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:de("text-sm text-muted-foreground",t),...e}));K4.displayName="CardDescription";const nS=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:de("p-6 pt-0",t),...e}));nS.displayName="CardContent";const q4=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:de("flex items-center p-6 pt-0",t),...e}));q4.displayName="CardFooter";function Q4(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(!1),{signIn:o,signUp:a}=mo(),{toast:l}=nx(),c=async d=>{d.preventDefault();try{s?(await a(t,n),l({title:"Conta criada! Aguarde aprovao do administrador."})):(await o(t,n),l({title:"Login realizado com sucesso!"}))}catch(u){l({title:"Erro",description:u.message,variant:"destructive"})}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 to-gray-800",children:p.jsxs(ZC,{className:"w-full max-w-md",children:[p.jsx(eS,{children:p.jsx(tS,{className:"text-2xl text-center",children:s?"Criar Conta":"Login"})}),p.jsx(nS,{children:p.jsxs("form",{onSubmit:c,className:"space-y-4",children:[p.jsx(Ti,{type:"email",placeholder:"Email",value:t,onChange:d=>e(d.target.value),required:!0}),p.jsx(Ti,{type:"password",placeholder:"Senha",value:n,onChange:d=>r(d.target.value),required:!0}),p.jsx(Ee,{type:"submit",className:"w-full",children:s?"Criar Conta":"Entrar"}),p.jsx(Ee,{type:"button",variant:"ghost",className:"w-full",onClick:()=>i(!s),children:s?"J tem conta? Entrar":"Criar nova conta"})]})})]})})}function Y4({children:t}){const{user:e,isTrusted:n,loading:r}=mo();return r?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx("div",{className:"text-xl",children:"Carregando..."})}):e?n?p.jsx(p.Fragment,{children:t}):p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 to-gray-800",children:p.jsxs("div",{className:"text-center text-white",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Acesso Pendente"}),p.jsx("p",{children:"Sua conta est aguardando aprovao do administrador."})]})}):p.jsx(Q4,{})}function X4(t){const[e,n]=v.useState(null),[r,s]=v.useState(!0),[i,o]=v.useState(null);return v.useEffect(()=>{const a=es(ts,t),l=A4(a,c=>{n(c.val()),s(!1)},c=>{o(c),s(!1)});return()=>l()},[t]),{data:e,loading:r,error:i}}async function J4(t,e,n=!1){const r=P4(es(ts,"players")),s=r.key,i=Date.now();return await QC(r,{id:s,name:t.trim(),skill_level:e,goals:0,saves:0,is_goalkeeper:n,created_at:i,updated_at:i,active:!0}),s}async function Z4(t,e){const n=Date.now();await sd(es(ts,`players/${t}`),{goals:e,updated_at:n})}async function Ll(t,e){const n=Date.now();await sd(es(ts,`players/${t}`),{...e,updated_at:n})}async function e3(t){const e=Date.now();await sd(es(ts,`players/${t}`),{active:!1,updated_at:e})}async function t3(t){const e=Date.now();await sd(es(ts,`players/${t}`),{active:!0,updated_at:e})}function n3(t){return{id:t.id,name:t.name,skillLevel:t.skill_level,goals:t.goals,saves:t.saves,isGoalkeeper:t.is_goalkeeper,active:t.active??!0}}const r3=()=>{const{signOut:t,user:e}=mo();return p.jsx("header",{className:"gradient-hero text-primary-foreground py-6 px-4 shadow-elevated",children:p.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[p.jsx("img",{src:"/LOGO_JUMENTUS.svg",alt:"Jumentus FC",className:"w-16 h-16 animate-bounce-soft"}),p.jsxs("div",{className:"text-center flex-1",children:[p.jsx("h1",{className:"font-display text-4xl md:text-5xl tracking-wide",children:"Jumentus FC"}),p.jsx("p",{className:"text-primary-foreground/80 text-sm mt-1 font-medium",children:"Controle de partidas"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("img",{src:"/LOGO_JUMENTUS.svg",alt:"Jumentus FC",className:"w-16 h-16 animate-bounce-soft hidden md:block"}),e&&p.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>t(),className:"text-primary-foreground hover:bg-primary-foreground/10",children:p.jsx(pN,{className:"h-5 w-5"})})]})]})})},s3=({activeTab:t,onTabChange:e,matchActive:n})=>{const r=[{id:"players",label:"Jogadores",icon:Dx},{id:"teams",label:"Times",icon:Ox},{id:"match",label:"Partida",icon:hN,disabled:!n},{id:"stats",label:"Estatsticas",icon:fN}];return p.jsx("nav",{className:"sticky top-0 z-10 bg-card/95 backdrop-blur-sm border-b border-border shadow-sm",children:p.jsx("div",{className:"container mx-auto",children:p.jsx("div",{className:"flex overflow-x-auto hide-scrollbar",children:r.map(s=>{const i=s.icon,o=t===s.id,a=s.disabled;return p.jsxs(Ee,{variant:"ghost",onClick:()=>!a&&e(s.id),disabled:a,className:`flex-1 min-w-[80px] rounded-none py-4 px-3 font-medium transition-all ${o?"text-primary border-b-2 border-primary bg-secondary/50":a?"text-muted-foreground/50":"text-muted-foreground hover:text-foreground hover:bg-secondary/30"}`,children:[p.jsx(i,{className:"w-4 h-4 mr-2"}),p.jsx("span",{className:"text-sm",children:s.label}),s.id==="match"&&n&&p.jsx("span",{className:"ml-2 w-2 h-2 bg-green-500 rounded-full animate-pulse"})]},s.id)})})})})};var i3="Label",rS=v.forwardRef((t,e)=>p.jsx(he.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));rS.displayName=i3;var sS=rS;const o3=Au("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),cs=v.forwardRef(({className:t,...e},n)=>p.jsx(sS,{ref:n,className:de(o3(),t),...e}));cs.displayName=sS.displayName;function iS(t,[e,n]){return Math.min(n,Math.max(e,t))}var a3=v.createContext(void 0);function l3(t){const e=v.useContext(a3);return t||e||"ltr"}function oS(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var aS=["PageUp","PageDown"],lS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],cS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},go="Slider",[Qh,c3,u3]=ox(go),[uS,_6]=Yr(go,[u3]),[d3,od]=uS(go),dS=v.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:u=()=>{},onValueCommit:f=()=>{},inverted:h=!1,form:x,...m}=t,w=v.useRef(new Set),y=v.useRef(0),_=o==="horizontal"?f3:h3,[E=[],C]=Nu({prop:d,defaultProp:c,onChange:F=>{var H;(H=[...w.current][y.current])==null||H.focus(),u(F)}}),S=v.useRef(E);function b(F){const M=y3(E,F);R(F,M)}function T(F){R(F,y.current)}function P(){const F=S.current[y.current];E[y.current]!==F&&f(E)}function R(F,M,{commit:H}={commit:!1}){const L=E3(i),G=C3(Math.round((F-r)/i)*i+r,L),$=iS(G,[r,s]);C((B=[])=>{const I=g3(B,$,M);if(x3(I,l*i)){y.current=I.indexOf($);const k=String(I)!==String(B);return k&&H&&f(I),k?I:B}else return B})}return p.jsx(d3,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:y,thumbs:w.current,values:E,orientation:o,form:x,children:p.jsx(Qh.Provider,{scope:t.__scopeSlider,children:p.jsx(Qh.Slot,{scope:t.__scopeSlider,children:p.jsx(_,{"aria-disabled":a,"data-disabled":a?"":void 0,...m,ref:e,onPointerDown:ie(m.onPointerDown,()=>{a||(S.current=E)}),min:r,max:s,inverted:h,onSlideStart:a?void 0:b,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:P,onHomeKeyDown:()=>!a&&R(r,0,{commit:!0}),onEndKeyDown:()=>!a&&R(s,E.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:M})=>{if(!a){const G=aS.includes(F.key)||F.shiftKey&&lS.includes(F.key)?10:1,$=y.current,B=E[$],I=i*G*M;R(B+I,$,{commit:!0})}}})})})})});dS.displayName=go;var[fS,hS]=uS(go,{startEdge:"left",endEdge:"right",size:"width",direction:1}),f3=v.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=t,[u,f]=v.useState(null),h=we(e,_=>f(_)),x=v.useRef(void 0),m=l3(s),w=m==="ltr",y=w&&!i||!w&&i;function g(_){const E=x.current||u.getBoundingClientRect(),C=[0,E.width],b=ag(C,y?[n,r]:[r,n]);return x.current=E,b(_-E.left)}return p.jsx(fS,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:p.jsx(pS,{dir:m,"data-orientation":"horizontal",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const E=g(_.clientX);o==null||o(E)},onSlideMove:_=>{const E=g(_.clientX);a==null||a(E)},onSlideEnd:()=>{x.current=void 0,l==null||l()},onStepKeyDown:_=>{const C=cS[y?"from-left":"from-right"].includes(_.key);c==null||c({event:_,direction:C?-1:1})}})})}),h3=v.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,d=v.useRef(null),u=we(e,d),f=v.useRef(void 0),h=!s;function x(m){const w=f.current||d.current.getBoundingClientRect(),y=[0,w.height],_=ag(y,h?[r,n]:[n,r]);return f.current=w,_(m-w.top)}return p.jsx(fS,{scope:t.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:p.jsx(pS,{"data-orientation":"vertical",...c,ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const w=x(m.clientY);i==null||i(w)},onSlideMove:m=>{const w=x(m.clientY);o==null||o(w)},onSlideEnd:()=>{f.current=void 0,a==null||a()},onStepKeyDown:m=>{const y=cS[h?"from-bottom":"from-top"].includes(m.key);l==null||l({event:m,direction:y?-1:1})}})})}),pS=v.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,d=od(go,n);return p.jsx(he.span,{...c,ref:e,onKeyDown:ie(t.onKeyDown,u=>{u.key==="Home"?(o(u),u.preventDefault()):u.key==="End"?(a(u),u.preventDefault()):aS.concat(lS).includes(u.key)&&(l(u),u.preventDefault())}),onPointerDown:ie(t.onPointerDown,u=>{const f=u.target;f.setPointerCapture(u.pointerId),u.preventDefault(),d.thumbs.has(f)?f.focus():r(u)}),onPointerMove:ie(t.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&s(u)}),onPointerUp:ie(t.onPointerUp,u=>{const f=u.target;f.hasPointerCapture(u.pointerId)&&(f.releasePointerCapture(u.pointerId),i(u))})})}),mS="SliderTrack",gS=v.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=od(mS,n);return p.jsx(he.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});gS.displayName=mS;var Yh="SliderRange",vS=v.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=od(Yh,n),i=hS(Yh,n),o=v.useRef(null),a=we(e,o),l=s.values.length,c=s.values.map(f=>wS(f,s.min,s.max)),d=l>1?Math.min(...c):0,u=100-Math.max(...c);return p.jsx(he.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:u+"%"}})});vS.displayName=Yh;var Xh="SliderThumb",yS=v.forwardRef((t,e)=>{const n=c3(t.__scopeSlider),[r,s]=v.useState(null),i=we(e,a=>s(a)),o=v.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return p.jsx(p3,{...t,ref:i,index:o})}),p3=v.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=od(Xh,n),a=hS(Xh,n),[l,c]=v.useState(null),d=we(e,g=>c(g)),u=l?o.form||!!l.closest("form"):!0,f=am(l),h=o.values[r],x=h===void 0?0:wS(h,o.min,o.max),m=v3(r,o.values.length),w=f==null?void 0:f[a.size],y=w?_3(w,x,a.direction):0;return v.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${x}% + ${y}px)`},children:[p.jsx(Qh.ItemSlot,{scope:t.__scopeSlider,children:p.jsx(he.span,{role:"slider","aria-label":t["aria-label"]||m,"aria-valuemin":o.min,"aria-valuenow":h,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:h===void 0?{display:"none"}:t.style,onFocus:ie(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),u&&p.jsx(_S,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:h},r)]})});yS.displayName=Xh;var m3="RadioBubbleInput",_S=v.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const s=v.useRef(null),i=we(s,r),o=oS(e);return v.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const u=new Event("input",{bubbles:!0});d.call(a,e),a.dispatchEvent(u)}},[o,e]),p.jsx(he.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});_S.displayName=m3;function g3(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function wS(t,e,n){const i=100/(n-e)*(t-e);return iS(i,[0,100])}function v3(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function y3(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function _3(t,e,n){const r=t/2,i=ag([0,50],[0,r]);return(r-i(e)*n)*n}function w3(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function x3(t,e){if(e>0){const n=w3(t);return Math.min(...n)>=e}return!0}function ag(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function E3(t){return(String(t).split(".")[1]||"").length}function C3(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var xS=dS,S3=gS,b3=vS,T3=yS;const ES=v.forwardRef(({className:t,...e},n)=>p.jsxs(xS,{ref:n,className:de("relative flex w-full touch-none select-none items-center",t),...e,children:[p.jsx(S3,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(b3,{className:"absolute h-full bg-primary"})}),p.jsx(T3,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ES.displayName=xS.displayName;var ad="Switch",[I3,w6]=Yr(ad),[k3,N3]=I3(ad),CS=v.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:d,...u}=t,[f,h]=v.useState(null),x=we(e,_=>h(_)),m=v.useRef(!1),w=f?d||!!f.closest("form"):!0,[y,g]=Nu({prop:s,defaultProp:i??!1,onChange:c,caller:ad});return p.jsxs(k3,{scope:n,checked:y,disabled:a,children:[p.jsx(he.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":IS(y),"data-disabled":a?"":void 0,disabled:a,value:l,...u,ref:x,onClick:ie(t.onClick,_=>{g(E=>!E),w&&(m.current=_.isPropagationStopped(),m.current||_.stopPropagation())})}),w&&p.jsx(TS,{control:f,bubbles:!m.current,name:r,value:l,checked:y,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});CS.displayName=ad;var SS="SwitchThumb",bS=v.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=N3(SS,n);return p.jsx(he.span,{"data-state":IS(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});bS.displayName=SS;var P3="SwitchBubbleInput",TS=v.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=v.useRef(null),a=we(o,i),l=oS(n),c=am(e);return v.useEffect(()=>{const d=o.current;if(!d)return;const u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(l!==n&&h){const x=new Event("click",{bubbles:r});h.call(d,n),d.dispatchEvent(x)}},[l,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});TS.displayName=P3;function IS(t){return t?"checked":"unchecked"}var kS=CS,R3=bS;const Jh=v.forwardRef(({className:t,...e},n)=>p.jsx(kS,{className:de("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:p.jsx(R3,{className:de("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Jh.displayName=kS.displayName;const A3=({onAddPlayer:t,editingPlayer:e,onUpdatePlayer:n,onCancelEdit:r})=>{const{isAdmin:s}=mo(),[i,o]=v.useState(""),[a,l]=v.useState(5),[c,d]=v.useState(!1),[u,f]=v.useState(!0),[h,x]=v.useState(0),[m,w]=v.useState(0);v.useEffect(()=>{e?(o(e.name),l(e.skillLevel),d(e.isGoalkeeper),f(e.active??!0),x(e.goals),w(e.saves)):(o(""),l(5),d(!1),f(!0),x(0),w(0))},[e]);const y=g=>{g.preventDefault(),i.trim()&&(e&&n?n({...e,name:i.trim(),skillLevel:a,isGoalkeeper:c,active:u,goals:h,saves:m}):t({name:i.trim(),skillLevel:a,isGoalkeeper:c}),o(""),l(5),d(!1),f(!0),x(0),w(0))};return p.jsxs("form",{onSubmit:y,className:"card-elevated p-6 animate-fade-in",children:[p.jsx("h2",{className:"font-display text-2xl text-primary mb-4",children:e?"Editar Jogador":"Novo Jogador"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(cs,{htmlFor:"name",className:"text-foreground font-medium",children:"Nome"}),p.jsx(Ti,{id:"name",value:i,onChange:g=>o(g.target.value),placeholder:"Digite o nome do jogador",className:"mt-1"})]}),p.jsxs("div",{children:[p.jsxs(cs,{className:"text-foreground font-medium",children:["Nvel de Habilidade: ",p.jsx("span",{className:"text-primary font-bold",children:a})]}),p.jsx("div",{className:"mt-3 px-1",children:p.jsx(ES,{value:[a],onValueChange:g=>l(g[0]),min:1,max:10,step:1,className:"cursor-pointer"})}),p.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[p.jsx("span",{children:"Iniciante"}),p.jsx("span",{children:"Craque"})]})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary rounded-lg",children:[p.jsx(cs,{htmlFor:"goalkeeper",className:"text-foreground font-medium cursor-pointer",children:" Goleiro"}),p.jsx(Jh,{id:"goalkeeper",checked:c,onCheckedChange:d})]}),e&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary rounded-lg",children:[p.jsx(cs,{htmlFor:"active",className:"text-foreground font-medium cursor-pointer",children:" Ativo"}),p.jsx(Jh,{id:"active",checked:u,onCheckedChange:f})]}),s&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx(cs,{htmlFor:"goals",className:"text-foreground font-medium",children:" Gols"}),p.jsx(Ti,{id:"goals",type:"number",min:"0",value:h,onChange:g=>x(parseInt(g.target.value)||0),className:"mt-1"})]}),p.jsxs("div",{children:[p.jsx(cs,{htmlFor:"saves",className:"text-foreground font-medium",children:" Defesas"}),p.jsx(Ti,{id:"saves",type:"number",min:"0",value:m,onChange:g=>w(parseInt(g.target.value)||0),className:"mt-1"})]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Ee,{type:"submit",className:"flex-1 btn-primary",children:[p.jsx(hh,{className:"w-4 h-4 mr-2"}),e?"Salvar":"Adicionar"]}),e&&r&&p.jsx(Ee,{type:"button",variant:"outline",onClick:r,children:"Cancelar"})]})]})]})},O3=Au("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function it({className:t,variant:e,...n}){return p.jsx("div",{className:de(O3({variant:e}),t),...n})}const NS=({players:t,onEdit:e,onDelete:n,onReactivate:r,selectable:s=!1,selectedIds:i=[],onToggleSelect:o,showActions:a=!0})=>{const l=c=>c>=8?"bg-gold text-foreground":c>=5?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground";return t.length===0?p.jsxs("div",{className:"card-elevated p-8 text-center animate-fade-in",children:[p.jsx("p",{className:"text-muted-foreground",children:"Nenhum jogador cadastrado ainda."}),p.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Adicione jogadores para comear!"})]}):p.jsx("div",{className:"space-y-2",children:t.map((c,d)=>p.jsxs("div",{className:`card-elevated p-4 flex items-center gap-4 animate-slide-up transition-all ${s&&i.includes(c.id)?"ring-2 ring-primary bg-secondary":""} ${c.active===!1?"opacity-50":""} ${s&&c.active!==!1?"cursor-pointer":""}`,style:{animationDelay:`${d*50}ms`},onClick:()=>s&&c.active!==!1&&(o==null?void 0:o(c.id)),children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-semibold text-foreground truncate",children:c.name}),c.isGoalkeeper&&p.jsxs(it,{variant:"outline",className:"text-xs border-primary text-primary",children:[p.jsx(Dc,{className:"w-3 h-3 mr-1"}),"Goleiro"]})]}),p.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-muted-foreground",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(Oc,{className:"w-3 h-3"})," ",c.goals," gols"]}),c.isGoalkeeper&&p.jsxs("span",{className:"flex items-center gap-1",children:[" ",c.saves," defesas"]})]})]}),p.jsx(it,{className:`${l(c.skillLevel)} font-bold`,children:c.skillLevel}),!s&&a&&p.jsx("div",{className:"flex gap-1",children:c.active===!1?p.jsx(Ee,{variant:"ghost",size:"icon",onClick:u=>{u.stopPropagation(),r==null||r(c.id)},className:"h-8 w-8 text-muted-foreground hover:text-green-600",title:"Reativar jogador",children:p.jsx(gN,{className:"w-4 h-4"})}):p.jsxs(p.Fragment,{children:[p.jsx(Ee,{variant:"ghost",size:"icon",onClick:u=>{u.stopPropagation(),e(c)},className:"h-8 w-8 text-muted-foreground hover:text-primary",children:p.jsx(mN,{className:"w-4 h-4"})}),p.jsx(Ee,{variant:"ghost",size:"icon",onClick:u=>{u.stopPropagation(),n(c.id)},className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:p.jsx(yN,{className:"w-4 h-4"})})]})})]},c.id))})};var uf="focusScope.autoFocusOnMount",df="focusScope.autoFocusOnUnmount",C_={bubbles:!1,cancelable:!0},D3="FocusScope",PS=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),c=En(s),d=En(i),u=v.useRef(null),f=we(e,m=>l(m)),h=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let m=function(_){if(h.paused||!a)return;const E=_.target;a.contains(E)?u.current=E:cr(u.current,{select:!0})},w=function(_){if(h.paused||!a)return;const E=_.relatedTarget;E!==null&&(a.contains(E)||cr(u.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const C of _)C.removedNodes.length>0&&cr(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const g=new MutationObserver(y);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),g.disconnect()}}},[r,a,h.paused]),v.useEffect(()=>{if(a){b_.add(h);const m=document.activeElement;if(!a.contains(m)){const y=new CustomEvent(uf,C_);a.addEventListener(uf,c),a.dispatchEvent(y),y.defaultPrevented||(M3($3(RS(a)),{select:!0}),document.activeElement===m&&cr(a))}return()=>{a.removeEventListener(uf,c),setTimeout(()=>{const y=new CustomEvent(df,C_);a.addEventListener(df,d),a.dispatchEvent(y),y.defaultPrevented||cr(m??document.body,{select:!0}),a.removeEventListener(df,d),b_.remove(h)},0)}}},[a,c,d,h]);const x=v.useCallback(m=>{if(!n&&!r||h.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(w&&y){const g=m.currentTarget,[_,E]=L3(g);_&&E?!m.shiftKey&&y===E?(m.preventDefault(),n&&cr(_,{select:!0})):m.shiftKey&&y===_&&(m.preventDefault(),n&&cr(E,{select:!0})):y===g&&m.preventDefault()}},[n,r,h.paused]);return p.jsx(he.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});PS.displayName=D3;function M3(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(cr(r,{select:e}),document.activeElement!==n)return}function L3(t){const e=RS(t),n=S_(e,t),r=S_(e.reverse(),t);return[n,r]}function RS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function S_(t,e){for(const n of t)if(!F3(n,{upTo:e}))return n}function F3(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function j3(t){return t instanceof HTMLInputElement&&"select"in t}function cr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&j3(t)&&e&&t.select()}}var b_=U3();function U3(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=T_(t,e),t.unshift(e)},remove(e){var n;t=T_(t,e),(n=t[0])==null||n.resume()}}}function T_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function $3(t){return t.filter(e=>e.tagName!=="A")}var ff=0;function z3(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??I_()),document.body.insertAdjacentElement("beforeend",t[1]??I_()),ff++,()=>{ff===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ff--}},[])}function I_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var mn=function(){return mn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mn.apply(this,arguments)};function AS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function B3(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var ac="right-scroll-bar-position",lc="width-before-scroll-bar",W3="with-scroll-bars-hidden",V3="--removed-body-scroll-bar-size";function hf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function H3(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var G3=typeof window<"u"?v.useLayoutEffect:v.useEffect,k_=new WeakMap;function K3(t,e){var n=H3(null,function(r){return t.forEach(function(s){return hf(s,r)})});return G3(function(){var r=k_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||hf(a,null)}),i.forEach(function(a){s.has(a)||hf(a,o)})}k_.set(n,t)},[t]),n}function q3(t){return t}function Q3(t,e){e===void 0&&(e=q3);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function Y3(t){t===void 0&&(t={});var e=Q3(null);return e.options=mn({async:!0,ssr:!1},t),e}var OS=function(t){var e=t.sideCar,n=AS(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,mn({},n))};OS.isSideCarExport=!0;function X3(t,e){return t.useMedium(e),OS}var DS=Y3(),pf=function(){},ld=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:pf,onWheelCapture:pf,onTouchMoveCapture:pf}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,u=t.shards,f=t.sideCar,h=t.noRelative,x=t.noIsolation,m=t.inert,w=t.allowPinchZoom,y=t.as,g=y===void 0?"div":y,_=t.gapMode,E=AS(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,S=K3([n,e]),b=mn(mn({},E),s);return v.createElement(v.Fragment,null,d&&v.createElement(C,{sideCar:DS,removeScrollBar:c,shards:u,noRelative:h,noIsolation:x,inert:m,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:_}),o?v.cloneElement(v.Children.only(a),mn(mn({},b),{ref:S})):v.createElement(g,mn({},b,{className:l,ref:S}),a))});ld.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ld.classNames={fullWidth:lc,zeroRight:ac};var J3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Z3(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=J3();return e&&t.setAttribute("nonce",e),t}function e5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function t5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var n5=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Z3())&&(e5(e,n),t5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},r5=function(){var t=n5();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},MS=function(){var t=r5(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},s5={left:0,top:0,right:0,gap:0},mf=function(t){return parseInt(t||"",10)||0},i5=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[mf(n),mf(r),mf(s)]},o5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return s5;var e=i5(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},a5=MS(),Ii="data-scroll-locked",l5=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(W3,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ii,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ac,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(lc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ac," .").concat(ac,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(lc," .").concat(lc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ii,`] {
    `).concat(V3,": ").concat(a,`px;
  }
`)},N_=function(){var t=parseInt(document.body.getAttribute(Ii)||"0",10);return isFinite(t)?t:0},c5=function(){v.useEffect(function(){return document.body.setAttribute(Ii,(N_()+1).toString()),function(){var t=N_()-1;t<=0?document.body.removeAttribute(Ii):document.body.setAttribute(Ii,t.toString())}},[])},u5=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;c5();var i=v.useMemo(function(){return o5(s)},[s]);return v.createElement(a5,{styles:l5(i,!e,s,n?"":"!important")})},Zh=!1;if(typeof window<"u")try{var Fl=Object.defineProperty({},"passive",{get:function(){return Zh=!0,!0}});window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{Zh=!1}var Qs=Zh?{passive:!1}:!1,d5=function(t){return t.tagName==="TEXTAREA"},LS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!d5(t)&&n[e]==="visible")},f5=function(t){return LS(t,"overflowY")},h5=function(t){return LS(t,"overflowX")},P_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=FS(t,r);if(s){var i=jS(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},p5=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},m5=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},FS=function(t,e){return t==="v"?f5(e):h5(e)},jS=function(t,e){return t==="v"?p5(e):m5(e)},g5=function(t,e){return t==="h"&&e==="rtl"?-1:1},v5=function(t,e,n,r,s){var i=g5(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,u=0,f=0;do{if(!a)break;var h=jS(t,a),x=h[0],m=h[1],w=h[2],y=m-w-i*x;(x||y)&&FS(t,a)&&(u+=y,f+=x);var g=a.parentNode;a=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(u)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(c=!0),c},jl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},R_=function(t){return[t.deltaX,t.deltaY]},A_=function(t){return t&&"current"in t?t.current:t},y5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},w5=0,Ys=[];function x5(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(w5++)[0],i=v.useState(MS)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=B3([t.lockRef.current],(t.shards||[]).map(A_),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=jl(m),g=n.current,_="deltaX"in m?m.deltaX:g[0]-y[0],E="deltaY"in m?m.deltaY:g[1]-y[1],C,S=m.target,b=Math.abs(_)>Math.abs(E)?"h":"v";if("touches"in m&&b==="h"&&S.type==="range")return!1;var T=P_(b,S);if(!T)return!0;if(T?C=b:(C=b==="v"?"h":"v",T=P_(b,S)),!T)return!1;if(!r.current&&"changedTouches"in m&&(_||E)&&(r.current=C),!C)return!0;var P=r.current||C;return v5(P,w,m,P==="h"?_:E,!0)},[]),l=v.useCallback(function(m){var w=m;if(!(!Ys.length||Ys[Ys.length-1]!==i)){var y="deltaY"in w?R_(w):jl(w),g=e.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&y5(C.delta,y)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var _=(o.current.shards||[]).map(A_).filter(Boolean).filter(function(C){return C.contains(w.target)}),E=_.length>0?a(w,_[0]):!o.current.noIsolation;E&&w.cancelable&&w.preventDefault()}}},[]),c=v.useCallback(function(m,w,y,g){var _={name:m,delta:w,target:y,should:g,shadowParent:E5(y)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(E){return E!==_})},1)},[]),d=v.useCallback(function(m){n.current=jl(m),r.current=void 0},[]),u=v.useCallback(function(m){c(m.type,R_(m),m.target,a(m,t.lockRef.current))},[]),f=v.useCallback(function(m){c(m.type,jl(m),m.target,a(m,t.lockRef.current))},[]);v.useEffect(function(){return Ys.push(i),t.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Qs),document.addEventListener("touchmove",l,Qs),document.addEventListener("touchstart",d,Qs),function(){Ys=Ys.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,Qs),document.removeEventListener("touchmove",l,Qs),document.removeEventListener("touchstart",d,Qs)}},[]);var h=t.removeScrollBar,x=t.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:_5(s)}):null,h?v.createElement(u5,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function E5(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const C5=X3(DS,x5);var US=v.forwardRef(function(t,e){return v.createElement(ld,mn({},t,{ref:e,sideCar:C5}))});US.classNames=ld.classNames;var S5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xs=new WeakMap,Ul=new WeakMap,$l={},gf=0,$S=function(t){return t&&(t.host||$S(t.parentNode))},b5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=$S(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},T5=function(t,e,n,r){var s=b5(e,Array.isArray(t)?t:[t]);$l[n]||($l[n]=new WeakMap);var i=$l[n],o=[],a=new Set,l=new Set(s),c=function(u){!u||a.has(u)||(a.add(u),c(u.parentNode))};s.forEach(c);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(f){if(a.has(f))d(f);else try{var h=f.getAttribute(r),x=h!==null&&h!=="false",m=(Xs.get(f)||0)+1,w=(i.get(f)||0)+1;Xs.set(f,m),i.set(f,w),o.push(f),m===1&&x&&Ul.set(f,!0),w===1&&f.setAttribute(n,"true"),x||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(e),a.clear(),gf++,function(){o.forEach(function(u){var f=Xs.get(u)-1,h=i.get(u)-1;Xs.set(u,f),i.set(u,h),f||(Ul.has(u)||u.removeAttribute(r),Ul.delete(u)),h||u.removeAttribute(n)}),gf--,gf||(Xs=new WeakMap,Xs=new WeakMap,Ul=new WeakMap,$l={})}},I5=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=S5(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),T5(r,s,n,"aria-hidden")):function(){return null}},cd="Dialog",[zS,BS]=Yr(cd),[k5,ln]=zS(cd),WS=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=v.useRef(null),l=v.useRef(null),[c,d]=Nu({prop:r,defaultProp:s??!1,onChange:i,caller:cd});return p.jsx(k5,{scope:e,triggerRef:a,contentRef:l,contentId:Hd(),titleId:Hd(),descriptionId:Hd(),open:c,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(u=>!u),[d]),modal:o,children:n})};WS.displayName=cd;var VS="DialogTrigger",HS=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ln(VS,n),i=we(e,s.triggerRef);return p.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ug(s.open),...r,ref:i,onClick:ie(t.onClick,s.onOpenToggle)})});HS.displayName=VS;var lg="DialogPortal",[N5,GS]=zS(lg,{forceMount:void 0}),KS=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ln(lg,e);return p.jsx(N5,{scope:e,forceMount:n,children:v.Children.map(r,o=>p.jsx(no,{present:n||i.open,children:p.jsx(Qp,{asChild:!0,container:s,children:o})}))})};KS.displayName=lg;var du="DialogOverlay",qS=v.forwardRef((t,e)=>{const n=GS(du,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ln(du,t.__scopeDialog);return i.modal?p.jsx(no,{present:r||i.open,children:p.jsx(R5,{...s,ref:e})}):null});qS.displayName=du;var P5=wa("DialogOverlay.RemoveScroll"),R5=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ln(du,n);return p.jsx(US,{as:P5,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(he.div,{"data-state":ug(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ms="DialogContent",QS=v.forwardRef((t,e)=>{const n=GS(Ms,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ln(Ms,t.__scopeDialog);return p.jsx(no,{present:r||i.open,children:i.modal?p.jsx(A5,{...s,ref:e}):p.jsx(O5,{...s,ref:e})})});QS.displayName=Ms;var A5=v.forwardRef((t,e)=>{const n=ln(Ms,t.__scopeDialog),r=v.useRef(null),s=we(e,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return I5(i)},[]),p.jsx(YS,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ie(t.onFocusOutside,i=>i.preventDefault())})}),O5=v.forwardRef((t,e)=>{const n=ln(Ms,t.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return p.jsx(YS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),YS=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=ln(Ms,n),l=v.useRef(null),c=we(e,l);return z3(),p.jsxs(p.Fragment,{children:[p.jsx(PS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(ku,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":ug(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(M5,{titleId:a.titleId}),p.jsx(F5,{contentRef:l,descriptionId:a.descriptionId})]})]})}),cg="DialogTitle",XS=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ln(cg,n);return p.jsx(he.h2,{id:s.titleId,...r,ref:e})});XS.displayName=cg;var JS="DialogDescription",ZS=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ln(JS,n);return p.jsx(he.p,{id:s.descriptionId,...r,ref:e})});ZS.displayName=JS;var eb="DialogClose",tb=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ln(eb,n);return p.jsx(he.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,()=>s.onOpenChange(!1))})});tb.displayName=eb;function ug(t){return t?"open":"closed"}var nb="DialogTitleWarning",[D5,rb]=vk(nb,{contentName:Ms,titleName:cg,docsSlug:"dialog"}),M5=({titleId:t})=>{const e=rb(nb),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},L5="DialogDescriptionWarning",F5=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rb(L5).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},j5=WS,U5=HS,$5=KS,z5=qS,B5=QS,W5=XS,V5=ZS,sb=tb,ib="AlertDialog",[H5,x6]=Yr(ib,[BS]),Xn=BS(),ob=t=>{const{__scopeAlertDialog:e,...n}=t,r=Xn(e);return p.jsx(j5,{...r,...n,modal:!0})};ob.displayName=ib;var G5="AlertDialogTrigger",K5=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Xn(n);return p.jsx(U5,{...s,...r,ref:e})});K5.displayName=G5;var q5="AlertDialogPortal",ab=t=>{const{__scopeAlertDialog:e,...n}=t,r=Xn(e);return p.jsx($5,{...r,...n})};ab.displayName=q5;var Q5="AlertDialogOverlay",lb=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Xn(n);return p.jsx(z5,{...s,...r,ref:e})});lb.displayName=Q5;var ki="AlertDialogContent",[Y5,X5]=H5(ki),J5=ix("AlertDialogContent"),cb=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Xn(n),o=v.useRef(null),a=we(e,o),l=v.useRef(null);return p.jsx(D5,{contentName:ki,titleName:ub,docsSlug:"alert-dialog",children:p.jsx(Y5,{scope:n,cancelRef:l,children:p.jsxs(B5,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:ie(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[p.jsx(J5,{children:r}),p.jsx(e6,{contentRef:o})]})})})});cb.displayName=ki;var ub="AlertDialogTitle",db=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Xn(n);return p.jsx(W5,{...s,...r,ref:e})});db.displayName=ub;var fb="AlertDialogDescription",hb=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Xn(n);return p.jsx(V5,{...s,...r,ref:e})});hb.displayName=fb;var Z5="AlertDialogAction",pb=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Xn(n);return p.jsx(sb,{...s,...r,ref:e})});pb.displayName=Z5;var mb="AlertDialogCancel",gb=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=X5(mb,n),i=Xn(n),o=we(e,s);return p.jsx(sb,{...i,...r,ref:o})});gb.displayName=mb;var e6=({contentRef:t})=>{const e=`\`${ki}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ki}\` by passing a \`${fb}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ki}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},t6=ob,n6=ab,vb=lb,yb=cb,_b=pb,wb=gb,xb=db,Eb=hb;const r6=t6,s6=n6,Cb=v.forwardRef(({className:t,...e},n)=>p.jsx(vb,{className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Cb.displayName=vb.displayName;const Sb=v.forwardRef(({className:t,...e},n)=>p.jsxs(s6,{children:[p.jsx(Cb,{}),p.jsx(yb,{ref:n,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Sb.displayName=yb.displayName;const bb=({className:t,...e})=>p.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",t),...e});bb.displayName="AlertDialogHeader";const Tb=({className:t,...e})=>p.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Tb.displayName="AlertDialogFooter";const Ib=v.forwardRef(({className:t,...e},n)=>p.jsx(xb,{ref:n,className:de("text-lg font-semibold",t),...e}));Ib.displayName=xb.displayName;const kb=v.forwardRef(({className:t,...e},n)=>p.jsx(Eb,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));kb.displayName=Eb.displayName;const Nb=v.forwardRef(({className:t,...e},n)=>p.jsx(_b,{ref:n,className:de(og(),t),...e}));Nb.displayName=_b.displayName;const Pb=v.forwardRef(({className:t,...e},n)=>p.jsx(wb,{ref:n,className:de(og({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Pb.displayName=wb.displayName;const i6=({players:t,onTeamsCreated:e})=>{const[n,r]=v.useState([]),[s,i]=v.useState([]),[o,a]=v.useState([]),[l,c]=v.useState(!1),[d,u]=v.useState(null),f=T=>{r(P=>P.includes(T)?P.filter(R=>R!==T):[...P,T])},h=T=>T.length===0?0:(T.reduce((P,R)=>P+R.skillLevel,0)/T.length).toFixed(1),x=()=>{const T=t.filter(I=>n.includes(I.id));if(T.length<2)return;const P=T.filter(I=>I.isGoalkeeper),R=T.filter(I=>!I.isGoalkeeper);if(P.length===1){je.error("Apenas 1 goleiro selecionado. Adicione mais jogadores ou distribua manualmente.");return}const F=[],M=[];P.length>=2&&[...P].sort((k,j)=>j.skillLevel-k.skillLevel).forEach((k,j)=>{j%2===0?F.push(k):M.push(k)});const H=[...R].sort((I,k)=>k.skillLevel-I.skillLevel);let L=F.reduce((I,k)=>I+k.skillLevel,0),G=M.reduce((I,k)=>I+k.skillLevel,0);H.forEach(I=>{L<=G?(F.push(I),L+=I.skillLevel):(M.push(I),G+=I.skillLevel)});const $=F.filter(I=>I.isGoalkeeper).length,B=M.filter(I=>I.isGoalkeeper).length;$===0||B===0?(u({teamA:F,teamB:M}),c(!0)):(i(F),a(M))},m=()=>{d&&(i(d.teamA),a(d.teamB),u(null)),c(!1)},w=()=>{const T=t.filter(F=>n.includes(F.id));if(T.length<2)return;const P=[...T].sort(()=>Math.random()-.5),R=Math.ceil(P.length/2);i(P.slice(0,R)),a(P.slice(R))},y=()=>{s.length===0||o.length===0||e({name:"Time A",players:s,score:0},{name:"Time B",players:o,score:0})},_=t.filter(T=>n.includes(T.id)).filter(T=>!s.find(P=>P.id===T.id)&&!o.find(P=>P.id===T.id)),E=T=>{i([...s,T])},C=T=>{a([...o,T])},S=T=>{i(s.filter(P=>P.id!==T))},b=T=>{a(o.filter(P=>P.id!==T))};return p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"card-elevated p-6",children:[p.jsxs("h2",{className:"font-display text-2xl text-primary mb-4 flex items-center gap-2",children:[p.jsx(Dx,{className:"w-6 h-6"}),"Selecionar Jogadores (",n.length,")"]}),p.jsx(NS,{players:t,onEdit:()=>{},onDelete:()=>{},selectable:!0,selectedIds:n,onToggleSelect:f})]}),n.length>=2&&p.jsxs("div",{className:"flex gap-2 justify-center",children:[p.jsxs(Ee,{onClick:x,className:"btn-primary",children:[p.jsx(vN,{className:"w-4 h-4 mr-2"}),"Equilibrar Times"]}),p.jsxs(Ee,{onClick:w,variant:"outline",children:[p.jsx(Ox,{className:"w-4 h-4 mr-2"}),"Sortear"]})]}),_.length>0&&p.jsxs("div",{className:"card-elevated p-4",children:[p.jsx("h3",{className:"font-display text-lg text-primary mb-3",children:"Distribuir Manualmente"}),p.jsx("div",{className:"space-y-2",children:_.map(T=>p.jsxs("div",{className:"flex items-center justify-between p-2 bg-secondary rounded",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-medium",children:T.name}),T.isGoalkeeper&&p.jsx(it,{variant:"outline",className:"text-xs",children:""}),p.jsx(it,{variant:"outline",children:T.skillLevel})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsxs(Ee,{size:"sm",variant:"outline",onClick:()=>E(T),children:[p.jsx(hh,{className:"w-3 h-3 mr-1"})," Time A"]}),p.jsxs(Ee,{size:"sm",variant:"outline",onClick:()=>C(T),children:[p.jsx(hh,{className:"w-3 h-3 mr-1"})," Time B"]})]})]},T.id))})]}),(s.length>0||o.length>0)&&p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"card-elevated p-4 border-l-4 border-l-primary",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("h3",{className:"font-display text-xl text-primary",children:"Time A"}),p.jsxs(it,{className:"bg-primary text-primary-foreground",children:["Mdia: ",h(s)]})]}),p.jsx("div",{className:"space-y-2",children:s.map(T=>p.jsxs("div",{className:"flex items-center justify-between p-2 bg-secondary rounded group",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-medium",children:T.name}),T.isGoalkeeper&&p.jsx(it,{variant:"outline",className:"text-xs",children:""})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(it,{variant:"outline",children:T.skillLevel}),p.jsx(Ee,{size:"sm",variant:"ghost",className:"opacity-0 group-hover:opacity-100 h-6 w-6 p-0",onClick:()=>S(T.id),children:""})]})]},T.id))})]}),p.jsxs("div",{className:"card-elevated p-4 border-l-4 border-l-gold",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("h3",{className:"font-display text-xl text-gold",children:"Time B"}),p.jsxs(it,{className:"bg-gold text-foreground",children:["Mdia: ",h(o)]})]}),p.jsx("div",{className:"space-y-2",children:o.map(T=>p.jsxs("div",{className:"flex items-center justify-between p-2 bg-secondary rounded group",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-medium",children:T.name}),T.isGoalkeeper&&p.jsx(it,{variant:"outline",className:"text-xs",children:""})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(it,{variant:"outline",children:T.skillLevel}),p.jsx(Ee,{size:"sm",variant:"ghost",className:"opacity-0 group-hover:opacity-100 h-6 w-6 p-0",onClick:()=>b(T.id),children:""})]})]},T.id))})]})]}),s.length>0&&o.length>0&&p.jsx(Ee,{onClick:y,className:"w-full btn-gold py-6 text-lg font-display animate-pulse-gold",children:" INICIAR PARTIDA"}),p.jsx(r6,{open:l,onOpenChange:c,children:p.jsxs(Sb,{children:[p.jsxs(bb,{children:[p.jsx(Ib,{children:" Ateno: Distribuio de Goleiros"}),p.jsx(kb,{children:"Um ou ambos os times ficaram sem goleiro. Deseja continuar mesmo assim? Voc pode ajustar manualmente depois."})]}),p.jsxs(Tb,{children:[p.jsx(Pb,{onClick:()=>u(null),children:"Cancelar"}),p.jsx(Nb,{onClick:m,children:"Continuar"})]})]})})]})},o6=({teamA:t,teamB:e,onGoal:n,onSave:r,onEndMatch:s,onAdjustGoals:i,onAdjustSaves:o})=>{const{isAdmin:a}=mo(),[l,c]=v.useState([]),[d,u]=v.useState([]),f=(g,_)=>{n(g.name,_.id),c(E=>[...E,{teamName:g.name,playerId:_.id,playerName:_.name}])},h=(g,_)=>{r(g.name,_.id),u(E=>[...E,{teamName:g.name,playerId:_.id,playerName:_.name}])},x=g=>{const _=l.filter(C=>C.playerId===g).length,E=d.filter(C=>C.playerId===g).length;return{goals:_,saves:E}},w=(()=>{const g=[...t.players,...e.players];let _=null,E=0;return g.forEach(C=>{const S=x(C.id),b=S.goals*2+S.saves;b>E&&(E=b,_=C)}),_})(),y=({team:g,isGold:_=!1})=>p.jsxs("div",{className:`card-elevated p-4 border-t-4 ${_?"border-t-gold":"border-t-primary"}`,children:[p.jsxs("div",{className:"text-center mb-4",children:[p.jsx("h3",{className:`font-display text-2xl ${_?"text-gold":"text-primary"}`,children:g.name}),p.jsx("div",{className:`font-display text-6xl mt-2 ${_?"text-gold":"text-primary"}`,children:g.score})]}),p.jsx("div",{className:"space-y-2",children:g.players.map(E=>{const C=x(E.id);return p.jsxs("div",{className:"flex items-center gap-2 p-2 bg-secondary rounded-lg",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-medium text-sm truncate",children:E.name}),E.isGoalkeeper&&p.jsx(Dc,{className:"w-3 h-3 text-primary"}),(w==null?void 0:w.id)===E.id&&C.goals+C.saves>0&&p.jsx(Qo,{className:"w-4 h-4 text-gold animate-bounce-soft"})]}),p.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[C.goals>0&&p.jsxs("span",{children:[" ",C.goals]}),C.saves>0&&p.jsxs("span",{children:[" ",C.saves]})]})]}),p.jsxs("div",{className:"flex gap-1",children:[a&&i&&p.jsx(Ee,{size:"sm",variant:"ghost",onClick:()=>i(E.id,-1),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:p.jsx(Dv,{className:"w-3 h-3"})}),p.jsx(Ee,{size:"sm",onClick:()=>f(g,E),className:"h-8 px-2 bg-primary hover:bg-primary/80",children:p.jsx(Oc,{className:"w-4 h-4"})}),a&&i&&p.jsx(Ee,{size:"sm",variant:"ghost",onClick:()=>i(E.id,1),className:"h-8 w-8 p-0 text-green-600 hover:text-green-600",children:p.jsx(Mv,{className:"w-3 h-3"})}),E.isGoalkeeper&&p.jsxs(p.Fragment,{children:[a&&o&&p.jsx(Ee,{size:"sm",variant:"ghost",onClick:()=>o(E.id,-1),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:p.jsx(Dv,{className:"w-3 h-3"})}),p.jsx(Ee,{size:"sm",variant:"outline",onClick:()=>h(g,E),className:"h-8 px-2",children:""}),a&&o&&p.jsx(Ee,{size:"sm",variant:"ghost",onClick:()=>o(E.id,1),className:"h-8 w-8 p-0 text-green-600 hover:text-green-600",children:p.jsx(Mv,{className:"w-3 h-3"})})]})]})]},E.id)})})]});return p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"card-elevated p-6 gradient-hero text-primary-foreground text-center",children:[p.jsx("h2",{className:"font-display text-3xl mb-2",children:"PLACAR AO VIVO"}),p.jsxs("div",{className:"flex items-center justify-center gap-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"font-display text-5xl",children:t.score}),p.jsx("div",{className:"text-sm opacity-80",children:t.name})]}),p.jsx("div",{className:"font-display text-3xl opacity-50",children:""}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"font-display text-5xl",children:e.score}),p.jsx("div",{className:"text-sm opacity-80",children:e.name})]})]}),w&&l.length+d.length>0&&p.jsx("div",{className:"mt-4 pt-4 border-t border-primary-foreground/20",children:p.jsxs(it,{className:"bg-gold text-foreground animate-pulse-gold",children:[p.jsx(Qo,{className:"w-4 h-4 mr-1"}),"MVP: ",w.name]})})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsx(y,{team:t}),p.jsx(y,{team:e,isGold:!0})]}),p.jsxs(Ee,{onClick:s,variant:"outline",className:"w-full py-6 text-lg border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:[p.jsx(dN,{className:"w-5 h-5 mr-2"}),"Encerrar Partida"]})]})},a6=({players:t})=>{const e=[...t].sort((o,a)=>a.goals-o.goals),n=[...t].filter(o=>o.isGoalkeeper).sort((o,a)=>a.saves-o.saves),r=e[0],s=n[0];return t.length===0?p.jsxs("div",{className:"card-elevated p-8 text-center animate-fade-in",children:[p.jsx(Qo,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),p.jsx("p",{className:"text-muted-foreground",children:"Nenhuma estatstica ainda."}),p.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Jogue algumas partidas para ver os dados!"})]}):t.some(o=>o.goals>0||o.saves>0)?p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[((r==null?void 0:r.goals)>0||(s==null?void 0:s.saves)>0)&&p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[(r==null?void 0:r.goals)>0&&p.jsxs("div",{className:"card-elevated p-6 text-center gradient-primary text-primary-foreground",children:[p.jsx(Qo,{className:"w-10 h-10 mx-auto mb-2 text-gold"}),p.jsx("p",{className:"text-sm opacity-80",children:"Artilheiro"}),p.jsx("h3",{className:"font-display text-2xl mt-1",children:r.name}),p.jsxs(it,{className:"mt-2 bg-gold text-foreground",children:[p.jsx(Oc,{className:"w-4 h-4 mr-1"}),r.goals," gols"]})]}),(s==null?void 0:s.saves)>0&&p.jsxs("div",{className:"card-elevated p-6 text-center bg-secondary",children:[p.jsx(Dc,{className:"w-10 h-10 mx-auto mb-2 text-primary"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Goleiro Destaque"}),p.jsx("h3",{className:"font-display text-2xl mt-1 text-primary",children:s.name}),p.jsxs(it,{className:"mt-2 bg-primary text-primary-foreground",children:[" ",s.saves," defesas"]})]})]}),p.jsxs("div",{className:"card-elevated p-6",children:[p.jsxs("h3",{className:"font-display text-xl text-primary mb-4 flex items-center gap-2",children:[p.jsx(Oc,{className:"w-5 h-5"}),"Ranking de Gols"]}),p.jsx("div",{className:"space-y-2",children:e.slice(0,10).map((o,a)=>p.jsxs("div",{className:"flex items-center gap-3 p-3 bg-secondary rounded-lg",children:[p.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold ${a===0?"bg-gold text-foreground":a===1?"bg-muted-foreground/30 text-foreground":a===2?"bg-burgundy-light text-primary-foreground":"bg-muted text-muted-foreground"}`,children:a+1}),p.jsx("span",{className:"flex-1 font-medium",children:o.name}),p.jsx(it,{variant:"outline",className:"font-bold",children:o.goals})]},o.id))})]}),n.length>0&&p.jsxs("div",{className:"card-elevated p-6",children:[p.jsxs("h3",{className:"font-display text-xl text-primary mb-4 flex items-center gap-2",children:[p.jsx(Dc,{className:"w-5 h-5"}),"Ranking de Defesas"]}),p.jsx("div",{className:"space-y-2",children:n.slice(0,5).map((o,a)=>p.jsxs("div",{className:"flex items-center gap-3 p-3 bg-secondary rounded-lg",children:[p.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold ${a===0?"bg-gold text-foreground":"bg-muted text-muted-foreground"}`,children:a+1}),p.jsx("span",{className:"flex-1 font-medium",children:o.name}),p.jsx(it,{variant:"outline",className:"font-bold",children:o.saves})]},o.id))})]})]}):p.jsxs("div",{className:"card-elevated p-8 text-center animate-fade-in",children:[p.jsx(Qo,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),p.jsx("p",{className:"text-muted-foreground",children:"Nenhum gol ou defesa registrado."}),p.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Inicie uma partida e registre os eventos!"})]})},l6=()=>{const{isAdmin:t}=mo(),{data:e}=X4("players"),n=e?Object.values(e).map(n3):[],r=n.filter(E=>E.active!==!1),[s,i]=v.useState("players"),[o,a]=v.useState(null),[l,c]=v.useState(null),d=v.useCallback(async E=>{try{await J4(E.name,E.skillLevel,E.isGoalkeeper),je.success(`${E.name} adicionado!`)}catch{je.error("Erro ao adicionar jogador")}},[]),u=v.useCallback(async E=>{if(!t){je.error("Apenas administradores podem editar jogadores");return}try{await Ll(E.id,{name:E.name,skill_level:E.skillLevel,is_goalkeeper:E.isGoalkeeper,active:E.active,goals:E.goals,saves:E.saves}),a(null),je.success(`${E.name} atualizado!`)}catch{je.error("Erro ao atualizar jogador")}},[t]),f=v.useCallback(async E=>{if(!t){je.error("Apenas administradores podem desativar jogadores");return}try{const C=n.find(S=>S.id===E);await e3(E),je.success(`${C==null?void 0:C.name} desativado!`)}catch{je.error("Erro ao desativar jogador")}},[n,t]),h=v.useCallback(async E=>{if(!t){je.error("Apenas administradores podem reativar jogadores");return}try{const C=n.find(S=>S.id===E);await t3(E),je.success(`${C==null?void 0:C.name} reativado!`)}catch{je.error("Erro ao reativar jogador")}},[n,t]),x=v.useCallback((E,C)=>{c({teamA:E,teamB:C}),i("match"),je.success("Partida iniciada! Boa pelada! ")},[]),m=v.useCallback(async(E,C)=>{if(!l)return;const S=n.find(b=>b.id===C);S&&await Z4(C,S.goals+1),c(b=>b?E===b.teamA.name?{...b,teamA:{...b.teamA,score:b.teamA.score+1}}:{...b,teamB:{...b.teamB,score:b.teamB.score+1}}:null),je.success(` GOL! ${S==null?void 0:S.name}`)},[l,n]),w=v.useCallback(async(E,C)=>{const S=n.find(b=>b.id===C);S&&await Ll(C,{saves:S.saves+1}),je.success(` Defesa! ${S==null?void 0:S.name}`)},[n]),y=v.useCallback(async(E,C)=>{if(!t||!l)return;const S=n.find(b=>b.id===E);if(S){const b=Math.max(0,S.goals+C);await Ll(E,{goals:b}),c(T=>{if(!T)return null;const P=T.teamA.players.some(F=>F.id===E),R=T.teamB.players.some(F=>F.id===E);return P?{...T,teamA:{...T.teamA,score:Math.max(0,T.teamA.score+C)}}:R?{...T,teamB:{...T.teamB,score:Math.max(0,T.teamB.score+C)}}:T}),je.success(`Gols de ${S.name}: ${b}`)}},[n,t,l]),g=v.useCallback(async(E,C)=>{if(!t)return;const S=n.find(b=>b.id===E);if(S){const b=Math.max(0,S.saves+C);await Ll(E,{saves:b}),je.success(`Defesas de ${S.name}: ${b}`)}},[n,t]),_=v.useCallback(()=>{if(l){const E=l.teamA.score>l.teamB.score?l.teamA.name:l.teamB.score>l.teamA.score?l.teamB.name:"Empate";je.success(E==="Empate"?"Partida encerrada! Foi empate!":`Partida encerrada! ${E} venceu!`)}c(null),i("stats")},[l]);return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(r3,{}),p.jsx(s3,{activeTab:s,onTabChange:i,matchActive:!!l}),p.jsxs("main",{className:"container mx-auto py-6 px-4",children:[s==="players"&&p.jsxs("div",{className:"grid md:grid-cols-[350px_1fr] gap-6",children:[p.jsx(A3,{onAddPlayer:d,editingPlayer:o,onUpdatePlayer:u,onCancelEdit:()=>a(null)}),p.jsxs("div",{children:[p.jsxs("h2",{className:"font-display text-2xl text-primary mb-4",children:["Jogadores Cadastrados (",n.length,")"]}),p.jsx(NS,{players:n,onEdit:a,onDelete:f,onReactivate:h,showActions:t})]})]}),s==="teams"&&p.jsx(i6,{players:r,onTeamsCreated:x}),s==="match"&&l&&p.jsx(o6,{teamA:l.teamA,teamB:l.teamB,onGoal:m,onSave:w,onEndMatch:_,onAdjustGoals:y,onAdjustSaves:g}),s==="stats"&&p.jsx(a6,{players:r})]})]})},c6=()=>{const t=LE();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),p.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},u6=new WA,d6=()=>p.jsx(HA,{client:u6,children:p.jsxs(_A,{children:[p.jsx(tP,{}),p.jsx(OP,{}),p.jsx(PO,{children:p.jsx(G4,{children:p.jsxs(IO,{children:[p.jsx(Sh,{path:"/jumentus-foot-fc",element:p.jsx(Y4,{children:p.jsx(l6,{})})}),p.jsx(Sh,{path:"*",element:p.jsx(c6,{})})]})})})]})});tx(document.getElementById("root")).render(p.jsx(d6,{}));
